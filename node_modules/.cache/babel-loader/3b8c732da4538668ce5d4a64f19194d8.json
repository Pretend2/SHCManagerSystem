{"ast":null,"code":"import { defineComponent, watchEffect, onBeforeMount, onUnmounted, inject } from 'vue';\nimport { merge } from 'lodash-es';\nimport { warn } from '../../_utils';\nimport { commonLight } from '../../_styles/common';\nimport { configProviderInjectionKey } from '../../config-provider/src/context';\nexport default defineComponent({\n  name: 'GlobalStyle',\n\n  setup() {\n    if (typeof document === 'undefined') return; // TODO: inject style for SSR\n\n    const NConfigProvider = inject(configProviderInjectionKey, null);\n    const {\n      body\n    } = document;\n    const {\n      style\n    } = body;\n    let styleApplied = false;\n    let firstApply = true;\n    onBeforeMount(() => {\n      watchEffect(() => {\n        var _a, _b;\n\n        const {\n          textColor2,\n          fontSize,\n          fontFamily,\n          bodyColor,\n          cubicBezierEaseInOut,\n          lineHeight\n        } = NConfigProvider ? merge({}, ((_a = NConfigProvider.mergedThemeRef.value) === null || _a === void 0 ? void 0 : _a.common) || commonLight, (_b = NConfigProvider.mergedThemeOverridesRef.value) === null || _b === void 0 ? void 0 : _b.common) : commonLight;\n\n        if (styleApplied || !body.hasAttribute('n-styled')) {\n          style.setProperty('-webkit-text-size-adjust', '100%');\n          style.setProperty('-webkit-tap-highlight-color', 'transparent');\n          style.padding = '0';\n          style.margin = '0';\n          style.backgroundColor = bodyColor;\n          style.color = textColor2;\n          style.fontSize = fontSize;\n          style.fontFamily = fontFamily;\n          style.lineHeight = lineHeight;\n          const transition = `color .3s ${cubicBezierEaseInOut}, background-color .3s ${cubicBezierEaseInOut}`;\n\n          if (firstApply) {\n            setTimeout(() => {\n              style.transition = transition;\n            }, 0);\n          } else {\n            style.transition = transition;\n          }\n\n          body.setAttribute('n-styled', '');\n          styleApplied = true;\n          firstApply = false;\n        } else if (process.env.NODE_ENV !== 'production') {\n          warn('global-style', 'More than one n-global-style exist in the document.body. Only the first mounted one will work.');\n        }\n      });\n    });\n    onUnmounted(() => {\n      if (styleApplied) {\n        body.removeAttribute('n-styled');\n      }\n    });\n  },\n\n  render() {\n    return null;\n  }\n\n});","map":{"version":3,"names":["defineComponent","watchEffect","onBeforeMount","onUnmounted","inject","merge","warn","commonLight","configProviderInjectionKey","name","setup","document","NConfigProvider","body","style","styleApplied","firstApply","_a","_b","textColor2","fontSize","fontFamily","bodyColor","cubicBezierEaseInOut","lineHeight","mergedThemeRef","value","common","mergedThemeOverridesRef","hasAttribute","setProperty","padding","margin","backgroundColor","color","transition","setTimeout","setAttribute","process","env","NODE_ENV","removeAttribute","render"],"sources":["D:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/global-style/src/GlobalStyle.js"],"sourcesContent":["import { defineComponent, watchEffect, onBeforeMount, onUnmounted, inject } from 'vue';\nimport { merge } from 'lodash-es';\nimport { warn } from '../../_utils';\nimport { commonLight } from '../../_styles/common';\nimport { configProviderInjectionKey } from '../../config-provider/src/context';\nexport default defineComponent({\n    name: 'GlobalStyle',\n    setup() {\n        if (typeof document === 'undefined')\n            return; // TODO: inject style for SSR\n        const NConfigProvider = inject(configProviderInjectionKey, null);\n        const { body } = document;\n        const { style } = body;\n        let styleApplied = false;\n        let firstApply = true;\n        onBeforeMount(() => {\n            watchEffect(() => {\n                var _a, _b;\n                const { textColor2, fontSize, fontFamily, bodyColor, cubicBezierEaseInOut, lineHeight } = NConfigProvider\n                    ? merge({}, ((_a = NConfigProvider.mergedThemeRef.value) === null || _a === void 0 ? void 0 : _a.common) || commonLight, (_b = NConfigProvider.mergedThemeOverridesRef.value) === null || _b === void 0 ? void 0 : _b.common)\n                    : commonLight;\n                if (styleApplied || !body.hasAttribute('n-styled')) {\n                    style.setProperty('-webkit-text-size-adjust', '100%');\n                    style.setProperty('-webkit-tap-highlight-color', 'transparent');\n                    style.padding = '0';\n                    style.margin = '0';\n                    style.backgroundColor = bodyColor;\n                    style.color = textColor2;\n                    style.fontSize = fontSize;\n                    style.fontFamily = fontFamily;\n                    style.lineHeight = lineHeight;\n                    const transition = `color .3s ${cubicBezierEaseInOut}, background-color .3s ${cubicBezierEaseInOut}`;\n                    if (firstApply) {\n                        setTimeout(() => {\n                            style.transition = transition;\n                        }, 0);\n                    }\n                    else {\n                        style.transition = transition;\n                    }\n                    body.setAttribute('n-styled', '');\n                    styleApplied = true;\n                    firstApply = false;\n                }\n                else if (process.env.NODE_ENV !== 'production') {\n                    warn('global-style', 'More than one n-global-style exist in the document.body. Only the first mounted one will work.');\n                }\n            });\n        });\n        onUnmounted(() => {\n            if (styleApplied) {\n                body.removeAttribute('n-styled');\n            }\n        });\n    },\n    render() {\n        return null;\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}