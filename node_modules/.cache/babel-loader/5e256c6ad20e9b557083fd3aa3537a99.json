{"ast":null,"code":"import { inject, computed } from 'vue';\nimport { menuInjectionKey, submenuInjectionKey, menuItemGroupInjectionKey } from './context';\nconst ICON_MARGIN_RIGHT = 8;\nexport function useMenuChild(props) {\n  // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n  const NMenu = inject(menuInjectionKey);\n  const {\n    props: menuProps,\n    mergedCollapsedRef\n  } = NMenu;\n  const NSubmenu = inject(submenuInjectionKey, null);\n  const NMenuOptionGroup = inject(menuItemGroupInjectionKey, null);\n  const horizontalRef = computed(() => {\n    return menuProps.mode === 'horizontal';\n  });\n  const dropdownPlacementRef = computed(() => {\n    if (horizontalRef.value) {\n      return menuProps.dropdownPlacement;\n    }\n\n    if ('tmNodes' in props) return 'right-start';\n    return 'right';\n  });\n  const maxIconSizeRef = computed(() => {\n    var _a;\n\n    return Math.max((_a = menuProps.collapsedIconSize) !== null && _a !== void 0 ? _a : menuProps.iconSize, menuProps.iconSize);\n  });\n  const activeIconSizeRef = computed(() => {\n    var _a;\n\n    if (!horizontalRef.value && props.root && mergedCollapsedRef.value) {\n      return (_a = menuProps.collapsedIconSize) !== null && _a !== void 0 ? _a : menuProps.iconSize;\n    } else {\n      return menuProps.iconSize;\n    }\n  });\n  const paddingLeftRef = computed(() => {\n    if (horizontalRef.value) return undefined;\n    const {\n      collapsedWidth,\n      indent,\n      rootIndent\n    } = menuProps;\n    const {\n      root,\n      isGroup\n    } = props;\n    const mergedRootIndent = rootIndent === undefined ? indent : rootIndent;\n\n    if (root) {\n      if (mergedCollapsedRef.value) {\n        return collapsedWidth / 2 - maxIconSizeRef.value / 2;\n      }\n\n      return mergedRootIndent;\n    }\n\n    if (NMenuOptionGroup) {\n      return indent / 2 + NMenuOptionGroup.paddingLeftRef.value;\n    }\n\n    if (NSubmenu) {\n      return (isGroup ? indent / 2 : indent) + NSubmenu.paddingLeftRef.value;\n    }\n\n    return undefined;\n  });\n  const iconMarginRightRef = computed(() => {\n    const {\n      collapsedWidth,\n      indent,\n      rootIndent\n    } = menuProps;\n    const {\n      value: maxIconSize\n    } = maxIconSizeRef;\n    const {\n      root\n    } = props;\n    if (horizontalRef.value) return ICON_MARGIN_RIGHT;\n    if (!root) return ICON_MARGIN_RIGHT;\n    if (!mergedCollapsedRef.value) return ICON_MARGIN_RIGHT;\n    const mergedRootIndent = rootIndent === undefined ? indent : rootIndent;\n    return mergedRootIndent + maxIconSize + ICON_MARGIN_RIGHT - (collapsedWidth + maxIconSize) / 2;\n  });\n  return {\n    dropdownPlacement: dropdownPlacementRef,\n    activeIconSize: activeIconSizeRef,\n    maxIconSize: maxIconSizeRef,\n    paddingLeft: paddingLeftRef,\n    iconMarginRight: iconMarginRightRef,\n    NMenu,\n    NSubmenu\n  };\n}","map":{"version":3,"names":["inject","computed","menuInjectionKey","submenuInjectionKey","menuItemGroupInjectionKey","ICON_MARGIN_RIGHT","useMenuChild","props","NMenu","menuProps","mergedCollapsedRef","NSubmenu","NMenuOptionGroup","horizontalRef","mode","dropdownPlacementRef","value","dropdownPlacement","maxIconSizeRef","_a","Math","max","collapsedIconSize","iconSize","activeIconSizeRef","root","paddingLeftRef","undefined","collapsedWidth","indent","rootIndent","isGroup","mergedRootIndent","iconMarginRightRef","maxIconSize","activeIconSize","paddingLeft","iconMarginRight"],"sources":["D:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/menu/src/use-menu-child.js"],"sourcesContent":["import { inject, computed } from 'vue';\nimport { menuInjectionKey, submenuInjectionKey, menuItemGroupInjectionKey } from './context';\nconst ICON_MARGIN_RIGHT = 8;\nexport function useMenuChild(props) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NMenu = inject(menuInjectionKey);\n    const { props: menuProps, mergedCollapsedRef } = NMenu;\n    const NSubmenu = inject(submenuInjectionKey, null);\n    const NMenuOptionGroup = inject(menuItemGroupInjectionKey, null);\n    const horizontalRef = computed(() => {\n        return menuProps.mode === 'horizontal';\n    });\n    const dropdownPlacementRef = computed(() => {\n        if (horizontalRef.value) {\n            return menuProps.dropdownPlacement;\n        }\n        if ('tmNodes' in props)\n            return 'right-start';\n        return 'right';\n    });\n    const maxIconSizeRef = computed(() => {\n        var _a;\n        return Math.max((_a = menuProps.collapsedIconSize) !== null && _a !== void 0 ? _a : menuProps.iconSize, menuProps.iconSize);\n    });\n    const activeIconSizeRef = computed(() => {\n        var _a;\n        if (!horizontalRef.value && props.root && mergedCollapsedRef.value) {\n            return (_a = menuProps.collapsedIconSize) !== null && _a !== void 0 ? _a : menuProps.iconSize;\n        }\n        else {\n            return menuProps.iconSize;\n        }\n    });\n    const paddingLeftRef = computed(() => {\n        if (horizontalRef.value)\n            return undefined;\n        const { collapsedWidth, indent, rootIndent } = menuProps;\n        const { root, isGroup } = props;\n        const mergedRootIndent = rootIndent === undefined ? indent : rootIndent;\n        if (root) {\n            if (mergedCollapsedRef.value) {\n                return collapsedWidth / 2 - maxIconSizeRef.value / 2;\n            }\n            return mergedRootIndent;\n        }\n        if (NMenuOptionGroup) {\n            return indent / 2 + NMenuOptionGroup.paddingLeftRef.value;\n        }\n        if (NSubmenu) {\n            return ((isGroup ? indent / 2 : indent) +\n                NSubmenu.paddingLeftRef.value);\n        }\n        return undefined;\n    });\n    const iconMarginRightRef = computed(() => {\n        const { collapsedWidth, indent, rootIndent } = menuProps;\n        const { value: maxIconSize } = maxIconSizeRef;\n        const { root } = props;\n        if (horizontalRef.value)\n            return ICON_MARGIN_RIGHT;\n        if (!root)\n            return ICON_MARGIN_RIGHT;\n        if (!mergedCollapsedRef.value)\n            return ICON_MARGIN_RIGHT;\n        const mergedRootIndent = rootIndent === undefined ? indent : rootIndent;\n        return (mergedRootIndent +\n            maxIconSize +\n            ICON_MARGIN_RIGHT -\n            (collapsedWidth + maxIconSize) / 2);\n    });\n    return {\n        dropdownPlacement: dropdownPlacementRef,\n        activeIconSize: activeIconSizeRef,\n        maxIconSize: maxIconSizeRef,\n        paddingLeft: paddingLeftRef,\n        iconMarginRight: iconMarginRightRef,\n        NMenu,\n        NSubmenu\n    };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}