{"ast":null,"code":"import { h, defineComponent, computed, ref, provide } from 'vue';\nimport { NScrollbar } from '../../_internal';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { createInjectionKey, useReactivated } from '../../_utils';\nimport { layoutLight } from '../styles';\nimport { positionProp } from './interface';\nimport style from './styles/layout.cssr';\nexport const layoutProps = {\n  embedded: Boolean,\n  position: positionProp,\n  nativeScrollbar: {\n    type: Boolean,\n    default: true\n  },\n  scrollbarProps: Object,\n  onScroll: Function,\n  contentStyle: {\n    type: [String, Object],\n    default: ''\n  },\n  hasSider: Boolean,\n  siderPlacement: {\n    type: String,\n    default: 'left'\n  }\n};\nexport const layoutInjectionKey = createInjectionKey('n-layout'); // eslint-disable-next-line @typescript-eslint/explicit-function-return-type\n\nexport function createLayoutComponent(isContent) {\n  return defineComponent({\n    name: isContent ? 'LayoutContent' : 'Layout',\n    props: Object.assign(Object.assign({}, useTheme.props), layoutProps),\n\n    setup(props) {\n      const scrollableElRef = ref(null);\n      const scrollbarInstRef = ref(null);\n      const {\n        mergedClsPrefixRef,\n        inlineThemeDisabled\n      } = useConfig(props);\n      const themeRef = useTheme('Layout', '-layout', style, layoutLight, props, mergedClsPrefixRef);\n\n      function scrollTo(options, y) {\n        if (props.nativeScrollbar) {\n          const {\n            value: scrollableEl\n          } = scrollableElRef;\n\n          if (scrollableEl) {\n            if (y === undefined) {\n              scrollableEl.scrollTo(options);\n            } else {\n              scrollableEl.scrollTo(options, y);\n            }\n          }\n        } else {\n          const {\n            value: scrollbarInst\n          } = scrollbarInstRef;\n\n          if (scrollbarInst) {\n            scrollbarInst.scrollTo(options, y);\n          }\n        }\n      }\n\n      provide(layoutInjectionKey, props);\n      let scrollX = 0;\n      let scrollY = 0;\n\n      const handleNativeElScroll = e => {\n        var _a;\n\n        const target = e.target;\n        scrollX = target.scrollLeft;\n        scrollY = target.scrollTop;\n        (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n      };\n\n      useReactivated(() => {\n        if (props.nativeScrollbar) {\n          const el = scrollableElRef.value;\n\n          if (el) {\n            el.scrollTop = scrollY;\n            el.scrollLeft = scrollX;\n          }\n        }\n      });\n      const hasSiderStyle = {\n        display: 'flex',\n        flexWrap: 'nowrap',\n        width: '100%',\n        flexDirection: 'row'\n      };\n      const exposedMethods = {\n        scrollTo\n      };\n      const cssVarsRef = computed(() => {\n        const {\n          common: {\n            cubicBezierEaseInOut\n          },\n          self\n        } = themeRef.value;\n        return {\n          '--n-bezier': cubicBezierEaseInOut,\n          '--n-color': props.embedded ? self.colorEmbedded : self.color,\n          '--n-text-color': self.textColor\n        };\n      });\n      const themeClassHandle = inlineThemeDisabled ? useThemeClass('layout', computed(() => {\n        return props.embedded ? 'e' : '';\n      }), cssVarsRef, props) : undefined;\n      return Object.assign({\n        mergedClsPrefix: mergedClsPrefixRef,\n        scrollableElRef,\n        scrollbarInstRef,\n        hasSiderStyle,\n        mergedTheme: themeRef,\n        handleNativeElScroll,\n        cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n        themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n        onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n      }, exposedMethods);\n    },\n\n    render() {\n      var _a;\n\n      const {\n        mergedClsPrefix,\n        hasSider\n      } = this;\n      (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n      const hasSiderStyle = hasSider ? this.hasSiderStyle : undefined;\n      const layoutClass = [this.themeClass, isContent && `${mergedClsPrefix}-layout-content`, `${mergedClsPrefix}-layout`, `${mergedClsPrefix}-layout--${this.position}-positioned`];\n      return h(\"div\", {\n        class: layoutClass,\n        style: this.cssVars\n      }, this.nativeScrollbar ? h(\"div\", {\n        ref: \"scrollableElRef\",\n        class: `${mergedClsPrefix}-layout-scroll-container`,\n        style: [this.contentStyle, hasSiderStyle],\n        onScroll: this.handleNativeElScroll\n      }, this.$slots) : h(NScrollbar, Object.assign({}, this.scrollbarProps, {\n        onScroll: this.onScroll,\n        ref: \"scrollbarInstRef\",\n        theme: this.mergedTheme.peers.Scrollbar,\n        themeOverrides: this.mergedTheme.peerOverrides.Scrollbar,\n        contentStyle: [this.contentStyle, hasSiderStyle]\n      }), this.$slots));\n    }\n\n  });\n}\nexport default createLayoutComponent(false);","map":{"version":3,"names":["h","defineComponent","computed","ref","provide","NScrollbar","useConfig","useTheme","useThemeClass","createInjectionKey","useReactivated","layoutLight","positionProp","style","layoutProps","embedded","Boolean","position","nativeScrollbar","type","default","scrollbarProps","Object","onScroll","Function","contentStyle","String","hasSider","siderPlacement","layoutInjectionKey","createLayoutComponent","isContent","name","props","assign","setup","scrollableElRef","scrollbarInstRef","mergedClsPrefixRef","inlineThemeDisabled","themeRef","scrollTo","options","y","value","scrollableEl","undefined","scrollbarInst","scrollX","scrollY","handleNativeElScroll","e","_a","target","scrollLeft","scrollTop","call","el","hasSiderStyle","display","flexWrap","width","flexDirection","exposedMethods","cssVarsRef","common","cubicBezierEaseInOut","self","colorEmbedded","color","textColor","themeClassHandle","mergedClsPrefix","mergedTheme","cssVars","themeClass","onRender","render","layoutClass","class","$slots","theme","peers","Scrollbar","themeOverrides","peerOverrides"],"sources":["D:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/layout/src/Layout.js"],"sourcesContent":["import { h, defineComponent, computed, ref, provide } from 'vue';\nimport { NScrollbar } from '../../_internal';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { createInjectionKey, useReactivated } from '../../_utils';\nimport { layoutLight } from '../styles';\nimport { positionProp } from './interface';\nimport style from './styles/layout.cssr';\nexport const layoutProps = {\n    embedded: Boolean,\n    position: positionProp,\n    nativeScrollbar: {\n        type: Boolean,\n        default: true\n    },\n    scrollbarProps: Object,\n    onScroll: Function,\n    contentStyle: {\n        type: [String, Object],\n        default: ''\n    },\n    hasSider: Boolean,\n    siderPlacement: {\n        type: String,\n        default: 'left'\n    }\n};\nexport const layoutInjectionKey = createInjectionKey('n-layout');\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function createLayoutComponent(isContent) {\n    return defineComponent({\n        name: isContent ? 'LayoutContent' : 'Layout',\n        props: Object.assign(Object.assign({}, useTheme.props), layoutProps),\n        setup(props) {\n            const scrollableElRef = ref(null);\n            const scrollbarInstRef = ref(null);\n            const { mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n            const themeRef = useTheme('Layout', '-layout', style, layoutLight, props, mergedClsPrefixRef);\n            function scrollTo(options, y) {\n                if (props.nativeScrollbar) {\n                    const { value: scrollableEl } = scrollableElRef;\n                    if (scrollableEl) {\n                        if (y === undefined) {\n                            scrollableEl.scrollTo(options);\n                        }\n                        else {\n                            scrollableEl.scrollTo(options, y);\n                        }\n                    }\n                }\n                else {\n                    const { value: scrollbarInst } = scrollbarInstRef;\n                    if (scrollbarInst) {\n                        scrollbarInst.scrollTo(options, y);\n                    }\n                }\n            }\n            provide(layoutInjectionKey, props);\n            let scrollX = 0;\n            let scrollY = 0;\n            const handleNativeElScroll = (e) => {\n                var _a;\n                const target = e.target;\n                scrollX = target.scrollLeft;\n                scrollY = target.scrollTop;\n                (_a = props.onScroll) === null || _a === void 0 ? void 0 : _a.call(props, e);\n            };\n            useReactivated(() => {\n                if (props.nativeScrollbar) {\n                    const el = scrollableElRef.value;\n                    if (el) {\n                        el.scrollTop = scrollY;\n                        el.scrollLeft = scrollX;\n                    }\n                }\n            });\n            const hasSiderStyle = {\n                display: 'flex',\n                flexWrap: 'nowrap',\n                width: '100%',\n                flexDirection: 'row'\n            };\n            const exposedMethods = {\n                scrollTo\n            };\n            const cssVarsRef = computed(() => {\n                const { common: { cubicBezierEaseInOut }, self } = themeRef.value;\n                return {\n                    '--n-bezier': cubicBezierEaseInOut,\n                    '--n-color': props.embedded ? self.colorEmbedded : self.color,\n                    '--n-text-color': self.textColor\n                };\n            });\n            const themeClassHandle = inlineThemeDisabled\n                ? useThemeClass('layout', computed(() => {\n                    return props.embedded ? 'e' : '';\n                }), cssVarsRef, props)\n                : undefined;\n            return Object.assign({ mergedClsPrefix: mergedClsPrefixRef, scrollableElRef,\n                scrollbarInstRef,\n                hasSiderStyle, mergedTheme: themeRef, handleNativeElScroll, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender }, exposedMethods);\n        },\n        render() {\n            var _a;\n            const { mergedClsPrefix, hasSider } = this;\n            (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n            const hasSiderStyle = hasSider ? this.hasSiderStyle : undefined;\n            const layoutClass = [\n                this.themeClass,\n                isContent && `${mergedClsPrefix}-layout-content`,\n                `${mergedClsPrefix}-layout`,\n                `${mergedClsPrefix}-layout--${this.position}-positioned`\n            ];\n            return (h(\"div\", { class: layoutClass, style: this.cssVars }, this.nativeScrollbar ? (h(\"div\", { ref: \"scrollableElRef\", class: `${mergedClsPrefix}-layout-scroll-container`, style: [this.contentStyle, hasSiderStyle], onScroll: this.handleNativeElScroll }, this.$slots)) : (h(NScrollbar, Object.assign({}, this.scrollbarProps, { onScroll: this.onScroll, ref: \"scrollbarInstRef\", theme: this.mergedTheme.peers.Scrollbar, themeOverrides: this.mergedTheme.peerOverrides.Scrollbar, contentStyle: [this.contentStyle, hasSiderStyle] }), this.$slots))));\n        }\n    });\n}\nexport default createLayoutComponent(false);\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}