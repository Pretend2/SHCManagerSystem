{"ast":null,"code":"import { h, ref, computed, createTextVNode, defineComponent, provide, toRef, cloneVNode, watchEffect, withDirectives } from 'vue';\nimport { VBinder, VTarget } from 'vueuc';\nimport { useMergedState, useCompitable, useIsMounted, useMemo } from 'vooks';\nimport { zindexable } from 'vdirs';\nimport { call, keep, getFirstSlotVNode, warnOnce, useAdjustedTo } from '../../_utils';\nimport { useTheme } from '../../_mixins';\nimport NPopoverBody, { popoverBodyProps } from './PopoverBody';\nconst bodyPropKeys = Object.keys(popoverBodyProps);\nconst triggerEventMap = {\n  focus: ['onFocus', 'onBlur'],\n  click: ['onClick'],\n  hover: ['onMouseenter', 'onMouseleave'],\n  manual: [],\n  nested: ['onFocus', 'onBlur', 'onMouseenter', 'onMouseleave', 'onClick']\n};\n\nfunction appendEvents(vNode, trigger, events) {\n  triggerEventMap[trigger].forEach(eventName => {\n    if (!vNode.props) vNode.props = {};else {\n      vNode.props = Object.assign({}, vNode.props);\n    }\n    const originalHandler = vNode.props[eventName];\n    const handler = events[eventName];\n    if (!originalHandler) vNode.props[eventName] = handler;else {\n      vNode.props[eventName] = (...args) => {\n        originalHandler(...args);\n        handler(...args);\n      };\n    }\n  });\n}\n\nconst textVNodeType = createTextVNode('').type;\nexport const popoverBaseProps = {\n  show: {\n    type: Boolean,\n    default: undefined\n  },\n  defaultShow: Boolean,\n  showArrow: {\n    type: Boolean,\n    default: true\n  },\n  trigger: {\n    type: String,\n    default: 'hover'\n  },\n  delay: {\n    type: Number,\n    default: 100\n  },\n  duration: {\n    type: Number,\n    default: 100\n  },\n  raw: Boolean,\n  placement: {\n    type: String,\n    default: 'top'\n  },\n  x: Number,\n  y: Number,\n  arrowPointToCenter: Boolean,\n  disabled: Boolean,\n  getDisabled: Function,\n  displayDirective: {\n    type: String,\n    default: 'if'\n  },\n  arrowStyle: [String, Object],\n  flip: {\n    type: Boolean,\n    default: true\n  },\n  animated: {\n    type: Boolean,\n    default: true\n  },\n  width: {\n    type: [Number, String],\n    default: undefined\n  },\n  overlap: Boolean,\n  keepAliveOnHover: {\n    type: Boolean,\n    default: true\n  },\n  zIndex: Number,\n  to: useAdjustedTo.propTo,\n  scrollable: Boolean,\n  contentStyle: [Object, String],\n  headerStyle: [Object, String],\n  footerStyle: [Object, String],\n  // events\n  onClickoutside: Function,\n  'onUpdate:show': [Function, Array],\n  onUpdateShow: [Function, Array],\n  // internal\n  internalDeactivateImmediately: Boolean,\n  internalSyncTargetWithParent: Boolean,\n  internalInheritedEventHandlers: {\n    type: Array,\n    default: () => []\n  },\n  internalTrapFocus: Boolean,\n  internalExtraClass: {\n    type: Array,\n    default: () => []\n  },\n  // deprecated\n  onShow: [Function, Array],\n  onHide: [Function, Array],\n  arrow: {\n    type: Boolean,\n    default: undefined\n  },\n  minWidth: Number,\n  maxWidth: Number\n};\nexport const popoverProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), popoverBaseProps), {\n  internalOnAfterLeave: Function,\n  internalRenderBody: Function\n});\nexport default defineComponent({\n  name: 'Popover',\n  inheritAttrs: false,\n  props: popoverProps,\n  __popover__: true,\n\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.maxWidth !== undefined) {\n          warnOnce('popover', '`max-width` is deprecated, please use `style` instead.');\n        }\n\n        if (props.minWidth !== undefined) {\n          warnOnce('popover', '`min-width` is deprecated, please use `style` instead.');\n        }\n\n        if (props.arrow !== undefined) {\n          warnOnce('popover', '`arrow` is deprecated, please use `showArrow` instead.');\n        }\n\n        if (props.onHide !== undefined) {\n          warnOnce('popover', '`on-hide` is deprecated, please use `on-update:show` instead.');\n        }\n\n        if (props.onShow !== undefined) {\n          warnOnce('popover', '`on-show` is deprecated, please use `on-update:show` instead.');\n        }\n      });\n    }\n\n    const isMountedRef = useIsMounted();\n    const binderInstRef = ref(null); // setup show\n\n    const controlledShowRef = computed(() => props.show);\n    const uncontrolledShowRef = ref(props.defaultShow);\n    const mergedShowWithoutDisabledRef = useMergedState(controlledShowRef, uncontrolledShowRef);\n    const mergedShowConsideringDisabledPropRef = useMemo(() => {\n      if (props.disabled) return false;\n      return mergedShowWithoutDisabledRef.value;\n    });\n\n    const getMergedDisabled = () => {\n      if (props.disabled) return true;\n      const {\n        getDisabled\n      } = props;\n      if (getDisabled === null || getDisabled === void 0 ? void 0 : getDisabled()) return true;\n      return false;\n    };\n\n    const getMergedShow = () => {\n      if (getMergedDisabled()) return false;\n      return mergedShowWithoutDisabledRef.value;\n    }; // setup show-arrow\n\n\n    const compatibleShowArrowRef = useCompitable(props, ['arrow', 'showArrow']);\n    const mergedShowArrowRef = computed(() => {\n      if (props.overlap) return false;\n      return compatibleShowArrowRef.value;\n    }); // bodyInstance\n\n    let bodyInstance = null;\n    const showTimerIdRef = ref(null);\n    const hideTimerIdRef = ref(null);\n    const positionManuallyRef = useMemo(() => {\n      return props.x !== undefined && props.y !== undefined;\n    }); // methods\n\n    function doUpdateShow(value) {\n      const {\n        'onUpdate:show': _onUpdateShow,\n        onUpdateShow,\n        onShow,\n        onHide\n      } = props;\n      uncontrolledShowRef.value = value;\n\n      if (_onUpdateShow) {\n        call(_onUpdateShow, value);\n      }\n\n      if (onUpdateShow) {\n        call(onUpdateShow, value);\n      }\n\n      if (value && onShow) {\n        call(onShow, true);\n      }\n\n      if (value && onHide) {\n        call(onHide, false);\n      }\n    }\n\n    function syncPosition() {\n      if (bodyInstance) {\n        bodyInstance.syncPosition();\n      }\n    }\n\n    function clearShowTimer() {\n      const {\n        value: showTimerId\n      } = showTimerIdRef;\n\n      if (showTimerId) {\n        window.clearTimeout(showTimerId);\n        showTimerIdRef.value = null;\n      }\n    }\n\n    function clearHideTimer() {\n      const {\n        value: hideTimerId\n      } = hideTimerIdRef;\n\n      if (hideTimerId) {\n        window.clearTimeout(hideTimerId);\n        hideTimerIdRef.value = null;\n      }\n    }\n\n    function handleFocus() {\n      const mergedDisabled = getMergedDisabled();\n\n      if (props.trigger === 'focus' && !mergedDisabled) {\n        if (getMergedShow()) return;\n        doUpdateShow(true);\n      }\n    }\n\n    function handleBlur() {\n      const mergedDisabled = getMergedDisabled();\n\n      if (props.trigger === 'focus' && !mergedDisabled) {\n        if (!getMergedShow()) return;\n        doUpdateShow(false);\n      }\n    }\n\n    function handleMouseEnter() {\n      const mergedDisabled = getMergedDisabled();\n\n      if (props.trigger === 'hover' && !mergedDisabled) {\n        clearHideTimer();\n        if (showTimerIdRef.value !== null) return;\n        if (getMergedShow()) return;\n\n        const delayCallback = () => {\n          doUpdateShow(true);\n          showTimerIdRef.value = null;\n        };\n\n        const {\n          delay\n        } = props;\n\n        if (delay === 0) {\n          delayCallback();\n        } else {\n          showTimerIdRef.value = window.setTimeout(delayCallback, delay);\n        }\n      }\n    }\n\n    function handleMouseLeave() {\n      const mergedDisabled = getMergedDisabled();\n\n      if (props.trigger === 'hover' && !mergedDisabled) {\n        clearShowTimer();\n        if (hideTimerIdRef.value !== null) return;\n        if (!getMergedShow()) return;\n\n        const delayedCallback = () => {\n          doUpdateShow(false);\n          hideTimerIdRef.value = null;\n        };\n\n        const {\n          duration\n        } = props;\n\n        if (duration === 0) {\n          delayedCallback();\n        } else {\n          hideTimerIdRef.value = window.setTimeout(delayedCallback, duration);\n        }\n      }\n    } // will be called in popover-content\n\n\n    function handleMouseMoveOutside() {\n      handleMouseLeave();\n    } // will be called in popover-content\n\n\n    function handleClickOutside(e) {\n      var _a;\n\n      if (!getMergedShow()) return;\n\n      if (props.trigger === 'click') {\n        clearShowTimer();\n        clearHideTimer();\n        doUpdateShow(false);\n      }\n\n      (_a = props.onClickoutside) === null || _a === void 0 ? void 0 : _a.call(props, e);\n    }\n\n    function handleClick() {\n      if (props.trigger === 'click' && !getMergedDisabled()) {\n        clearShowTimer();\n        clearHideTimer();\n        const nextShow = !getMergedShow();\n        doUpdateShow(nextShow);\n      }\n    }\n\n    function handleKeydown(e) {\n      if (!props.internalTrapFocus) return;\n\n      if (e.key === 'Escape') {\n        clearShowTimer();\n        clearHideTimer();\n        doUpdateShow(false);\n      }\n    }\n\n    function setShow(value) {\n      uncontrolledShowRef.value = value;\n    }\n\n    function getTriggerElement() {\n      var _a;\n\n      return (_a = binderInstRef.value) === null || _a === void 0 ? void 0 : _a.targetRef;\n    }\n\n    function setBodyInstance(value) {\n      bodyInstance = value;\n    }\n\n    provide('NPopover', {\n      getTriggerElement,\n      handleKeydown,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleClickOutside,\n      handleMouseMoveOutside,\n      setBodyInstance,\n      positionManuallyRef,\n      isMountedRef,\n      zIndexRef: toRef(props, 'zIndex'),\n      extraClassRef: toRef(props, 'internalExtraClass'),\n      internalRenderBodyRef: toRef(props, 'internalRenderBody')\n    });\n    return {\n      binderInstRef,\n      positionManually: positionManuallyRef,\n      mergedShowConsideringDisabledProp: mergedShowConsideringDisabledPropRef,\n      // if to show popover body\n      uncontrolledShow: uncontrolledShowRef,\n      mergedShowArrow: mergedShowArrowRef,\n      getMergedShow,\n      setShow,\n      handleClick,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleFocus,\n      handleBlur,\n      syncPosition\n    };\n  },\n\n  render() {\n    var _a;\n\n    const {\n      positionManually,\n      $slots: slots\n    } = this;\n    let triggerVNode;\n    let popoverInside = false;\n\n    if (!positionManually) {\n      if (slots.activator) {\n        triggerVNode = getFirstSlotVNode(slots, 'activator');\n      } else {\n        triggerVNode = getFirstSlotVNode(slots, 'trigger');\n      }\n\n      if (triggerVNode) {\n        triggerVNode = cloneVNode(triggerVNode);\n        triggerVNode = triggerVNode.type === textVNodeType ? h('span', [triggerVNode]) : triggerVNode;\n        const handlers = {\n          onClick: this.handleClick,\n          onMouseenter: this.handleMouseEnter,\n          onMouseleave: this.handleMouseLeave,\n          onFocus: this.handleFocus,\n          onBlur: this.handleBlur\n        };\n\n        if ((_a = triggerVNode.type) === null || _a === void 0 ? void 0 : _a.__popover__) {\n          popoverInside = true; // We assume that there's no DOM event handlers on popover element\n\n          if (!triggerVNode.props) {\n            triggerVNode.props = {\n              internalSyncTargetWithParent: true,\n              internalInheritedEventHandlers: []\n            };\n          }\n\n          triggerVNode.props.internalSyncTargetWithParent = true;\n\n          if (!triggerVNode.props.internalInheritedEventHandlers) {\n            triggerVNode.props.internalInheritedEventHandlers = [handlers];\n          } else {\n            triggerVNode.props.internalInheritedEventHandlers = [handlers, ...triggerVNode.props.internalInheritedEventHandlers];\n          }\n        } else {\n          const {\n            internalInheritedEventHandlers\n          } = this;\n          const ascendantAndCurrentHandlers = [handlers, ...internalInheritedEventHandlers];\n          const mergedHandlers = {\n            onBlur: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onBlur(e);\n              });\n            },\n            onFocus: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onFocus(e);\n              });\n            },\n            onClick: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onClick(e);\n              });\n            },\n            onMouseenter: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onMouseenter(e);\n              });\n            },\n            onMouseleave: e => {\n              ascendantAndCurrentHandlers.forEach(_handlers => {\n                _handlers.onMouseleave(e);\n              });\n            }\n          };\n          appendEvents(triggerVNode, internalInheritedEventHandlers ? 'nested' : positionManually ? 'manual' : this.trigger, mergedHandlers);\n        }\n      }\n    }\n\n    return h(VBinder, {\n      ref: \"binderInstRef\",\n      syncTarget: !popoverInside,\n      syncTargetWithParent: this.internalSyncTargetWithParent\n    }, {\n      default: () => {\n        // We need to subscribe it. Sometimes rerender won't ge triggered.\n        // `mergedShowConsideringDisabledProp` is not the final disabled status.\n        // In ellpisis it's dynamic.\n        void this.mergedShowConsideringDisabledProp;\n        const mergedShow = this.getMergedShow();\n        return [this.internalTrapFocus && mergedShow ? withDirectives(h(\"div\", {\n          style: {\n            position: 'fixed',\n            inset: 0\n          }\n        }), [[zindexable, {\n          enabled: mergedShow,\n          zIndex: this.zIndex\n        }]]) : null, positionManually ? null : h(VTarget, null, {\n          default: () => triggerVNode\n        }), h(NPopoverBody, keep(this.$props, bodyPropKeys, Object.assign(Object.assign({}, this.$attrs), {\n          showArrow: this.mergedShowArrow,\n          show: mergedShow\n        })), {\n          default: () => {\n            var _a, _b;\n\n            return (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a);\n          },\n          header: () => {\n            var _a, _b;\n\n            return (_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a);\n          },\n          footer: () => {\n            var _a, _b;\n\n            return (_b = (_a = this.$slots).footer) === null || _b === void 0 ? void 0 : _b.call(_a);\n          }\n        })];\n      }\n    });\n  }\n\n});","map":{"version":3,"names":["h","ref","computed","createTextVNode","defineComponent","provide","toRef","cloneVNode","watchEffect","withDirectives","VBinder","VTarget","useMergedState","useCompitable","useIsMounted","useMemo","zindexable","call","keep","getFirstSlotVNode","warnOnce","useAdjustedTo","useTheme","NPopoverBody","popoverBodyProps","bodyPropKeys","Object","keys","triggerEventMap","focus","click","hover","manual","nested","appendEvents","vNode","trigger","events","forEach","eventName","props","assign","originalHandler","handler","args","textVNodeType","type","popoverBaseProps","show","Boolean","default","undefined","defaultShow","showArrow","String","delay","Number","duration","raw","placement","x","y","arrowPointToCenter","disabled","getDisabled","Function","displayDirective","arrowStyle","flip","animated","width","overlap","keepAliveOnHover","zIndex","to","propTo","scrollable","contentStyle","headerStyle","footerStyle","onClickoutside","Array","onUpdateShow","internalDeactivateImmediately","internalSyncTargetWithParent","internalInheritedEventHandlers","internalTrapFocus","internalExtraClass","onShow","onHide","arrow","minWidth","maxWidth","popoverProps","internalOnAfterLeave","internalRenderBody","name","inheritAttrs","__popover__","setup","process","env","NODE_ENV","isMountedRef","binderInstRef","controlledShowRef","uncontrolledShowRef","mergedShowWithoutDisabledRef","mergedShowConsideringDisabledPropRef","value","getMergedDisabled","getMergedShow","compatibleShowArrowRef","mergedShowArrowRef","bodyInstance","showTimerIdRef","hideTimerIdRef","positionManuallyRef","doUpdateShow","_onUpdateShow","syncPosition","clearShowTimer","showTimerId","window","clearTimeout","clearHideTimer","hideTimerId","handleFocus","mergedDisabled","handleBlur","handleMouseEnter","delayCallback","setTimeout","handleMouseLeave","delayedCallback","handleMouseMoveOutside","handleClickOutside","e","_a","handleClick","nextShow","handleKeydown","key","setShow","getTriggerElement","targetRef","setBodyInstance","zIndexRef","extraClassRef","internalRenderBodyRef","positionManually","mergedShowConsideringDisabledProp","uncontrolledShow","mergedShowArrow","render","$slots","slots","triggerVNode","popoverInside","activator","handlers","onClick","onMouseenter","onMouseleave","onFocus","onBlur","ascendantAndCurrentHandlers","mergedHandlers","_handlers","syncTarget","syncTargetWithParent","mergedShow","style","position","inset","enabled","$props","$attrs","_b","header","footer"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/popover/src/Popover.js"],"sourcesContent":["import { h, ref, computed, createTextVNode, defineComponent, provide, toRef, cloneVNode, watchEffect, withDirectives } from 'vue';\nimport { VBinder, VTarget } from 'vueuc';\nimport { useMergedState, useCompitable, useIsMounted, useMemo } from 'vooks';\nimport { zindexable } from 'vdirs';\nimport { call, keep, getFirstSlotVNode, warnOnce, useAdjustedTo } from '../../_utils';\nimport { useTheme } from '../../_mixins';\nimport NPopoverBody, { popoverBodyProps } from './PopoverBody';\nconst bodyPropKeys = Object.keys(popoverBodyProps);\nconst triggerEventMap = {\n    focus: ['onFocus', 'onBlur'],\n    click: ['onClick'],\n    hover: ['onMouseenter', 'onMouseleave'],\n    manual: [],\n    nested: ['onFocus', 'onBlur', 'onMouseenter', 'onMouseleave', 'onClick']\n};\nfunction appendEvents(vNode, trigger, events) {\n    triggerEventMap[trigger].forEach((eventName) => {\n        if (!vNode.props)\n            vNode.props = {};\n        else {\n            vNode.props = Object.assign({}, vNode.props);\n        }\n        const originalHandler = vNode.props[eventName];\n        const handler = events[eventName];\n        if (!originalHandler)\n            vNode.props[eventName] = handler;\n        else {\n            vNode.props[eventName] = (...args) => {\n                originalHandler(...args);\n                handler(...args);\n            };\n        }\n    });\n}\nconst textVNodeType = createTextVNode('').type;\nexport const popoverBaseProps = {\n    show: {\n        type: Boolean,\n        default: undefined\n    },\n    defaultShow: Boolean,\n    showArrow: {\n        type: Boolean,\n        default: true\n    },\n    trigger: {\n        type: String,\n        default: 'hover'\n    },\n    delay: {\n        type: Number,\n        default: 100\n    },\n    duration: {\n        type: Number,\n        default: 100\n    },\n    raw: Boolean,\n    placement: {\n        type: String,\n        default: 'top'\n    },\n    x: Number,\n    y: Number,\n    arrowPointToCenter: Boolean,\n    disabled: Boolean,\n    getDisabled: Function,\n    displayDirective: {\n        type: String,\n        default: 'if'\n    },\n    arrowStyle: [String, Object],\n    flip: {\n        type: Boolean,\n        default: true\n    },\n    animated: {\n        type: Boolean,\n        default: true\n    },\n    width: {\n        type: [Number, String],\n        default: undefined\n    },\n    overlap: Boolean,\n    keepAliveOnHover: {\n        type: Boolean,\n        default: true\n    },\n    zIndex: Number,\n    to: useAdjustedTo.propTo,\n    scrollable: Boolean,\n    contentStyle: [Object, String],\n    headerStyle: [Object, String],\n    footerStyle: [Object, String],\n    // events\n    onClickoutside: Function,\n    'onUpdate:show': [Function, Array],\n    onUpdateShow: [Function, Array],\n    // internal\n    internalDeactivateImmediately: Boolean,\n    internalSyncTargetWithParent: Boolean,\n    internalInheritedEventHandlers: {\n        type: Array,\n        default: () => []\n    },\n    internalTrapFocus: Boolean,\n    internalExtraClass: {\n        type: Array,\n        default: () => []\n    },\n    // deprecated\n    onShow: [Function, Array],\n    onHide: [Function, Array],\n    arrow: {\n        type: Boolean,\n        default: undefined\n    },\n    minWidth: Number,\n    maxWidth: Number\n};\nexport const popoverProps = Object.assign(Object.assign(Object.assign({}, useTheme.props), popoverBaseProps), { internalOnAfterLeave: Function, internalRenderBody: Function });\nexport default defineComponent({\n    name: 'Popover',\n    inheritAttrs: false,\n    props: popoverProps,\n    __popover__: true,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.maxWidth !== undefined) {\n                    warnOnce('popover', '`max-width` is deprecated, please use `style` instead.');\n                }\n                if (props.minWidth !== undefined) {\n                    warnOnce('popover', '`min-width` is deprecated, please use `style` instead.');\n                }\n                if (props.arrow !== undefined) {\n                    warnOnce('popover', '`arrow` is deprecated, please use `showArrow` instead.');\n                }\n                if (props.onHide !== undefined) {\n                    warnOnce('popover', '`on-hide` is deprecated, please use `on-update:show` instead.');\n                }\n                if (props.onShow !== undefined) {\n                    warnOnce('popover', '`on-show` is deprecated, please use `on-update:show` instead.');\n                }\n            });\n        }\n        const isMountedRef = useIsMounted();\n        const binderInstRef = ref(null);\n        // setup show\n        const controlledShowRef = computed(() => props.show);\n        const uncontrolledShowRef = ref(props.defaultShow);\n        const mergedShowWithoutDisabledRef = useMergedState(controlledShowRef, uncontrolledShowRef);\n        const mergedShowConsideringDisabledPropRef = useMemo(() => {\n            if (props.disabled)\n                return false;\n            return mergedShowWithoutDisabledRef.value;\n        });\n        const getMergedDisabled = () => {\n            if (props.disabled)\n                return true;\n            const { getDisabled } = props;\n            if (getDisabled === null || getDisabled === void 0 ? void 0 : getDisabled())\n                return true;\n            return false;\n        };\n        const getMergedShow = () => {\n            if (getMergedDisabled())\n                return false;\n            return mergedShowWithoutDisabledRef.value;\n        };\n        // setup show-arrow\n        const compatibleShowArrowRef = useCompitable(props, ['arrow', 'showArrow']);\n        const mergedShowArrowRef = computed(() => {\n            if (props.overlap)\n                return false;\n            return compatibleShowArrowRef.value;\n        });\n        // bodyInstance\n        let bodyInstance = null;\n        const showTimerIdRef = ref(null);\n        const hideTimerIdRef = ref(null);\n        const positionManuallyRef = useMemo(() => {\n            return props.x !== undefined && props.y !== undefined;\n        });\n        // methods\n        function doUpdateShow(value) {\n            const { 'onUpdate:show': _onUpdateShow, onUpdateShow, onShow, onHide } = props;\n            uncontrolledShowRef.value = value;\n            if (_onUpdateShow) {\n                call(_onUpdateShow, value);\n            }\n            if (onUpdateShow) {\n                call(onUpdateShow, value);\n            }\n            if (value && onShow) {\n                call(onShow, true);\n            }\n            if (value && onHide) {\n                call(onHide, false);\n            }\n        }\n        function syncPosition() {\n            if (bodyInstance) {\n                bodyInstance.syncPosition();\n            }\n        }\n        function clearShowTimer() {\n            const { value: showTimerId } = showTimerIdRef;\n            if (showTimerId) {\n                window.clearTimeout(showTimerId);\n                showTimerIdRef.value = null;\n            }\n        }\n        function clearHideTimer() {\n            const { value: hideTimerId } = hideTimerIdRef;\n            if (hideTimerId) {\n                window.clearTimeout(hideTimerId);\n                hideTimerIdRef.value = null;\n            }\n        }\n        function handleFocus() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'focus' && !mergedDisabled) {\n                if (getMergedShow())\n                    return;\n                doUpdateShow(true);\n            }\n        }\n        function handleBlur() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'focus' && !mergedDisabled) {\n                if (!getMergedShow())\n                    return;\n                doUpdateShow(false);\n            }\n        }\n        function handleMouseEnter() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'hover' && !mergedDisabled) {\n                clearHideTimer();\n                if (showTimerIdRef.value !== null)\n                    return;\n                if (getMergedShow())\n                    return;\n                const delayCallback = () => {\n                    doUpdateShow(true);\n                    showTimerIdRef.value = null;\n                };\n                const { delay } = props;\n                if (delay === 0) {\n                    delayCallback();\n                }\n                else {\n                    showTimerIdRef.value = window.setTimeout(delayCallback, delay);\n                }\n            }\n        }\n        function handleMouseLeave() {\n            const mergedDisabled = getMergedDisabled();\n            if (props.trigger === 'hover' && !mergedDisabled) {\n                clearShowTimer();\n                if (hideTimerIdRef.value !== null)\n                    return;\n                if (!getMergedShow())\n                    return;\n                const delayedCallback = () => {\n                    doUpdateShow(false);\n                    hideTimerIdRef.value = null;\n                };\n                const { duration } = props;\n                if (duration === 0) {\n                    delayedCallback();\n                }\n                else {\n                    hideTimerIdRef.value = window.setTimeout(delayedCallback, duration);\n                }\n            }\n        }\n        // will be called in popover-content\n        function handleMouseMoveOutside() {\n            handleMouseLeave();\n        }\n        // will be called in popover-content\n        function handleClickOutside(e) {\n            var _a;\n            if (!getMergedShow())\n                return;\n            if (props.trigger === 'click') {\n                clearShowTimer();\n                clearHideTimer();\n                doUpdateShow(false);\n            }\n            (_a = props.onClickoutside) === null || _a === void 0 ? void 0 : _a.call(props, e);\n        }\n        function handleClick() {\n            if (props.trigger === 'click' && !getMergedDisabled()) {\n                clearShowTimer();\n                clearHideTimer();\n                const nextShow = !getMergedShow();\n                doUpdateShow(nextShow);\n            }\n        }\n        function handleKeydown(e) {\n            if (!props.internalTrapFocus)\n                return;\n            if (e.key === 'Escape') {\n                clearShowTimer();\n                clearHideTimer();\n                doUpdateShow(false);\n            }\n        }\n        function setShow(value) {\n            uncontrolledShowRef.value = value;\n        }\n        function getTriggerElement() {\n            var _a;\n            return (_a = binderInstRef.value) === null || _a === void 0 ? void 0 : _a.targetRef;\n        }\n        function setBodyInstance(value) {\n            bodyInstance = value;\n        }\n        provide('NPopover', {\n            getTriggerElement,\n            handleKeydown,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleClickOutside,\n            handleMouseMoveOutside,\n            setBodyInstance,\n            positionManuallyRef,\n            isMountedRef,\n            zIndexRef: toRef(props, 'zIndex'),\n            extraClassRef: toRef(props, 'internalExtraClass'),\n            internalRenderBodyRef: toRef(props, 'internalRenderBody')\n        });\n        return {\n            binderInstRef,\n            positionManually: positionManuallyRef,\n            mergedShowConsideringDisabledProp: mergedShowConsideringDisabledPropRef,\n            // if to show popover body\n            uncontrolledShow: uncontrolledShowRef,\n            mergedShowArrow: mergedShowArrowRef,\n            getMergedShow,\n            setShow,\n            handleClick,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleFocus,\n            handleBlur,\n            syncPosition\n        };\n    },\n    render() {\n        var _a;\n        const { positionManually, $slots: slots } = this;\n        let triggerVNode;\n        let popoverInside = false;\n        if (!positionManually) {\n            if (slots.activator) {\n                triggerVNode = getFirstSlotVNode(slots, 'activator');\n            }\n            else {\n                triggerVNode = getFirstSlotVNode(slots, 'trigger');\n            }\n            if (triggerVNode) {\n                triggerVNode = cloneVNode(triggerVNode);\n                triggerVNode =\n                    triggerVNode.type === textVNodeType\n                        ? h('span', [triggerVNode])\n                        : triggerVNode;\n                const handlers = {\n                    onClick: this.handleClick,\n                    onMouseenter: this.handleMouseEnter,\n                    onMouseleave: this.handleMouseLeave,\n                    onFocus: this.handleFocus,\n                    onBlur: this.handleBlur\n                };\n                if ((_a = triggerVNode.type) === null || _a === void 0 ? void 0 : _a.__popover__) {\n                    popoverInside = true;\n                    // We assume that there's no DOM event handlers on popover element\n                    if (!triggerVNode.props) {\n                        triggerVNode.props = {\n                            internalSyncTargetWithParent: true,\n                            internalInheritedEventHandlers: []\n                        };\n                    }\n                    triggerVNode.props.internalSyncTargetWithParent = true;\n                    if (!triggerVNode.props.internalInheritedEventHandlers) {\n                        triggerVNode.props.internalInheritedEventHandlers = [handlers];\n                    }\n                    else {\n                        triggerVNode.props.internalInheritedEventHandlers = [\n                            handlers,\n                            ...triggerVNode.props.internalInheritedEventHandlers\n                        ];\n                    }\n                }\n                else {\n                    const { internalInheritedEventHandlers } = this;\n                    const ascendantAndCurrentHandlers = [\n                        handlers,\n                        ...internalInheritedEventHandlers\n                    ];\n                    const mergedHandlers = {\n                        onBlur: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onBlur(e);\n                            });\n                        },\n                        onFocus: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onFocus(e);\n                            });\n                        },\n                        onClick: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onClick(e);\n                            });\n                        },\n                        onMouseenter: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onMouseenter(e);\n                            });\n                        },\n                        onMouseleave: (e) => {\n                            ascendantAndCurrentHandlers.forEach((_handlers) => {\n                                _handlers.onMouseleave(e);\n                            });\n                        }\n                    };\n                    appendEvents(triggerVNode, internalInheritedEventHandlers\n                        ? 'nested'\n                        : positionManually\n                            ? 'manual'\n                            : this.trigger, mergedHandlers);\n                }\n            }\n        }\n        return (h(VBinder, { ref: \"binderInstRef\", syncTarget: !popoverInside, syncTargetWithParent: this.internalSyncTargetWithParent }, {\n            default: () => {\n                // We need to subscribe it. Sometimes rerender won't ge triggered.\n                // `mergedShowConsideringDisabledProp` is not the final disabled status.\n                // In ellpisis it's dynamic.\n                void this.mergedShowConsideringDisabledProp;\n                const mergedShow = this.getMergedShow();\n                return [\n                    this.internalTrapFocus && mergedShow\n                        ? withDirectives(h(\"div\", { style: { position: 'fixed', inset: 0 } }), [\n                            [\n                                zindexable,\n                                {\n                                    enabled: mergedShow,\n                                    zIndex: this.zIndex\n                                }\n                            ]\n                        ])\n                        : null,\n                    positionManually\n                        ? null\n                        : h(VTarget, null, {\n                            default: () => triggerVNode\n                        }),\n                    h(NPopoverBody, keep(this.$props, bodyPropKeys, Object.assign(Object.assign({}, this.$attrs), { showArrow: this.mergedShowArrow, show: mergedShow })), {\n                        default: () => { var _a, _b; return (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a); },\n                        header: () => { var _a, _b; return (_b = (_a = this.$slots).header) === null || _b === void 0 ? void 0 : _b.call(_a); },\n                        footer: () => { var _a, _b; return (_b = (_a = this.$slots).footer) === null || _b === void 0 ? void 0 : _b.call(_a); }\n                    })\n                ];\n            }\n        }));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}