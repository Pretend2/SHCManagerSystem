{"ast":null,"code":"import { h, computed, inject, ref, Transition, defineComponent, provide, mergeProps } from 'vue';\nimport { VBinder, VTarget, VFollower } from 'vueuc';\nimport { useMemo } from 'vooks';\nimport { ChevronRightIcon } from '../../_internal/icons';\nimport { render, useDeferredTrue } from '../../_utils';\nimport { NIcon } from '../../icon'; // eslint-disable-next-line import/no-cycle\n\nimport NDropdownMenu from './DropdownMenu';\nimport { dropdownMenuInjectionKey, dropdownInjectionKey, dropdownOptionInjectionKey } from './context';\nimport { popoverBodyInjectionKey } from '../../popover/src/interface';\nimport { isSubmenuNode } from './utils';\nimport { happensIn } from 'seemly';\nexport default defineComponent({\n  name: 'DropdownOption',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    tmNode: {\n      type: Object,\n      required: true\n    },\n    parentKey: {\n      type: [String, Number],\n      default: null\n    },\n    placement: {\n      type: String,\n      default: 'right-start'\n    },\n    props: Object,\n    scrollable: Boolean\n  },\n\n  setup(props) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    const NDropdown = inject(dropdownInjectionKey);\n    const {\n      hoverKeyRef,\n      keyboardKeyRef,\n      lastToggledSubmenuKeyRef,\n      pendingKeyPathRef,\n      activeKeyPathRef,\n      animatedRef,\n      mergedShowRef,\n      renderLabelRef,\n      renderIconRef,\n      labelFieldRef,\n      childrenFieldRef,\n      renderOptionRef,\n      nodePropsRef,\n      menuPropsRef\n    } = NDropdown;\n    const NDropdownOption = inject(dropdownOptionInjectionKey, null); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const NDropdownMenu = inject(dropdownMenuInjectionKey); // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    const NPopoverBody = inject(popoverBodyInjectionKey);\n    const rawNodeRef = computed(() => props.tmNode.rawNode);\n    const hasSubmenuRef = computed(() => {\n      const {\n        value: childrenField\n      } = childrenFieldRef;\n      return isSubmenuNode(props.tmNode.rawNode, childrenField);\n    });\n    const mergedDisabledRef = computed(() => {\n      const {\n        disabled\n      } = props.tmNode;\n      return disabled;\n    });\n    const showSubmenuRef = computed(() => {\n      if (!hasSubmenuRef.value) return false;\n      const {\n        key,\n        disabled\n      } = props.tmNode;\n      if (disabled) return false;\n      const {\n        value: hoverKey\n      } = hoverKeyRef;\n      const {\n        value: keyboardKey\n      } = keyboardKeyRef;\n      const {\n        value: lastToggledSubmenuKey\n      } = lastToggledSubmenuKeyRef;\n      const {\n        value: pendingKeyPath\n      } = pendingKeyPathRef;\n      if (hoverKey !== null) return pendingKeyPath.includes(key);\n\n      if (keyboardKey !== null) {\n        return pendingKeyPath.includes(key) && pendingKeyPath[pendingKeyPath.length - 1] !== key;\n      }\n\n      if (lastToggledSubmenuKey !== null) return pendingKeyPath.includes(key);\n      return false;\n    });\n    const shouldDelayRef = computed(() => {\n      return keyboardKeyRef.value === null && !animatedRef.value;\n    });\n    const deferredShowSubmenuRef = useDeferredTrue(showSubmenuRef, 300, shouldDelayRef);\n    const parentEnteringSubmenuRef = computed(() => {\n      return !!(NDropdownOption === null || NDropdownOption === void 0 ? void 0 : NDropdownOption.enteringSubmenuRef.value);\n    });\n    const enteringSubmenuRef = ref(false);\n    provide(dropdownOptionInjectionKey, {\n      enteringSubmenuRef\n    }); // methods\n\n    function handleSubmenuBeforeEnter() {\n      enteringSubmenuRef.value = true;\n    }\n\n    function handleSubmenuAfterEnter() {\n      enteringSubmenuRef.value = false;\n    }\n\n    function handleMouseEnter() {\n      const {\n        parentKey,\n        tmNode\n      } = props;\n      if (tmNode.disabled) return;\n      if (!mergedShowRef.value) return;\n      lastToggledSubmenuKeyRef.value = parentKey;\n      keyboardKeyRef.value = null;\n      hoverKeyRef.value = tmNode.key;\n    }\n\n    function handleMouseMove() {\n      const {\n        tmNode\n      } = props;\n      if (tmNode.disabled) return;\n      if (!mergedShowRef.value) return;\n      if (hoverKeyRef.value === tmNode.key) return;\n      handleMouseEnter();\n    }\n\n    function handleMouseLeave(e) {\n      if (props.tmNode.disabled) return;\n      if (!mergedShowRef.value) return;\n      const {\n        relatedTarget\n      } = e;\n\n      if (relatedTarget && !happensIn({\n        target: relatedTarget\n      }, 'dropdownOption') && !happensIn({\n        target: relatedTarget\n      }, 'scrollbarRail')) {\n        hoverKeyRef.value = null;\n      }\n    }\n\n    function handleClick() {\n      const {\n        value: hasSubmenu\n      } = hasSubmenuRef;\n      const {\n        tmNode\n      } = props;\n      if (!mergedShowRef.value) return;\n\n      if (!hasSubmenu && !tmNode.disabled) {\n        NDropdown.doSelect(tmNode.key, tmNode.rawNode);\n        NDropdown.doUpdateShow(false);\n      }\n    }\n\n    return {\n      labelField: labelFieldRef,\n      renderLabel: renderLabelRef,\n      renderIcon: renderIconRef,\n      siblingHasIcon: NDropdownMenu.showIconRef,\n      siblingHasSubmenu: NDropdownMenu.hasSubmenuRef,\n      menuProps: menuPropsRef,\n      popoverBody: NPopoverBody,\n      animated: animatedRef,\n      mergedShowSubmenu: computed(() => {\n        return deferredShowSubmenuRef.value && !parentEnteringSubmenuRef.value;\n      }),\n      rawNode: rawNodeRef,\n      hasSubmenu: hasSubmenuRef,\n      pending: useMemo(() => {\n        const {\n          value: pendingKeyPath\n        } = pendingKeyPathRef;\n        const {\n          key\n        } = props.tmNode;\n        return pendingKeyPath.includes(key);\n      }),\n      childActive: useMemo(() => {\n        const {\n          value: activeKeyPath\n        } = activeKeyPathRef;\n        const {\n          key\n        } = props.tmNode;\n        const index = activeKeyPath.findIndex(k => key === k);\n        if (index === -1) return false;\n        return index < activeKeyPath.length - 1;\n      }),\n      active: useMemo(() => {\n        const {\n          value: activeKeyPath\n        } = activeKeyPathRef;\n        const {\n          key\n        } = props.tmNode;\n        const index = activeKeyPath.findIndex(k => key === k);\n        if (index === -1) return false;\n        return index === activeKeyPath.length - 1;\n      }),\n      mergedDisabled: mergedDisabledRef,\n      renderOption: renderOptionRef,\n      nodeProps: nodePropsRef,\n      handleClick,\n      handleMouseMove,\n      handleMouseEnter,\n      handleMouseLeave,\n      handleSubmenuBeforeEnter,\n      handleSubmenuAfterEnter\n    };\n  },\n\n  render() {\n    var _a, _b;\n\n    const {\n      animated,\n      rawNode,\n      mergedShowSubmenu,\n      clsPrefix,\n      siblingHasIcon,\n      siblingHasSubmenu,\n      renderLabel,\n      renderIcon,\n      renderOption,\n      nodeProps,\n      props,\n      scrollable\n    } = this;\n    let submenuVNode = null;\n\n    if (mergedShowSubmenu) {\n      const submenuNodeProps = (_a = this.menuProps) === null || _a === void 0 ? void 0 : _a.call(this, rawNode, // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n      rawNode.children);\n      submenuVNode = h(NDropdownMenu, Object.assign({}, submenuNodeProps, {\n        clsPrefix: clsPrefix,\n        scrollable: this.scrollable,\n        tmNodes: this.tmNode.children,\n        parentKey: this.tmNode.key\n      }));\n    }\n\n    const builtinProps = {\n      class: [`${clsPrefix}-dropdown-option-body`, this.pending && `${clsPrefix}-dropdown-option-body--pending`, this.active && `${clsPrefix}-dropdown-option-body--active`, this.childActive && `${clsPrefix}-dropdown-option-body--child-active`, this.mergedDisabled && `${clsPrefix}-dropdown-option-body--disabled`],\n      onMousemove: this.handleMouseMove,\n      onMouseenter: this.handleMouseEnter,\n      onMouseleave: this.handleMouseLeave,\n      onClick: this.handleClick\n    };\n    const optionNodeProps = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n    const node = h(\"div\", Object.assign({\n      class: [`${clsPrefix}-dropdown-option`, optionNodeProps === null || optionNodeProps === void 0 ? void 0 : optionNodeProps.class],\n      \"data-dropdown-option\": true\n    }, optionNodeProps), h('div', mergeProps(builtinProps, props), [h(\"div\", {\n      class: [`${clsPrefix}-dropdown-option-body__prefix`, siblingHasIcon && `${clsPrefix}-dropdown-option-body__prefix--show-icon`]\n    }, [renderIcon ? renderIcon(rawNode) : render(rawNode.icon)]), h(\"div\", {\n      \"data-dropdown-option\": true,\n      class: `${clsPrefix}-dropdown-option-body__label`\n    }, renderLabel ? renderLabel(rawNode) : render((_b = rawNode[this.labelField]) !== null && _b !== void 0 ? _b : rawNode.title)), h(\"div\", {\n      \"data-dropdown-option\": true,\n      class: [`${clsPrefix}-dropdown-option-body__suffix`, siblingHasSubmenu && `${clsPrefix}-dropdown-option-body__suffix--has-submenu`]\n    }, this.hasSubmenu ? h(NIcon, null, {\n      default: () => h(ChevronRightIcon, null)\n    }) : null)]), this.hasSubmenu ? h(VBinder, null, {\n      default: () => [h(VTarget, null, {\n        default: () => h(\"div\", {\n          class: `${clsPrefix}-dropdown-offset-container`\n        }, h(VFollower, {\n          show: this.mergedShowSubmenu,\n          placement: this.placement,\n          to: scrollable ? this.popoverBody || undefined : undefined,\n          teleportDisabled: !scrollable\n        }, {\n          default: () => {\n            return h(\"div\", {\n              class: `${clsPrefix}-dropdown-menu-wrapper`\n            }, animated ? h(Transition, {\n              onBeforeEnter: this.handleSubmenuBeforeEnter,\n              onAfterEnter: this.handleSubmenuAfterEnter,\n              name: \"fade-in-scale-up-transition\",\n              appear: true\n            }, {\n              default: () => submenuVNode\n            }) : submenuVNode);\n          }\n        }))\n      })]\n    }) : null);\n\n    if (renderOption) {\n      return renderOption({\n        node,\n        option: rawNode\n      });\n    }\n\n    return node;\n  }\n\n});","map":{"version":3,"names":["h","computed","inject","ref","Transition","defineComponent","provide","mergeProps","VBinder","VTarget","VFollower","useMemo","ChevronRightIcon","render","useDeferredTrue","NIcon","NDropdownMenu","dropdownMenuInjectionKey","dropdownInjectionKey","dropdownOptionInjectionKey","popoverBodyInjectionKey","isSubmenuNode","happensIn","name","props","clsPrefix","type","String","required","tmNode","Object","parentKey","Number","default","placement","scrollable","Boolean","setup","NDropdown","hoverKeyRef","keyboardKeyRef","lastToggledSubmenuKeyRef","pendingKeyPathRef","activeKeyPathRef","animatedRef","mergedShowRef","renderLabelRef","renderIconRef","labelFieldRef","childrenFieldRef","renderOptionRef","nodePropsRef","menuPropsRef","NDropdownOption","NPopoverBody","rawNodeRef","rawNode","hasSubmenuRef","value","childrenField","mergedDisabledRef","disabled","showSubmenuRef","key","hoverKey","keyboardKey","lastToggledSubmenuKey","pendingKeyPath","includes","length","shouldDelayRef","deferredShowSubmenuRef","parentEnteringSubmenuRef","enteringSubmenuRef","handleSubmenuBeforeEnter","handleSubmenuAfterEnter","handleMouseEnter","handleMouseMove","handleMouseLeave","e","relatedTarget","target","handleClick","hasSubmenu","doSelect","doUpdateShow","labelField","renderLabel","renderIcon","siblingHasIcon","showIconRef","siblingHasSubmenu","menuProps","popoverBody","animated","mergedShowSubmenu","pending","childActive","activeKeyPath","index","findIndex","k","active","mergedDisabled","renderOption","nodeProps","_a","_b","submenuVNode","submenuNodeProps","call","children","assign","tmNodes","builtinProps","class","onMousemove","onMouseenter","onMouseleave","onClick","optionNodeProps","node","icon","title","show","to","undefined","teleportDisabled","onBeforeEnter","onAfterEnter","appear","option"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/dropdown/src/DropdownOption.js"],"sourcesContent":["import { h, computed, inject, ref, Transition, defineComponent, provide, mergeProps } from 'vue';\nimport { VBinder, VTarget, VFollower } from 'vueuc';\nimport { useMemo } from 'vooks';\nimport { ChevronRightIcon } from '../../_internal/icons';\nimport { render, useDeferredTrue } from '../../_utils';\nimport { NIcon } from '../../icon';\n// eslint-disable-next-line import/no-cycle\nimport NDropdownMenu from './DropdownMenu';\nimport { dropdownMenuInjectionKey, dropdownInjectionKey, dropdownOptionInjectionKey } from './context';\nimport { popoverBodyInjectionKey } from '../../popover/src/interface';\nimport { isSubmenuNode } from './utils';\nimport { happensIn } from 'seemly';\nexport default defineComponent({\n    name: 'DropdownOption',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        tmNode: {\n            type: Object,\n            required: true\n        },\n        parentKey: {\n            type: [String, Number],\n            default: null\n        },\n        placement: {\n            type: String,\n            default: 'right-start'\n        },\n        props: Object,\n        scrollable: Boolean\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const NDropdown = inject(dropdownInjectionKey);\n        const { hoverKeyRef, keyboardKeyRef, lastToggledSubmenuKeyRef, pendingKeyPathRef, activeKeyPathRef, animatedRef, mergedShowRef, renderLabelRef, renderIconRef, labelFieldRef, childrenFieldRef, renderOptionRef, nodePropsRef, menuPropsRef } = NDropdown;\n        const NDropdownOption = inject(dropdownOptionInjectionKey, null);\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const NDropdownMenu = inject(dropdownMenuInjectionKey);\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const NPopoverBody = inject(popoverBodyInjectionKey);\n        const rawNodeRef = computed(() => props.tmNode.rawNode);\n        const hasSubmenuRef = computed(() => {\n            const { value: childrenField } = childrenFieldRef;\n            return isSubmenuNode(props.tmNode.rawNode, childrenField);\n        });\n        const mergedDisabledRef = computed(() => {\n            const { disabled } = props.tmNode;\n            return disabled;\n        });\n        const showSubmenuRef = computed(() => {\n            if (!hasSubmenuRef.value)\n                return false;\n            const { key, disabled } = props.tmNode;\n            if (disabled)\n                return false;\n            const { value: hoverKey } = hoverKeyRef;\n            const { value: keyboardKey } = keyboardKeyRef;\n            const { value: lastToggledSubmenuKey } = lastToggledSubmenuKeyRef;\n            const { value: pendingKeyPath } = pendingKeyPathRef;\n            if (hoverKey !== null)\n                return pendingKeyPath.includes(key);\n            if (keyboardKey !== null) {\n                return (pendingKeyPath.includes(key) &&\n                    pendingKeyPath[pendingKeyPath.length - 1] !== key);\n            }\n            if (lastToggledSubmenuKey !== null)\n                return pendingKeyPath.includes(key);\n            return false;\n        });\n        const shouldDelayRef = computed(() => {\n            return keyboardKeyRef.value === null && !animatedRef.value;\n        });\n        const deferredShowSubmenuRef = useDeferredTrue(showSubmenuRef, 300, shouldDelayRef);\n        const parentEnteringSubmenuRef = computed(() => {\n            return !!(NDropdownOption === null || NDropdownOption === void 0 ? void 0 : NDropdownOption.enteringSubmenuRef.value);\n        });\n        const enteringSubmenuRef = ref(false);\n        provide(dropdownOptionInjectionKey, {\n            enteringSubmenuRef\n        });\n        // methods\n        function handleSubmenuBeforeEnter() {\n            enteringSubmenuRef.value = true;\n        }\n        function handleSubmenuAfterEnter() {\n            enteringSubmenuRef.value = false;\n        }\n        function handleMouseEnter() {\n            const { parentKey, tmNode } = props;\n            if (tmNode.disabled)\n                return;\n            if (!mergedShowRef.value)\n                return;\n            lastToggledSubmenuKeyRef.value = parentKey;\n            keyboardKeyRef.value = null;\n            hoverKeyRef.value = tmNode.key;\n        }\n        function handleMouseMove() {\n            const { tmNode } = props;\n            if (tmNode.disabled)\n                return;\n            if (!mergedShowRef.value)\n                return;\n            if (hoverKeyRef.value === tmNode.key)\n                return;\n            handleMouseEnter();\n        }\n        function handleMouseLeave(e) {\n            if (props.tmNode.disabled)\n                return;\n            if (!mergedShowRef.value)\n                return;\n            const { relatedTarget } = e;\n            if (relatedTarget &&\n                !happensIn({ target: relatedTarget }, 'dropdownOption') &&\n                !happensIn({ target: relatedTarget }, 'scrollbarRail')) {\n                hoverKeyRef.value = null;\n            }\n        }\n        function handleClick() {\n            const { value: hasSubmenu } = hasSubmenuRef;\n            const { tmNode } = props;\n            if (!mergedShowRef.value)\n                return;\n            if (!hasSubmenu && !tmNode.disabled) {\n                NDropdown.doSelect(tmNode.key, tmNode.rawNode);\n                NDropdown.doUpdateShow(false);\n            }\n        }\n        return {\n            labelField: labelFieldRef,\n            renderLabel: renderLabelRef,\n            renderIcon: renderIconRef,\n            siblingHasIcon: NDropdownMenu.showIconRef,\n            siblingHasSubmenu: NDropdownMenu.hasSubmenuRef,\n            menuProps: menuPropsRef,\n            popoverBody: NPopoverBody,\n            animated: animatedRef,\n            mergedShowSubmenu: computed(() => {\n                return deferredShowSubmenuRef.value && !parentEnteringSubmenuRef.value;\n            }),\n            rawNode: rawNodeRef,\n            hasSubmenu: hasSubmenuRef,\n            pending: useMemo(() => {\n                const { value: pendingKeyPath } = pendingKeyPathRef;\n                const { key } = props.tmNode;\n                return pendingKeyPath.includes(key);\n            }),\n            childActive: useMemo(() => {\n                const { value: activeKeyPath } = activeKeyPathRef;\n                const { key } = props.tmNode;\n                const index = activeKeyPath.findIndex((k) => key === k);\n                if (index === -1)\n                    return false;\n                return index < activeKeyPath.length - 1;\n            }),\n            active: useMemo(() => {\n                const { value: activeKeyPath } = activeKeyPathRef;\n                const { key } = props.tmNode;\n                const index = activeKeyPath.findIndex((k) => key === k);\n                if (index === -1)\n                    return false;\n                return index === activeKeyPath.length - 1;\n            }),\n            mergedDisabled: mergedDisabledRef,\n            renderOption: renderOptionRef,\n            nodeProps: nodePropsRef,\n            handleClick,\n            handleMouseMove,\n            handleMouseEnter,\n            handleMouseLeave,\n            handleSubmenuBeforeEnter,\n            handleSubmenuAfterEnter\n        };\n    },\n    render() {\n        var _a, _b;\n        const { animated, rawNode, mergedShowSubmenu, clsPrefix, siblingHasIcon, siblingHasSubmenu, renderLabel, renderIcon, renderOption, nodeProps, props, scrollable } = this;\n        let submenuVNode = null;\n        if (mergedShowSubmenu) {\n            const submenuNodeProps = (_a = this.menuProps) === null || _a === void 0 ? void 0 : _a.call(this, rawNode, \n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            rawNode.children);\n            submenuVNode = (h(NDropdownMenu, Object.assign({}, submenuNodeProps, { clsPrefix: clsPrefix, scrollable: this.scrollable, tmNodes: this.tmNode.children, parentKey: this.tmNode.key })));\n        }\n        const builtinProps = {\n            class: [\n                `${clsPrefix}-dropdown-option-body`,\n                this.pending && `${clsPrefix}-dropdown-option-body--pending`,\n                this.active && `${clsPrefix}-dropdown-option-body--active`,\n                this.childActive && `${clsPrefix}-dropdown-option-body--child-active`,\n                this.mergedDisabled && `${clsPrefix}-dropdown-option-body--disabled`\n            ],\n            onMousemove: this.handleMouseMove,\n            onMouseenter: this.handleMouseEnter,\n            onMouseleave: this.handleMouseLeave,\n            onClick: this.handleClick\n        };\n        const optionNodeProps = nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps(rawNode);\n        const node = (h(\"div\", Object.assign({ class: [`${clsPrefix}-dropdown-option`, optionNodeProps === null || optionNodeProps === void 0 ? void 0 : optionNodeProps.class], \"data-dropdown-option\": true }, optionNodeProps),\n            h('div', mergeProps(builtinProps, props), [\n                h(\"div\", { class: [\n                        `${clsPrefix}-dropdown-option-body__prefix`,\n                        siblingHasIcon &&\n                            `${clsPrefix}-dropdown-option-body__prefix--show-icon`\n                    ] }, [renderIcon ? renderIcon(rawNode) : render(rawNode.icon)]),\n                h(\"div\", { \"data-dropdown-option\": true, class: `${clsPrefix}-dropdown-option-body__label` }, renderLabel\n                    ? renderLabel(rawNode)\n                    : render((_b = rawNode[this.labelField]) !== null && _b !== void 0 ? _b : rawNode.title)),\n                h(\"div\", { \"data-dropdown-option\": true, class: [\n                        `${clsPrefix}-dropdown-option-body__suffix`,\n                        siblingHasSubmenu &&\n                            `${clsPrefix}-dropdown-option-body__suffix--has-submenu`\n                    ] }, this.hasSubmenu ? (h(NIcon, null, {\n                    default: () => h(ChevronRightIcon, null)\n                })) : null)\n            ]),\n            this.hasSubmenu ? (h(VBinder, null, {\n                default: () => [\n                    h(VTarget, null, {\n                        default: () => (h(\"div\", { class: `${clsPrefix}-dropdown-offset-container` },\n                            h(VFollower, { show: this.mergedShowSubmenu, placement: this.placement, to: scrollable\n                                    ? this.popoverBody || undefined\n                                    : undefined, teleportDisabled: !scrollable }, {\n                                default: () => {\n                                    return (h(\"div\", { class: `${clsPrefix}-dropdown-menu-wrapper` }, animated ? (h(Transition, { onBeforeEnter: this.handleSubmenuBeforeEnter, onAfterEnter: this.handleSubmenuAfterEnter, name: \"fade-in-scale-up-transition\", appear: true }, {\n                                        default: () => submenuVNode\n                                    })) : (submenuVNode)));\n                                }\n                            })))\n                    })\n                ]\n            })) : null));\n        if (renderOption) {\n            return renderOption({ node, option: rawNode });\n        }\n        return node;\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}