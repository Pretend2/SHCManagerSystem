{"ast":null,"code":"// 添加业主\nimport { ref, inject } from 'vue';\nimport { useMessage } from 'naive-ui';\nimport QueryString from 'qs';\nimport axios from 'axios';\nexport default (() => {\n  // 接收全局变量\n  const global = inject(\"global\"); // 获取消息对象\n\n  const message = useMessage(); // 业主 模态框\n\n  const ownerStatus = ref(false); // false 添加 true 修改\n\n  const ownerFormRef = ref(null); // 业主 Form 引用\n\n  const showOwnerModal = ref(false); // 模态框是否打开\n  // 表单校验\n\n  const ownerRules = {\n    user: {\n      name: {\n        required: true,\n        message: \"请输入姓名\",\n        trigger: \"blur\"\n      },\n      gender: {\n        required: true,\n        message: \"请选择性别\",\n        trigger: \"blur\"\n      },\n      age: {\n        required: true,\n        message: \"请输入年龄\",\n        trigger: \"blur\"\n      },\n      phone: {\n        required: true,\n        message: \"请输入手机号码\",\n        trigger: \"blur\"\n      }\n    }\n  }; // 表单输入数据\n\n  const ownerformValue = ref({\n    user: {\n      name: \"\",\n      gender: null,\n      age: \"\",\n      identity: \"\",\n      phone: \"\",\n      remark: \"\",\n      weCat: \"\"\n    }\n  }); // 表单提交事件\n\n  const addownerSubmit = e => {\n    e.preventDefault();\n    ownerFormRef.value?.validate(errors => {\n      if (!errors) {\n        // 校验通过\n        console.log(ownerformValue.value);\n      } else {// 校验不通过\n      }\n    });\n  }; // 性别选择框数据\n\n\n  const ownerGenderOptions = ref(['男', '女'].map(v => ({\n    label: v,\n    value: v\n  })));\n  /**\r\n   * 打开模态框\r\n   * @param {*} status false 添加 true 修改\r\n   */\n\n  const openOwnerModal = status => {\n    showOwnerModal.value = true;\n    ownerStatus.value = status;\n  };\n  /**\r\n   * 关闭模态框\r\n   */\n\n\n  const closeOwnerModal = () => {\n    showOwnerModal.value = false;\n  };\n\n  return {\n    ownerStatus,\n    // 模态 添加 or 修改 框状态\n    ownerFormRef,\n    // 业主 Form 引用\n    showOwnerModal,\n    // 显示模态框\n    ownerRules,\n    // 表单校验\n    ownerformValue,\n    // 表单参数\n    ownerGenderOptions,\n    // 性别选项数据\n    openOwnerModal,\n    // 打开模态框\n    closeOwnerModal,\n    // 关闭模态框\n    addownerSubmit // 表单提交\n\n  };\n});","map":{"version":3,"names":["ref","inject","useMessage","QueryString","axios","global","message","ownerStatus","ownerFormRef","showOwnerModal","ownerRules","user","name","required","trigger","gender","age","phone","ownerformValue","identity","remark","weCat","addownerSubmit","e","preventDefault","value","validate","errors","console","log","ownerGenderOptions","map","v","label","openOwnerModal","status","closeOwnerModal"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/src/hook/real_estate/ownerInformation/addOwnerHook.js"],"sourcesContent":["// 添加业主\r\nimport { ref, inject } from 'vue'\r\nimport { useMessage } from 'naive-ui'\r\nimport QueryString from 'qs'\r\nimport axios from 'axios'\r\n\r\nexport default () => {\r\n    // 接收全局变量\r\n    const global = inject(\"global\")\r\n    // 获取消息对象\r\n    const message = useMessage();\r\n\r\n    // 业主 模态框\r\n    const ownerStatus = ref(false); // false 添加 true 修改\r\n    const ownerFormRef = ref(null); // 业主 Form 引用\r\n    const showOwnerModal = ref(false) // 模态框是否打开\r\n\r\n    // 表单校验\r\n    const ownerRules = {\r\n        user: {\r\n            name: {\r\n                required: true,\r\n                message: \"请输入姓名\",\r\n                trigger: \"blur\"\r\n            },\r\n            gender: {\r\n                required: true,\r\n                message: \"请选择性别\",\r\n                trigger: \"blur\"\r\n            },\r\n            age: {\r\n                required: true,\r\n                message: \"请输入年龄\",\r\n                trigger: \"blur\"\r\n            },\r\n            phone: {\r\n                required: true,\r\n                message: \"请输入手机号码\",\r\n                trigger: \"blur\"\r\n            },\r\n        },\r\n    }\r\n    // 表单输入数据\r\n    const ownerformValue = ref({\r\n        user: {\r\n            name: \"\",\r\n            gender: null,\r\n            age: \"\",\r\n            identity: \"\",\r\n            phone: \"\",\r\n            remark: \"\",\r\n            weCat: \"\"\r\n        },\r\n    })\r\n\r\n    // 表单提交事件\r\n    const addownerSubmit = (e) => {\r\n        e.preventDefault();\r\n        ownerFormRef.value?.validate((errors) => {\r\n            if (!errors) {\r\n                // 校验通过\r\n                console.log(ownerformValue.value);\r\n            } else {\r\n                // 校验不通过\r\n            }\r\n        });\r\n    }\r\n    // 性别选择框数据\r\n    const ownerGenderOptions = ref(['男', '女'].map(\r\n        (v) => ({\r\n            label: v,\r\n            value: v\r\n        })\r\n    ))\r\n\r\n    /**\r\n     * 打开模态框\r\n     * @param {*} status false 添加 true 修改\r\n     */\r\n    const openOwnerModal = (status) => {\r\n        showOwnerModal.value = true;\r\n        ownerStatus.value = status\r\n    }\r\n\r\n    /**\r\n     * 关闭模态框\r\n     */\r\n    const closeOwnerModal = () => {\r\n        showOwnerModal.value = false;\r\n    }\r\n\r\n    return {\r\n        ownerStatus, // 模态 添加 or 修改 框状态\r\n        ownerFormRef, // 业主 Form 引用\r\n        showOwnerModal, // 显示模态框\r\n        ownerRules, // 表单校验\r\n        ownerformValue, // 表单参数\r\n        ownerGenderOptions, // 性别选项数据\r\n        openOwnerModal, // 打开模态框\r\n        closeOwnerModal, // 关闭模态框\r\n        addownerSubmit, // 表单提交\r\n    }\r\n\r\n}"],"mappings":"AAAA;AACA,SAASA,GAAT,EAAcC,MAAd,QAA4B,KAA5B;AACA,SAASC,UAAT,QAA2B,UAA3B;AACA,OAAOC,WAAP,MAAwB,IAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,gBAAe,MAAM;EACjB;EACA,MAAMC,MAAM,GAAGJ,MAAM,CAAC,QAAD,CAArB,CAFiB,CAGjB;;EACA,MAAMK,OAAO,GAAGJ,UAAU,EAA1B,CAJiB,CAMjB;;EACA,MAAMK,WAAW,GAAGP,GAAG,CAAC,KAAD,CAAvB,CAPiB,CAOe;;EAChC,MAAMQ,YAAY,GAAGR,GAAG,CAAC,IAAD,CAAxB,CARiB,CAQe;;EAChC,MAAMS,cAAc,GAAGT,GAAG,CAAC,KAAD,CAA1B,CATiB,CASiB;EAElC;;EACA,MAAMU,UAAU,GAAG;IACfC,IAAI,EAAE;MACFC,IAAI,EAAE;QACFC,QAAQ,EAAE,IADR;QAEFP,OAAO,EAAE,OAFP;QAGFQ,OAAO,EAAE;MAHP,CADJ;MAMFC,MAAM,EAAE;QACJF,QAAQ,EAAE,IADN;QAEJP,OAAO,EAAE,OAFL;QAGJQ,OAAO,EAAE;MAHL,CANN;MAWFE,GAAG,EAAE;QACDH,QAAQ,EAAE,IADT;QAEDP,OAAO,EAAE,OAFR;QAGDQ,OAAO,EAAE;MAHR,CAXH;MAgBFG,KAAK,EAAE;QACHJ,QAAQ,EAAE,IADP;QAEHP,OAAO,EAAE,SAFN;QAGHQ,OAAO,EAAE;MAHN;IAhBL;EADS,CAAnB,CAZiB,CAoCjB;;EACA,MAAMI,cAAc,GAAGlB,GAAG,CAAC;IACvBW,IAAI,EAAE;MACFC,IAAI,EAAE,EADJ;MAEFG,MAAM,EAAE,IAFN;MAGFC,GAAG,EAAE,EAHH;MAIFG,QAAQ,EAAE,EAJR;MAKFF,KAAK,EAAE,EALL;MAMFG,MAAM,EAAE,EANN;MAOFC,KAAK,EAAE;IAPL;EADiB,CAAD,CAA1B,CArCiB,CAiDjB;;EACA,MAAMC,cAAc,GAAIC,CAAD,IAAO;IAC1BA,CAAC,CAACC,cAAF;IACAhB,YAAY,CAACiB,KAAb,EAAoBC,QAApB,CAA8BC,MAAD,IAAY;MACrC,IAAI,CAACA,MAAL,EAAa;QACT;QACAC,OAAO,CAACC,GAAR,CAAYX,cAAc,CAACO,KAA3B;MACH,CAHD,MAGO,CACH;MACH;IACJ,CAPD;EAQH,CAVD,CAlDiB,CA6DjB;;;EACA,MAAMK,kBAAkB,GAAG9B,GAAG,CAAC,CAAC,GAAD,EAAM,GAAN,EAAW+B,GAAX,CAC1BC,CAAD,KAAQ;IACJC,KAAK,EAAED,CADH;IAEJP,KAAK,EAAEO;EAFH,CAAR,CAD2B,CAAD,CAA9B;EAOA;AACJ;AACA;AACA;;EACI,MAAME,cAAc,GAAIC,MAAD,IAAY;IAC/B1B,cAAc,CAACgB,KAAf,GAAuB,IAAvB;IACAlB,WAAW,CAACkB,KAAZ,GAAoBU,MAApB;EACH,CAHD;EAKA;AACJ;AACA;;;EACI,MAAMC,eAAe,GAAG,MAAM;IAC1B3B,cAAc,CAACgB,KAAf,GAAuB,KAAvB;EACH,CAFD;;EAIA,OAAO;IACHlB,WADG;IACU;IACbC,YAFG;IAEW;IACdC,cAHG;IAGa;IAChBC,UAJG;IAIS;IACZQ,cALG;IAKa;IAChBY,kBANG;IAMiB;IACpBI,cAPG;IAOa;IAChBE,eARG;IAQc;IACjBd,cATG,CASa;;EATb,CAAP;AAYH,CAjGD"},"metadata":{},"sourceType":"module"}