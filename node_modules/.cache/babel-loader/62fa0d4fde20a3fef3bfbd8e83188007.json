{"ast":null,"code":"import { ref, onBeforeMount, onBeforeUnmount } from 'vue';\nimport { isBrowser } from '../env/is-browser';\nconst isComposingRef = ref(false);\n\nconst compositionStartHandler = () => {\n  isComposingRef.value = true;\n};\n\nconst compositionEndHandler = () => {\n  isComposingRef.value = false;\n};\n\nlet mountedCount = 0;\nexport const useIsComposing = () => {\n  if (isBrowser) {\n    onBeforeMount(() => {\n      if (!mountedCount) {\n        window.addEventListener('compositionstart', compositionStartHandler);\n        window.addEventListener('compositionend', compositionEndHandler);\n      }\n\n      mountedCount++;\n    });\n    onBeforeUnmount(() => {\n      if (mountedCount <= 1) {\n        window.removeEventListener('compositionstart', compositionStartHandler);\n        window.removeEventListener('compositionend', compositionEndHandler);\n        mountedCount = 0;\n      } else {\n        mountedCount--;\n      }\n    });\n  }\n\n  return isComposingRef;\n};","map":{"version":3,"names":["ref","onBeforeMount","onBeforeUnmount","isBrowser","isComposingRef","compositionStartHandler","value","compositionEndHandler","mountedCount","useIsComposing","window","addEventListener","removeEventListener"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/_utils/composable/use-is-composing.js"],"sourcesContent":["import { ref, onBeforeMount, onBeforeUnmount } from 'vue';\nimport { isBrowser } from '../env/is-browser';\nconst isComposingRef = ref(false);\nconst compositionStartHandler = () => {\n    isComposingRef.value = true;\n};\nconst compositionEndHandler = () => {\n    isComposingRef.value = false;\n};\nlet mountedCount = 0;\nexport const useIsComposing = () => {\n    if (isBrowser) {\n        onBeforeMount(() => {\n            if (!mountedCount) {\n                window.addEventListener('compositionstart', compositionStartHandler);\n                window.addEventListener('compositionend', compositionEndHandler);\n            }\n            mountedCount++;\n        });\n        onBeforeUnmount(() => {\n            if (mountedCount <= 1) {\n                window.removeEventListener('compositionstart', compositionStartHandler);\n                window.removeEventListener('compositionend', compositionEndHandler);\n                mountedCount = 0;\n            }\n            else {\n                mountedCount--;\n            }\n        });\n    }\n    return isComposingRef;\n};\n"],"mappings":"AAAA,SAASA,GAAT,EAAcC,aAAd,EAA6BC,eAA7B,QAAoD,KAApD;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,MAAMC,cAAc,GAAGJ,GAAG,CAAC,KAAD,CAA1B;;AACA,MAAMK,uBAAuB,GAAG,MAAM;EAClCD,cAAc,CAACE,KAAf,GAAuB,IAAvB;AACH,CAFD;;AAGA,MAAMC,qBAAqB,GAAG,MAAM;EAChCH,cAAc,CAACE,KAAf,GAAuB,KAAvB;AACH,CAFD;;AAGA,IAAIE,YAAY,GAAG,CAAnB;AACA,OAAO,MAAMC,cAAc,GAAG,MAAM;EAChC,IAAIN,SAAJ,EAAe;IACXF,aAAa,CAAC,MAAM;MAChB,IAAI,CAACO,YAAL,EAAmB;QACfE,MAAM,CAACC,gBAAP,CAAwB,kBAAxB,EAA4CN,uBAA5C;QACAK,MAAM,CAACC,gBAAP,CAAwB,gBAAxB,EAA0CJ,qBAA1C;MACH;;MACDC,YAAY;IACf,CANY,CAAb;IAOAN,eAAe,CAAC,MAAM;MAClB,IAAIM,YAAY,IAAI,CAApB,EAAuB;QACnBE,MAAM,CAACE,mBAAP,CAA2B,kBAA3B,EAA+CP,uBAA/C;QACAK,MAAM,CAACE,mBAAP,CAA2B,gBAA3B,EAA6CL,qBAA7C;QACAC,YAAY,GAAG,CAAf;MACH,CAJD,MAKK;QACDA,YAAY;MACf;IACJ,CATc,CAAf;EAUH;;EACD,OAAOJ,cAAP;AACH,CArBM"},"metadata":{},"sourceType":"module"}