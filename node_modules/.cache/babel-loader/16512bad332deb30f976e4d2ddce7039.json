{"ast":null,"code":"import { h, defineComponent, Transition, withDirectives, ref } from 'vue';\nimport { VBinder, VTarget, VFollower } from 'vueuc';\nimport { clickoutside } from 'vdirs';\nimport { getPreciseEventTarget } from 'seemly';\nimport MonthPanel from './month';\nexport default defineComponent({\n  props: {\n    mergedClsPrefix: {\n      type: String,\n      required: true\n    },\n    value: Number,\n    monthBeforeYear: {\n      type: Boolean,\n      required: true\n    },\n    calendarMonth: {\n      type: String,\n      required: true\n    },\n    calendarYear: {\n      type: String,\n      required: true\n    },\n    onUpdateValue: {\n      type: Function,\n      required: true\n    }\n  },\n\n  setup() {\n    const triggerRef = ref(null);\n    const monthPanelRef = ref(null);\n    const showRef = ref(false);\n\n    function handleClickOutside(e) {\n      var _a;\n\n      if (showRef.value && !((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.contains(getPreciseEventTarget(e)))) {\n        showRef.value = false;\n      }\n    }\n\n    function handleHeaderClick() {\n      showRef.value = !showRef.value;\n    }\n\n    return {\n      show: showRef,\n      triggerRef,\n      monthPanelRef,\n      handleHeaderClick,\n      handleClickOutside\n    };\n  },\n\n  render() {\n    const {\n      handleClickOutside,\n      mergedClsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${mergedClsPrefix}-date-panel-month__month-year`,\n      ref: \"triggerRef\"\n    }, h(VBinder, null, {\n      default: () => [h(VTarget, null, {\n        default: () => h(\"div\", {\n          class: [`${mergedClsPrefix}-date-panel-month__text`, this.show && `${mergedClsPrefix}-date-panel-month__text--active`],\n          onClick: this.handleHeaderClick\n        }, this.monthBeforeYear ? [this.calendarMonth, ' ', this.calendarYear] : [this.calendarYear, ' ', this.calendarMonth])\n      }), h(VFollower, {\n        show: this.show,\n        teleportDisabled: true\n      }, {\n        default: () => h(Transition, {\n          name: \"fade-in-scale-up-transition\",\n          appear: true\n        }, {\n          default: () => this.show ? withDirectives(h(MonthPanel, {\n            ref: \"monthPanelRef\",\n            onUpdateValue: this.onUpdateValue,\n            actions: [],\n            // month and year click show month type\n            type: \"month\",\n            key: \"month\",\n            useAsQuickJump: true,\n            value: this.value\n          }), [[clickoutside, handleClickOutside, undefined, {\n            capture: true\n          }]]) : null\n        })\n      })]\n    }));\n  }\n\n});","map":{"version":3,"names":["h","defineComponent","Transition","withDirectives","ref","VBinder","VTarget","VFollower","clickoutside","getPreciseEventTarget","MonthPanel","props","mergedClsPrefix","type","String","required","value","Number","monthBeforeYear","Boolean","calendarMonth","calendarYear","onUpdateValue","Function","setup","triggerRef","monthPanelRef","showRef","handleClickOutside","e","_a","contains","handleHeaderClick","show","render","class","default","onClick","teleportDisabled","name","appear","actions","key","useAsQuickJump","undefined","capture"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/date-picker/src/panel/panelHeader.js"],"sourcesContent":["import { h, defineComponent, Transition, withDirectives, ref } from 'vue';\nimport { VBinder, VTarget, VFollower } from 'vueuc';\nimport { clickoutside } from 'vdirs';\nimport { getPreciseEventTarget } from 'seemly';\nimport MonthPanel from './month';\nexport default defineComponent({\n    props: {\n        mergedClsPrefix: {\n            type: String,\n            required: true\n        },\n        value: Number,\n        monthBeforeYear: {\n            type: Boolean,\n            required: true\n        },\n        calendarMonth: {\n            type: String,\n            required: true\n        },\n        calendarYear: {\n            type: String,\n            required: true\n        },\n        onUpdateValue: {\n            type: Function,\n            required: true\n        }\n    },\n    setup() {\n        const triggerRef = ref(null);\n        const monthPanelRef = ref(null);\n        const showRef = ref(false);\n        function handleClickOutside(e) {\n            var _a;\n            if (showRef.value &&\n                !((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.contains(getPreciseEventTarget(e)))) {\n                showRef.value = false;\n            }\n        }\n        function handleHeaderClick() {\n            showRef.value = !showRef.value;\n        }\n        return {\n            show: showRef,\n            triggerRef,\n            monthPanelRef,\n            handleHeaderClick,\n            handleClickOutside\n        };\n    },\n    render() {\n        const { handleClickOutside, mergedClsPrefix } = this;\n        return (h(\"div\", { class: `${mergedClsPrefix}-date-panel-month__month-year`, ref: \"triggerRef\" },\n            h(VBinder, null, {\n                default: () => [\n                    h(VTarget, null, {\n                        default: () => (h(\"div\", { class: [\n                                `${mergedClsPrefix}-date-panel-month__text`,\n                                this.show &&\n                                    `${mergedClsPrefix}-date-panel-month__text--active`\n                            ], onClick: this.handleHeaderClick }, this.monthBeforeYear\n                            ? [this.calendarMonth, ' ', this.calendarYear]\n                            : [this.calendarYear, ' ', this.calendarMonth]))\n                    }),\n                    h(VFollower, { show: this.show, teleportDisabled: true }, {\n                        default: () => (h(Transition, { name: \"fade-in-scale-up-transition\", appear: true }, {\n                            default: () => this.show\n                                ? withDirectives(h(MonthPanel, { ref: \"monthPanelRef\", onUpdateValue: this.onUpdateValue, actions: [], \n                                    // month and year click show month type\n                                    type: \"month\", key: \"month\", useAsQuickJump: true, value: this.value }), [\n                                    [\n                                        clickoutside,\n                                        handleClickOutside,\n                                        undefined,\n                                        { capture: true }\n                                    ]\n                                ])\n                                : null\n                        }))\n                    })\n                ]\n            })));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}