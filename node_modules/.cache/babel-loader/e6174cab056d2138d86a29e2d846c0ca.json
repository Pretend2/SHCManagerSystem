{"ast":null,"code":"import { createApp, h, unref } from 'vue';\nimport { NConfigProvider } from '../../config-provider';\nimport { useDialog } from '../../dialog';\nimport { useLoadingBar } from '../../loading-bar';\nimport { useMessage } from '../../message';\nimport { useNotification } from '../../notification';\nimport { warn } from '../../_utils';\nimport { NInjectionExtractor } from './InjectionExtractor';\nconst injectionFactoryMap = {\n  message: useMessage,\n  notification: useNotification,\n  loadingBar: useLoadingBar,\n  dialog: useDialog\n};\nexport function createDiscreteApp({\n  providersAndProps,\n  configProviderProps\n}) {\n  const extractedApi = {};\n\n  const App = () => {\n    return h(NConfigProvider, unref(configProviderProps), {\n      default: () => providersAndProps.map(({\n        type,\n        Provider,\n        props\n      }) => {\n        return h(Provider, unref(props), {\n          default: () => h(NInjectionExtractor, {\n            onSetup: () => extractedApi[type] = injectionFactoryMap[type]()\n          })\n        });\n      })\n    });\n  };\n\n  let app = createApp(App);\n  let hostEl = document.createElement('div');\n  document.body.appendChild(hostEl);\n  app.mount(hostEl);\n\n  const unmount = () => {\n    var _a;\n\n    if (app === null || hostEl === null) {\n      warn('discrete', 'unmount call no need because discrete app has been unmounted');\n      return;\n    }\n\n    app.unmount();\n    (_a = hostEl.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(hostEl);\n    hostEl = null;\n    app = null;\n  };\n\n  return Object.assign({\n    unmount\n  }, extractedApi);\n}","map":{"version":3,"names":["createApp","h","unref","NConfigProvider","useDialog","useLoadingBar","useMessage","useNotification","warn","NInjectionExtractor","injectionFactoryMap","message","notification","loadingBar","dialog","createDiscreteApp","providersAndProps","configProviderProps","extractedApi","App","default","map","type","Provider","props","onSetup","app","hostEl","document","createElement","body","appendChild","mount","unmount","_a","parentNode","removeChild","Object","assign"],"sources":["D:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/discrete/src/discreteApp.js"],"sourcesContent":["import { createApp, h, unref } from 'vue';\nimport { NConfigProvider } from '../../config-provider';\nimport { useDialog } from '../../dialog';\nimport { useLoadingBar } from '../../loading-bar';\nimport { useMessage } from '../../message';\nimport { useNotification } from '../../notification';\nimport { warn } from '../../_utils';\nimport { NInjectionExtractor } from './InjectionExtractor';\nconst injectionFactoryMap = {\n    message: useMessage,\n    notification: useNotification,\n    loadingBar: useLoadingBar,\n    dialog: useDialog\n};\nexport function createDiscreteApp({ providersAndProps, configProviderProps }) {\n    const extractedApi = {};\n    const App = () => {\n        return h(NConfigProvider, unref(configProviderProps), {\n            default: () => providersAndProps.map(({ type, Provider, props }) => {\n                return h(Provider, unref(props), {\n                    default: () => h(NInjectionExtractor, {\n                        onSetup: () => (extractedApi[type] = injectionFactoryMap[type]())\n                    })\n                });\n            })\n        });\n    };\n    let app = createApp(App);\n    let hostEl = document.createElement('div');\n    document.body.appendChild(hostEl);\n    app.mount(hostEl);\n    const unmount = () => {\n        var _a;\n        if (app === null || hostEl === null) {\n            warn('discrete', 'unmount call no need because discrete app has been unmounted');\n            return;\n        }\n        app.unmount();\n        (_a = hostEl.parentNode) === null || _a === void 0 ? void 0 : _a.removeChild(hostEl);\n        hostEl = null;\n        app = null;\n    };\n    return Object.assign({ unmount }, extractedApi);\n}\n"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,CAApB,EAAuBC,KAAvB,QAAoC,KAApC;AACA,SAASC,eAAT,QAAgC,uBAAhC;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,aAAT,QAA8B,mBAA9B;AACA,SAASC,UAAT,QAA2B,eAA3B;AACA,SAASC,eAAT,QAAgC,oBAAhC;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,mBAAT,QAAoC,sBAApC;AACA,MAAMC,mBAAmB,GAAG;EACxBC,OAAO,EAAEL,UADe;EAExBM,YAAY,EAAEL,eAFU;EAGxBM,UAAU,EAAER,aAHY;EAIxBS,MAAM,EAAEV;AAJgB,CAA5B;AAMA,OAAO,SAASW,iBAAT,CAA2B;EAAEC,iBAAF;EAAqBC;AAArB,CAA3B,EAAuE;EAC1E,MAAMC,YAAY,GAAG,EAArB;;EACA,MAAMC,GAAG,GAAG,MAAM;IACd,OAAOlB,CAAC,CAACE,eAAD,EAAkBD,KAAK,CAACe,mBAAD,CAAvB,EAA8C;MAClDG,OAAO,EAAE,MAAMJ,iBAAiB,CAACK,GAAlB,CAAsB,CAAC;QAAEC,IAAF;QAAQC,QAAR;QAAkBC;MAAlB,CAAD,KAA+B;QAChE,OAAOvB,CAAC,CAACsB,QAAD,EAAWrB,KAAK,CAACsB,KAAD,CAAhB,EAAyB;UAC7BJ,OAAO,EAAE,MAAMnB,CAAC,CAACQ,mBAAD,EAAsB;YAClCgB,OAAO,EAAE,MAAOP,YAAY,CAACI,IAAD,CAAZ,GAAqBZ,mBAAmB,CAACY,IAAD,CAAnB;UADH,CAAtB;QADa,CAAzB,CAAR;MAKH,CANc;IADmC,CAA9C,CAAR;EASH,CAVD;;EAWA,IAAII,GAAG,GAAG1B,SAAS,CAACmB,GAAD,CAAnB;EACA,IAAIQ,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,KAAvB,CAAb;EACAD,QAAQ,CAACE,IAAT,CAAcC,WAAd,CAA0BJ,MAA1B;EACAD,GAAG,CAACM,KAAJ,CAAUL,MAAV;;EACA,MAAMM,OAAO,GAAG,MAAM;IAClB,IAAIC,EAAJ;;IACA,IAAIR,GAAG,KAAK,IAAR,IAAgBC,MAAM,KAAK,IAA/B,EAAqC;MACjCnB,IAAI,CAAC,UAAD,EAAa,8DAAb,CAAJ;MACA;IACH;;IACDkB,GAAG,CAACO,OAAJ;IACA,CAACC,EAAE,GAAGP,MAAM,CAACQ,UAAb,MAA6B,IAA7B,IAAqCD,EAAE,KAAK,KAAK,CAAjD,GAAqD,KAAK,CAA1D,GAA8DA,EAAE,CAACE,WAAH,CAAeT,MAAf,CAA9D;IACAA,MAAM,GAAG,IAAT;IACAD,GAAG,GAAG,IAAN;EACH,CAVD;;EAWA,OAAOW,MAAM,CAACC,MAAP,CAAc;IAAEL;EAAF,CAAd,EAA2Bf,YAA3B,CAAP;AACH"},"metadata":{},"sourceType":"module"}