{"ast":null,"code":"import { defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { normalizeHue } from './utils';\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nconst RADIUS_NUM = 6;\nconst GRADIENT = 'linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)';\nexport default defineComponent({\n  name: 'HueSlider',\n  props: {\n    clsPrefix: {\n      type: String,\n      required: true\n    },\n    hue: {\n      type: Number,\n      required: true\n    },\n    onUpdateHue: {\n      type: Function,\n      required: true\n    },\n    onComplete: Function\n  },\n\n  setup(props) {\n    const railRef = ref(null);\n\n    function handleMouseDown(e) {\n      if (!railRef.value) return;\n      on('mousemove', document, handleMouseMove);\n      on('mouseup', document, handleMouseUp);\n      handleMouseMove(e);\n    }\n\n    function handleMouseMove(e) {\n      const {\n        value: railEl\n      } = railRef;\n      if (!railEl) return;\n      const {\n        width,\n        left\n      } = railEl.getBoundingClientRect();\n      const newHue = normalizeHue((e.clientX - left - RADIUS_NUM) / (width - HANDLE_SIZE_NUM) * 360);\n      props.onUpdateHue(newHue);\n    }\n\n    function handleMouseUp() {\n      var _a;\n\n      off('mousemove', document, handleMouseMove);\n      off('mouseup', document, handleMouseUp);\n      (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n\n    return {\n      railRef,\n      handleMouseDown\n    };\n  },\n\n  render() {\n    const {\n      clsPrefix\n    } = this;\n    return h(\"div\", {\n      class: `${clsPrefix}-color-picker-slider`,\n      style: {\n        height: HANDLE_SIZE,\n        borderRadius: RADIUS\n      }\n    }, h(\"div\", {\n      ref: \"railRef\",\n      style: {\n        boxShadow: 'inset 0 0 2px 0 rgba(0, 0, 0, .24)',\n        boxSizing: 'border-box',\n        backgroundImage: GRADIENT,\n        height: HANDLE_SIZE,\n        borderRadius: RADIUS,\n        position: 'relative'\n      },\n      onMousedown: this.handleMouseDown\n    }, h(\"div\", {\n      style: {\n        position: 'absolute',\n        left: RADIUS,\n        right: RADIUS,\n        top: 0,\n        bottom: 0\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle`,\n      style: {\n        left: `calc((${this.hue}%) / 359 * 100 - ${RADIUS})`,\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    }, h(\"div\", {\n      class: `${clsPrefix}-color-picker-handle__fill`,\n      style: {\n        backgroundColor: `hsl(${this.hue}, 100%, 50%)`,\n        borderRadius: RADIUS,\n        width: HANDLE_SIZE,\n        height: HANDLE_SIZE\n      }\n    })))));\n  }\n\n});","map":{"version":3,"names":["defineComponent","h","ref","off","on","normalizeHue","HANDLE_SIZE","HANDLE_SIZE_NUM","RADIUS","RADIUS_NUM","GRADIENT","name","props","clsPrefix","type","String","required","hue","Number","onUpdateHue","Function","onComplete","setup","railRef","handleMouseDown","e","value","document","handleMouseMove","handleMouseUp","railEl","width","left","getBoundingClientRect","newHue","clientX","_a","call","render","class","style","height","borderRadius","boxShadow","boxSizing","backgroundImage","position","onMousedown","right","top","bottom","backgroundColor"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/color-picker/src/HueSlider.js"],"sourcesContent":["import { defineComponent, h, ref } from 'vue';\nimport { off, on } from 'evtd';\nimport { normalizeHue } from './utils';\nconst HANDLE_SIZE = '12px';\nconst HANDLE_SIZE_NUM = 12;\nconst RADIUS = '6px';\nconst RADIUS_NUM = 6;\nconst GRADIENT = 'linear-gradient(90deg,red,#ff0 16.66%,#0f0 33.33%,#0ff 50%,#00f 66.66%,#f0f 83.33%,red)';\nexport default defineComponent({\n    name: 'HueSlider',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        hue: {\n            type: Number,\n            required: true\n        },\n        onUpdateHue: {\n            type: Function,\n            required: true\n        },\n        onComplete: Function\n    },\n    setup(props) {\n        const railRef = ref(null);\n        function handleMouseDown(e) {\n            if (!railRef.value)\n                return;\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n            handleMouseMove(e);\n        }\n        function handleMouseMove(e) {\n            const { value: railEl } = railRef;\n            if (!railEl)\n                return;\n            const { width, left } = railEl.getBoundingClientRect();\n            const newHue = normalizeHue(((e.clientX - left - RADIUS_NUM) / (width - HANDLE_SIZE_NUM)) * 360);\n            props.onUpdateHue(newHue);\n        }\n        function handleMouseUp() {\n            var _a;\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            (_a = props.onComplete) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        return {\n            railRef,\n            handleMouseDown\n        };\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(\"div\", { class: `${clsPrefix}-color-picker-slider`, style: {\n                height: HANDLE_SIZE,\n                borderRadius: RADIUS\n            } },\n            h(\"div\", { ref: \"railRef\", style: {\n                    boxShadow: 'inset 0 0 2px 0 rgba(0, 0, 0, .24)',\n                    boxSizing: 'border-box',\n                    backgroundImage: GRADIENT,\n                    height: HANDLE_SIZE,\n                    borderRadius: RADIUS,\n                    position: 'relative'\n                }, onMousedown: this.handleMouseDown },\n                h(\"div\", { style: {\n                        position: 'absolute',\n                        left: RADIUS,\n                        right: RADIUS,\n                        top: 0,\n                        bottom: 0\n                    } },\n                    h(\"div\", { class: `${clsPrefix}-color-picker-handle`, style: {\n                            left: `calc((${this.hue}%) / 359 * 100 - ${RADIUS})`,\n                            borderRadius: RADIUS,\n                            width: HANDLE_SIZE,\n                            height: HANDLE_SIZE\n                        } },\n                        h(\"div\", { class: `${clsPrefix}-color-picker-handle__fill`, style: {\n                                backgroundColor: `hsl(${this.hue}, 100%, 50%)`,\n                                borderRadius: RADIUS,\n                                width: HANDLE_SIZE,\n                                height: HANDLE_SIZE\n                            } }))))));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}