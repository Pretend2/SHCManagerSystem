{"ast":null,"code":"import { createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, renderSlot as _renderSlot, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-e3875c9c\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"my-select\"\n};\nconst _hoisted_2 = {\n  class: \"sub-info\"\n};\nconst _hoisted_3 = {\n  class: \"sub-info\"\n};\nconst _hoisted_4 = {\n  class: \"sub-info\"\n};\nconst _hoisted_5 = {\n  class: \"sub-info\"\n};\nconst _hoisted_6 = {\n  class: \"sub-info\"\n};\nconst _hoisted_7 = {\n  class: \"sub-info\"\n};\nconst _hoisted_8 = {\n  class: \"sub-info\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createBlock($setup[\"NModal\"], {\n    show: $setup.show,\n    \"transform-origin\": \"center\"\n  }, {\n    default: _withCtx(() => [_createVNode($setup[\"NCard\"], {\n      style: {\n        \"width\": \"800px\"\n      },\n      title: \"选择房屋\",\n      bordered: false,\n      size: \"huge\",\n      role: \"dialog\",\n      \"aria-modal\": \"true\"\n    }, {\n      footer: _withCtx(() => [_renderSlot(_ctx.$slots, \"footer\", {}, undefined, true)]),\n      default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_1, [_createVNode($setup[\"NSelect\"], {\n        value: $setup.selectOption.buildingValue,\n        \"onUpdate:value\": [_cache[0] || (_cache[0] = $event => $setup.selectOption.buildingValue = $event), $setup.buildingUpdateValue],\n        filterable: \"\",\n        loading: $setup.buildingLoading,\n        style: {\n          \"margin-right\": \"5px\"\n        },\n        disabled: $setup.selectDisabled.buildingDisabled,\n        options: $setup.buildingOptions,\n        placeholder: \"请选择楼栋\"\n      }, null, 8\n      /* PROPS */\n      , [\"value\", \"loading\", \"disabled\", \"options\"]), _createVNode($setup[\"NSelect\"], {\n        value: $setup.selectOption.housingValue,\n        \"onUpdate:value\": [_cache[1] || (_cache[1] = $event => $setup.selectOption.housingValue = $event), $setup.housingUpdateValue],\n        filterable: \"\",\n        loading: $setup.housingLoading,\n        style: {\n          \"margin-left\": \"5px\"\n        },\n        disabled: $setup.selectDisabled.housingDisabled,\n        options: $setup.housingOptions,\n        placeholder: \"请选择房屋\"\n      }, null, 8\n      /* PROPS */\n      , [\"value\", \"loading\", \"disabled\", \"options\"])]), $setup.selectOption.housingValue != null ? (_openBlock(), _createBlock($setup[\"NGrid\"], {\n        key: 0,\n        \"y-gap\": 16,\n        style: {\n          \"margin\": \"16px\"\n        },\n        cols: \"1 400:2 600:3\"\n      }, {\n        default: _withCtx(() => [_createVNode($setup[\"NGridItem\"], null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_2, \" 房屋ID：\" + _toDisplayString($setup.housingInfo.id), 1\n          /* TEXT */\n          )]),\n          _: 1\n          /* STABLE */\n\n        }), _createVNode($setup[\"NGridItem\"], null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, \" 房屋编号：\" + _toDisplayString($setup.housingInfo.housesNo), 1\n          /* TEXT */\n          )]),\n          _: 1\n          /* STABLE */\n\n        }), _createVNode($setup[\"NGridItem\"], null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_4, \" 单元：\" + _toDisplayString($setup.housingInfo.unit.unitNo) + \" 单元 \", 1\n          /* TEXT */\n          )]),\n          _: 1\n          /* STABLE */\n\n        }), _createVNode($setup[\"NGridItem\"], null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_5, \" 楼层： \" + _toDisplayString($setup.housingInfo.floor), 1\n          /* TEXT */\n          )]),\n          _: 1\n          /* STABLE */\n\n        }), _createVNode($setup[\"NGridItem\"], null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_6, \" 户型：\" + _toDisplayString($setup.housingInfo.propertyType), 1\n          /* TEXT */\n          )]),\n          _: 1\n          /* STABLE */\n\n        }), _createVNode($setup[\"NGridItem\"], null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_7, \" 建筑面积：\" + _toDisplayString($setup.housingInfo.area) + \" 平方米 \", 1\n          /* TEXT */\n          )]),\n          _: 1\n          /* STABLE */\n\n        }), _createVNode($setup[\"NGridItem\"], null, {\n          default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_8, \" 备注：\" + _toDisplayString($setup.housingInfo.remark), 1\n          /* TEXT */\n          )]),\n          _: 1\n          /* STABLE */\n\n        })]),\n        _: 1\n        /* STABLE */\n\n      })) : _createCommentVNode(\"v-if\", true), _renderSlot(_ctx.$slots, \"content\", {}, undefined, true)]),\n      _: 3\n      /* FORWARDED */\n\n    })]),\n    _: 3\n    /* FORWARDED */\n\n  }, 8\n  /* PROPS */\n  , [\"show\"]);\n}","map":{"version":3,"mappings":"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","names":["class","_createBlock","$setup","show","_createVNode","style","title","bordered","size","role","footer","_renderSlot","_ctx","undefined","_createElementVNode","value","buildingValue","$event","filterable","loading","disabled","buildingDisabled","options","placeholder","housingValue","housingDisabled","cols","_toDisplayString","id","housesNo","unit","unitNo","floor","propertyType","area","remark"],"sourceRoot":"","sources":["E:\\VCode\\SHC社区管理系统\\shc_community_manager_system\\src\\components\\HousingOption.vue"],"sourcesContent":["<template>\r\n    <n-modal :show=\"show\" transform-origin=\"center\">\r\n        <n-card style=\"width: 800px\" title=\"选择房屋\" :bordered=\"false\" size=\"huge\" role=\"dialog\" aria-modal=\"true\">\r\n\r\n            <div class=\"my-select\">\r\n                <n-select v-model:value=\"selectOption.buildingValue\" filterable :loading=\"buildingLoading\"\r\n                    style=\"margin-right: 5px;\" @update:value=\"buildingUpdateValue\"\r\n                    :disabled=\"selectDisabled.buildingDisabled\" :options=\"buildingOptions\" placeholder=\"请选择楼栋\" />\r\n                <n-select v-model:value=\"selectOption.housingValue\" @update:value=\"housingUpdateValue\" filterable\r\n                    :loading=\"housingLoading\" style=\"margin-left: 5px\" :disabled=\"selectDisabled.housingDisabled\"\r\n                    :options=\"housingOptions\" placeholder=\"请选择房屋\" />\r\n            </div>\r\n\r\n            <n-grid :y-gap=\"16\" v-if=\"selectOption.housingValue != null\" style=\"margin: 16px;\" cols=\"1 400:2 600:3\">\r\n                <n-grid-item>\r\n                    <div class=\"sub-info\">\r\n                        房屋ID：{{housingInfo.id}}\r\n                    </div>\r\n                </n-grid-item>\r\n                <n-grid-item>\r\n                    <div class=\"sub-info\">\r\n                        房屋编号：{{housingInfo.housesNo}}\r\n                    </div>\r\n                </n-grid-item>\r\n                <n-grid-item>\r\n                    <div class=\"sub-info\">\r\n                        单元：{{housingInfo.unit.unitNo}} 单元\r\n                    </div>\r\n                </n-grid-item>\r\n                <n-grid-item>\r\n                    <div class=\"sub-info\">\r\n                        楼层： {{housingInfo.floor}}\r\n                    </div>\r\n                </n-grid-item>\r\n                <n-grid-item>\r\n                    <div class=\"sub-info\">\r\n                        户型：{{housingInfo.propertyType}}\r\n                    </div>\r\n                </n-grid-item>\r\n                <n-grid-item>\r\n                    <div class=\"sub-info\">\r\n                        建筑面积：{{housingInfo.area}} 平方米\r\n                    </div>\r\n                </n-grid-item>\r\n                <n-grid-item>\r\n                    <div class=\"sub-info\">\r\n                        备注：{{housingInfo.remark}}\r\n                    </div>\r\n                </n-grid-item>\r\n            </n-grid>\r\n\r\n            <slot name=\"content\"></slot>\r\n\r\n            <template #footer>\r\n                <slot name=\"footer\"></slot>\r\n            </template>\r\n        </n-card>\r\n    </n-modal>\r\n</template>\r\n\r\n<script setup>\r\n// 引入 vue\r\nimport { ref, toRefs, inject, reactive, watch, computed } from 'vue'\r\n// 引入 naive-ui 组件\r\nimport {\r\n    NModal, NCard, NSpace, NButton, NSelect,\r\n    useMessage, NGridItem, NGrid\r\n} from 'naive-ui'\r\n// 引入 axios\r\nimport axios from 'axios';\r\n\r\nimport QueryString from 'qs'\r\n\r\nimport { mergeObject } from '../util/BaseUtil'\r\n\r\n// 接收全局变量\r\nconst global = inject(\"global\")\r\n\r\n// 获取 message 对象\r\nconst message = useMessage();\r\n\r\n// props 参数\r\nconst props = defineProps({\r\n    show: { // 接收标题参数\r\n        type: Boolean, // 参数类型为 Boolean 类型\r\n        default: false // 默认值\r\n    },\r\n    data: { // 接收数据参数\r\n        type: Object,\r\n        default: {}\r\n    },\r\n    reqUrl: { // 接收请求地址\r\n        type: String,\r\n        default: '/getHousesByBuildingId/'\r\n    },\r\n})\r\n\r\n// 接收响应式数据\r\nconst { show, data,reqUrl } = toRefs(props);\r\n\r\nwatch(show, (newValue, oldValue) => {\r\n    selectOption.buildingValue = null\r\n    selectOption.housingValue = null\r\n    data.value.data = null\r\n})\r\n\r\n// 加载\r\nconst buildingLoading = ref(false) // 楼栋\r\nconst housingLoading = ref(false) // 房屋\r\n\r\nconst selectDisabled = reactive({\r\n    buildingDisabled: computed(() => {\r\n        return housingLoading.value\r\n    }),\r\n    housingDisabled: computed(() => {\r\n        return selectOption.buildingValue == null\r\n    })\r\n})\r\n\r\nconst selectOption = reactive({\r\n    buildingValue: null,\r\n    housingValue: null,\r\n})\r\n\r\nconst buildingUpdateValue = (value, option) => {\r\n    loadHousing(option.data.id)\r\n    housingOptions.value = []\r\n    selectOption.housingValue = null;\r\n}\r\n\r\nconst housingUpdateValue = (value, option) => {\r\n    housingInfo.value = option.data\r\n    data.value.data = option.data\r\n}\r\n\r\n// 楼栋数据\r\nconst buildingOptions = ref([])\r\n// 房屋数据\r\nconst housingOptions = ref([])\r\n\r\nconst housingInfo = ref({\r\n    id: null,\r\n    housesNo: null,\r\n    unit: {\r\n        unitNo: null,\r\n    },\r\n    floor: null,\r\n    propertyType: null,\r\n    area: null,\r\n    remark: null\r\n})\r\n\r\n/**\r\n * 加载楼栋信息\r\n */\r\nconst loadBuilding = () => {\r\n    buildingLoading.value = true\r\n    axios({\r\n        method: 'get',\r\n        url: global.api + '/getAllBuildings'\r\n    }).then(res => {\r\n        buildingOptions.value = []\r\n        for (let building of res.data) {\r\n            const buildingData = {\r\n                label: building.name,\r\n                value: building.id,\r\n                data: building\r\n            }\r\n            buildingOptions.value.push(buildingData)\r\n        }\r\n    }).catch(err => {\r\n        message.error(\"楼栋加载失败！\" + err)\r\n    }).finally(() => {\r\n        buildingLoading.value = false\r\n    })\r\n}\r\n/**\r\n * 加载房屋信息\r\n */\r\nconst loadHousing = (id) => {\r\n    housingLoading.value = true\r\n    axios({\r\n        method: 'get',\r\n        url: global.api + reqUrl + id\r\n    }).then(res => {\r\n        housingOptions.value = []\r\n        for (let housing of res.data) {\r\n            const housingData = {\r\n                label: housing.unit.unitNo + \" - \" + housing.housesNo,\r\n                value: housing.id,\r\n                data: housing\r\n            }\r\n            housingOptions.value.push(housingData)\r\n        }\r\n    }).catch(err => {\r\n        message.error(\"房屋加载失败！\" + err)\r\n    }).finally(() => {\r\n        housingLoading.value = false\r\n    })\r\n}\r\n// 调用加载楼栋\r\nloadBuilding()\r\n\r\n</script>\r\n<script>\r\nexport default {\r\n    name: 'HousingOption'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.my-select {\r\n    display: flex;\r\n    justify-content: center;\r\n}\r\n</style>"]},"metadata":{},"sourceType":"module"}