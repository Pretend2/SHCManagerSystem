{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { h, defineComponent, ref, onBeforeUpdate } from 'vue';\nimport { indexMap } from 'seemly';\nimport { useConfig } from '../../_mixins';\nimport { useCarouselContext } from './CarouselContext';\nconst carouselDotsProps = {\n  total: {\n    type: Number,\n    default: 0\n  },\n  currentIndex: {\n    type: Number,\n    default: 0\n  },\n  dotType: {\n    type: String,\n    default: 'dot'\n  },\n  trigger: {\n    type: String,\n    default: 'click'\n  },\n  keyboard: Boolean\n};\nexport default defineComponent({\n  name: 'CarouselDots',\n  props: carouselDotsProps,\n\n  setup(props) {\n    const {\n      mergedClsPrefixRef\n    } = useConfig(props);\n    const dotElsRef = ref([]);\n    const NCarousel = useCarouselContext();\n\n    function handleKeydown(e, current) {\n      switch (e.key) {\n        case 'Enter':\n        case ' ':\n          e.preventDefault();\n          NCarousel.to(current);\n          return;\n      }\n\n      if (props.keyboard) {\n        handleKeyboard(e);\n      }\n    }\n\n    function handleMouseenter(current) {\n      if (props.trigger === 'hover') {\n        NCarousel.to(current);\n      }\n    }\n\n    function handleClick(current) {\n      if (props.trigger === 'click') {\n        NCarousel.to(current);\n      }\n    }\n\n    function handleKeyboard(e) {\n      var _a;\n\n      if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n        return;\n      }\n\n      const nodeName = (_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.nodeName.toLowerCase();\n\n      if (nodeName === 'input' || nodeName === 'textarea') {\n        return;\n      }\n\n      const {\n        code: keycode\n      } = e;\n      const isVerticalNext = keycode === 'PageUp' || keycode === 'ArrowUp';\n      const isVerticalPrev = keycode === 'PageDown' || keycode === 'ArrowDown';\n      const isHorizontalNext = keycode === 'PageUp' || keycode === 'ArrowRight';\n      const isHorizontalPrev = keycode === 'PageDown' || keycode === 'ArrowLeft';\n      const vertical = NCarousel.isVertical();\n      const wantToNext = vertical ? isVerticalNext : isHorizontalNext;\n      const wantToPrev = vertical ? isVerticalPrev : isHorizontalPrev;\n\n      if (!wantToNext && !wantToPrev) {\n        return;\n      }\n\n      e.preventDefault();\n\n      if (wantToNext && !NCarousel.isNextDisabled()) {\n        NCarousel.next();\n        focusDot(NCarousel.currentIndexRef.value);\n      } else if (wantToPrev && !NCarousel.isPrevDisabled()) {\n        NCarousel.prev();\n        focusDot(NCarousel.currentIndexRef.value);\n      }\n    }\n\n    function focusDot(index) {\n      var _a;\n\n      (_a = dotElsRef.value[index]) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n\n    onBeforeUpdate(() => dotElsRef.value.length = 0);\n    return {\n      mergedClsPrefix: mergedClsPrefixRef,\n      dotEls: dotElsRef,\n      handleKeydown,\n      handleMouseenter,\n      handleClick\n    };\n  },\n\n  render() {\n    const {\n      mergedClsPrefix,\n      dotEls\n    } = this;\n    return h(\"div\", {\n      class: [`${mergedClsPrefix}-carousel__dots`, `${mergedClsPrefix}-carousel__dots--${this.dotType}`],\n      role: \"tablist\"\n    }, indexMap(this.total, i => {\n      const selected = i === this.currentIndex;\n      return h(\"div\", {\n        \"aria-selected\": selected,\n        ref: el => dotEls.push(el),\n        role: \"button\",\n        tabindex: \"0\",\n        class: [`${mergedClsPrefix}-carousel__dot`, selected && `${mergedClsPrefix}-carousel__dot--active`],\n        key: i,\n        onClick: () => this.handleClick(i),\n        onMouseenter: () => this.handleMouseenter(i),\n        onKeydown: e => this.handleKeydown(e, i)\n      });\n    }));\n  }\n\n});","map":{"version":3,"names":["h","defineComponent","ref","onBeforeUpdate","indexMap","useConfig","useCarouselContext","carouselDotsProps","total","type","Number","default","currentIndex","dotType","String","trigger","keyboard","Boolean","name","props","setup","mergedClsPrefixRef","dotElsRef","NCarousel","handleKeydown","e","current","key","preventDefault","to","handleKeyboard","handleMouseenter","handleClick","_a","shiftKey","altKey","ctrlKey","metaKey","nodeName","document","activeElement","toLowerCase","code","keycode","isVerticalNext","isVerticalPrev","isHorizontalNext","isHorizontalPrev","vertical","isVertical","wantToNext","wantToPrev","isNextDisabled","next","focusDot","currentIndexRef","value","isPrevDisabled","prev","index","focus","length","mergedClsPrefix","dotEls","render","class","role","i","selected","el","push","tabindex","onClick","onMouseenter","onKeydown"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/carousel/src/CarouselDots.js"],"sourcesContent":["import { h, defineComponent, ref, onBeforeUpdate } from 'vue';\nimport { indexMap } from 'seemly';\nimport { useConfig } from '../../_mixins';\nimport { useCarouselContext } from './CarouselContext';\nconst carouselDotsProps = {\n    total: {\n        type: Number,\n        default: 0\n    },\n    currentIndex: {\n        type: Number,\n        default: 0\n    },\n    dotType: {\n        type: String,\n        default: 'dot'\n    },\n    trigger: {\n        type: String,\n        default: 'click'\n    },\n    keyboard: Boolean\n};\nexport default defineComponent({\n    name: 'CarouselDots',\n    props: carouselDotsProps,\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig(props);\n        const dotElsRef = ref([]);\n        const NCarousel = useCarouselContext();\n        function handleKeydown(e, current) {\n            switch (e.key) {\n                case 'Enter':\n                case ' ':\n                    e.preventDefault();\n                    NCarousel.to(current);\n                    return;\n            }\n            if (props.keyboard) {\n                handleKeyboard(e);\n            }\n        }\n        function handleMouseenter(current) {\n            if (props.trigger === 'hover') {\n                NCarousel.to(current);\n            }\n        }\n        function handleClick(current) {\n            if (props.trigger === 'click') {\n                NCarousel.to(current);\n            }\n        }\n        function handleKeyboard(e) {\n            var _a;\n            if (e.shiftKey || e.altKey || e.ctrlKey || e.metaKey) {\n                return;\n            }\n            const nodeName = (_a = document.activeElement) === null || _a === void 0 ? void 0 : _a.nodeName.toLowerCase();\n            if (nodeName === 'input' || nodeName === 'textarea') {\n                return;\n            }\n            const { code: keycode } = e;\n            const isVerticalNext = keycode === 'PageUp' || keycode === 'ArrowUp';\n            const isVerticalPrev = keycode === 'PageDown' || keycode === 'ArrowDown';\n            const isHorizontalNext = keycode === 'PageUp' || keycode === 'ArrowRight';\n            const isHorizontalPrev = keycode === 'PageDown' || keycode === 'ArrowLeft';\n            const vertical = NCarousel.isVertical();\n            const wantToNext = vertical ? isVerticalNext : isHorizontalNext;\n            const wantToPrev = vertical ? isVerticalPrev : isHorizontalPrev;\n            if (!wantToNext && !wantToPrev) {\n                return;\n            }\n            e.preventDefault();\n            if (wantToNext && !NCarousel.isNextDisabled()) {\n                NCarousel.next();\n                focusDot(NCarousel.currentIndexRef.value);\n            }\n            else if (wantToPrev && !NCarousel.isPrevDisabled()) {\n                NCarousel.prev();\n                focusDot(NCarousel.currentIndexRef.value);\n            }\n        }\n        function focusDot(index) {\n            var _a;\n            (_a = dotElsRef.value[index]) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n        onBeforeUpdate(() => (dotElsRef.value.length = 0));\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            dotEls: dotElsRef,\n            handleKeydown,\n            handleMouseenter,\n            handleClick\n        };\n    },\n    render() {\n        const { mergedClsPrefix, dotEls } = this;\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-carousel__dots`,\n                `${mergedClsPrefix}-carousel__dots--${this.dotType}`\n            ], role: \"tablist\" }, indexMap(this.total, (i) => {\n            const selected = i === this.currentIndex;\n            return (h(\"div\", { \"aria-selected\": selected, ref: (el) => dotEls.push(el), role: \"button\", tabindex: \"0\", class: [\n                    `${mergedClsPrefix}-carousel__dot`,\n                    selected && `${mergedClsPrefix}-carousel__dot--active`\n                ], key: i, onClick: () => this.handleClick(i), onMouseenter: () => this.handleMouseenter(i), onKeydown: (e) => this.handleKeydown(e, i) }));\n        })));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}