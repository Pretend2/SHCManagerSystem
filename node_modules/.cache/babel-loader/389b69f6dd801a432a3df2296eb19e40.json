{"ast":null,"code":"import { ref } from 'vue';\nimport { useMessage } from 'naive-ui';\nexport default (refreshList => {\n  // 获取消息对象\n  const message = useMessage(); // 模态框打开\n\n  const showImportPropertyModal = ref(false);\n  /**\r\n   * 表单提交事件 \r\n   */\n\n  const importPropertySubmit = ({\n    file,\n    event\n  }) => {\n    const res = JSON.parse((event?.target).response);\n\n    if (res.success) {\n      message.success(\"共：\" + res.data.excelCountTotal + \"行数据，成功：\" + res.data.successCount + \"行，失败：\" + res.data.failedCount + \"行\");\n      showImportPropertyModal.value = false;\n      refreshList();\n    } else {\n      message.warning(\"导入失败！\");\n    }\n\n    return file;\n  };\n  /**\r\n   * 导入房屋\r\n   */\n\n\n  const importProperty = () => {};\n  /**\r\n   * 打开模态框\r\n   */\n\n\n  const openImportProperty = () => {\n    showImportPropertyModal.value = true;\n  };\n\n  return {\n    showImportPropertyModal,\n    // 模态框打开\n    importPropertySubmit,\n    // 表单提交事件\n    openImportProperty // 打开模态框\n\n  };\n});","map":{"version":3,"names":["ref","useMessage","refreshList","message","showImportPropertyModal","importPropertySubmit","file","event","res","JSON","parse","target","response","success","data","excelCountTotal","successCount","failedCount","value","warning","importProperty","openImportProperty"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/src/hook/real_estate/housingmanagement/importPropertyHook.js"],"sourcesContent":["import { ref } from 'vue'\r\n\r\nimport { useMessage } from 'naive-ui'\r\n\r\nexport default (refreshList) => {\r\n\r\n    // 获取消息对象\r\n    const message = useMessage();\r\n\r\n    // 模态框打开\r\n    const showImportPropertyModal = ref(false)\r\n\r\n    /**\r\n     * 表单提交事件 \r\n     */\r\n    const importPropertySubmit = ({\r\n        file,\r\n        event\r\n    }) => {\r\n        const res = JSON.parse((event?.target).response);\r\n        if (res.success) {\r\n            message.success(\"共：\" + res.data.excelCountTotal + \"行数据，成功：\" + res.data.successCount + \"行，失败：\" + res.data.failedCount + \"行\")\r\n            showImportPropertyModal.value = false\r\n            refreshList()\r\n        } else {\r\n            message.warning(\"导入失败！\")\r\n        }\r\n        return file;\r\n    };\r\n\r\n    /**\r\n     * 导入房屋\r\n     */\r\n    const importProperty = () => {\r\n\r\n    }\r\n\r\n    /**\r\n     * 打开模态框\r\n     */\r\n    const openImportProperty = () => {\r\n        showImportPropertyModal.value = true\r\n    }\r\n\r\n    return {\r\n        showImportPropertyModal, // 模态框打开\r\n        importPropertySubmit, // 表单提交事件\r\n        openImportProperty, // 打开模态框\r\n    }\r\n\r\n}"],"mappings":"AAAA,SAASA,GAAT,QAAoB,KAApB;AAEA,SAASC,UAAT,QAA2B,UAA3B;AAEA,gBAAgBC,WAAD,IAAiB;EAE5B;EACA,MAAMC,OAAO,GAAGF,UAAU,EAA1B,CAH4B,CAK5B;;EACA,MAAMG,uBAAuB,GAAGJ,GAAG,CAAC,KAAD,CAAnC;EAEA;AACJ;AACA;;EACI,MAAMK,oBAAoB,GAAG,CAAC;IAC1BC,IAD0B;IAE1BC;EAF0B,CAAD,KAGvB;IACF,MAAMC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAW,CAACH,KAAK,EAAEI,MAAR,EAAgBC,QAA3B,CAAZ;;IACA,IAAIJ,GAAG,CAACK,OAAR,EAAiB;MACbV,OAAO,CAACU,OAAR,CAAgB,OAAOL,GAAG,CAACM,IAAJ,CAASC,eAAhB,GAAkC,SAAlC,GAA8CP,GAAG,CAACM,IAAJ,CAASE,YAAvD,GAAsE,OAAtE,GAAgFR,GAAG,CAACM,IAAJ,CAASG,WAAzF,GAAuG,GAAvH;MACAb,uBAAuB,CAACc,KAAxB,GAAgC,KAAhC;MACAhB,WAAW;IACd,CAJD,MAIO;MACHC,OAAO,CAACgB,OAAR,CAAgB,OAAhB;IACH;;IACD,OAAOb,IAAP;EACH,CAbD;EAeA;AACJ;AACA;;;EACI,MAAMc,cAAc,GAAG,MAAM,CAE5B,CAFD;EAIA;AACJ;AACA;;;EACI,MAAMC,kBAAkB,GAAG,MAAM;IAC7BjB,uBAAuB,CAACc,KAAxB,GAAgC,IAAhC;EACH,CAFD;;EAIA,OAAO;IACHd,uBADG;IACsB;IACzBC,oBAFG;IAEmB;IACtBgB,kBAHG,CAGiB;;EAHjB,CAAP;AAMH,CA9CD"},"metadata":{},"sourceType":"module"}