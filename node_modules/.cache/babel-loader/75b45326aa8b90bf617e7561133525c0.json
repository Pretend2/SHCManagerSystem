{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nexport function getIsGroup(option) {\n  return option.type === 'group';\n}\nexport function getIgnored(option) {\n  return option.type === 'ignored';\n}\nexport function patternMatched(pattern, value) {\n  try {\n    return !!(1 + value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()));\n  } catch (err) {\n    return false;\n  }\n}\nexport function createTmOptions(valueField, childrenField) {\n  const options = {\n    getIsGroup,\n    getIgnored,\n\n    getKey(option) {\n      if (getIsGroup(option)) {\n        return option.name || option.key || 'key-required';\n      } // Required for non-custom label & value field\n      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n\n      return option[valueField];\n    },\n\n    getChildren(option) {\n      return option[childrenField];\n    }\n\n  };\n  return options;\n}\nexport function filterOptions(originalOpts, filter, pattern, childrenField) {\n  if (!filter) return originalOpts;\n\n  function traverse(options) {\n    if (!Array.isArray(options)) return [];\n    const filteredOptions = [];\n\n    for (const option of options) {\n      if (getIsGroup(option)) {\n        const children = traverse(option[childrenField]);\n\n        if (children.length) {\n          filteredOptions.push(Object.assign({}, option, {\n            [childrenField]: children\n          }));\n        }\n      } else if (getIgnored(option)) {\n        continue;\n      } else if (filter(pattern, option)) {\n        filteredOptions.push(option);\n      }\n    }\n\n    return filteredOptions;\n  }\n\n  return traverse(originalOpts);\n}\nexport function createValOptMap(options, valueField, childrenField) {\n  const valOptMap = new Map();\n  options.forEach(option => {\n    if (getIsGroup(option)) {\n      ;\n      option[childrenField].forEach(selectGroupOption => {\n        valOptMap.set(selectGroupOption[valueField], selectGroupOption);\n      });\n    } else {\n      valOptMap.set(option[valueField], option);\n    }\n  });\n  return valOptMap;\n}","map":{"version":3,"names":["getIsGroup","option","type","getIgnored","patternMatched","pattern","value","toString","toLowerCase","indexOf","trim","err","createTmOptions","valueField","childrenField","options","getKey","name","key","getChildren","filterOptions","originalOpts","filter","traverse","Array","isArray","filteredOptions","children","length","push","Object","assign","createValOptMap","valOptMap","Map","forEach","selectGroupOption","set"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/select/src/utils.js"],"sourcesContent":["export function getIsGroup(option) {\n    return option.type === 'group';\n}\nexport function getIgnored(option) {\n    return option.type === 'ignored';\n}\nexport function patternMatched(pattern, value) {\n    try {\n        return !!(1 + value.toString().toLowerCase().indexOf(pattern.trim().toLowerCase()));\n    }\n    catch (err) {\n        return false;\n    }\n}\nexport function createTmOptions(valueField, childrenField) {\n    const options = {\n        getIsGroup,\n        getIgnored,\n        getKey(option) {\n            if (getIsGroup(option)) {\n                return (option.name ||\n                    option.key ||\n                    'key-required');\n            }\n            // Required for non-custom label & value field\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            return option[valueField];\n        },\n        getChildren(option) {\n            return option[childrenField];\n        }\n    };\n    return options;\n}\nexport function filterOptions(originalOpts, filter, pattern, childrenField) {\n    if (!filter)\n        return originalOpts;\n    function traverse(options) {\n        if (!Array.isArray(options))\n            return [];\n        const filteredOptions = [];\n        for (const option of options) {\n            if (getIsGroup(option)) {\n                const children = traverse(option[childrenField]);\n                if (children.length) {\n                    filteredOptions.push(Object.assign({}, option, {\n                        [childrenField]: children\n                    }));\n                }\n            }\n            else if (getIgnored(option)) {\n                continue;\n            }\n            else if (filter(pattern, option)) {\n                filteredOptions.push(option);\n            }\n        }\n        return filteredOptions;\n    }\n    return traverse(originalOpts);\n}\nexport function createValOptMap(options, valueField, childrenField) {\n    const valOptMap = new Map();\n    options.forEach((option) => {\n        if (getIsGroup(option)) {\n            ;\n            option[childrenField].forEach((selectGroupOption) => {\n                valOptMap.set(selectGroupOption[valueField], selectGroupOption);\n            });\n        }\n        else {\n            valOptMap.set(option[valueField], option);\n        }\n    });\n    return valOptMap;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}