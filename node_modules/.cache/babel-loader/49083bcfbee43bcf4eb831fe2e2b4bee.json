{"ast":null,"code":"import { h, defineComponent, inject, computed, mergeProps, Fragment } from 'vue';\nimport { AddIcon } from '../../_internal/icons';\nimport { NBaseClose, NBaseIcon } from '../../_internal';\nimport { render, omit } from '../../_utils';\nimport { tabsInjectionKey } from './interface';\nimport { tabPaneProps } from './TabPane';\nexport const tabProps = Object.assign({\n  internalLeftPadded: Boolean,\n  internalAddable: Boolean,\n  internalCreatedByPane: Boolean\n}, omit(tabPaneProps, ['displayDirective']));\nexport default defineComponent({\n  __TAB__: true,\n  inheritAttrs: false,\n  name: 'Tab',\n  props: tabProps,\n\n  setup(props) {\n    const {\n      mergedClsPrefixRef,\n      valueRef,\n      typeRef,\n      closableRef,\n      tabStyleRef,\n      tabChangeIdRef,\n      onBeforeLeaveRef,\n      triggerRef,\n      handleAdd,\n      activateTab,\n      handleClose // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    } = inject(tabsInjectionKey);\n    return {\n      trigger: triggerRef,\n      mergedClosable: computed(() => {\n        if (props.internalAddable) return false;\n        const {\n          closable\n        } = props;\n        if (closable === undefined) return closableRef.value;\n        return closable;\n      }),\n      style: tabStyleRef,\n      clsPrefix: mergedClsPrefixRef,\n      value: valueRef,\n      type: typeRef,\n\n      handleClose(e) {\n        e.stopPropagation();\n        if (props.disabled) return;\n        handleClose(props.name);\n      },\n\n      activateTab() {\n        if (props.disabled) return;\n\n        if (props.internalAddable) {\n          handleAdd();\n          return;\n        }\n\n        const {\n          name: nameProp\n        } = props;\n        const id = ++tabChangeIdRef.id;\n\n        if (nameProp !== valueRef.value) {\n          const {\n            value: onBeforeLeave\n          } = onBeforeLeaveRef;\n\n          if (!onBeforeLeave) {\n            activateTab(nameProp);\n          } else {\n            void Promise.resolve(onBeforeLeave(props.name, valueRef.value)).then(allowLeave => {\n              if (allowLeave && tabChangeIdRef.id === id) {\n                activateTab(nameProp);\n              }\n            });\n          }\n        }\n      }\n\n    };\n  },\n\n  render() {\n    const {\n      internalAddable,\n      clsPrefix,\n      name,\n      disabled,\n      label,\n      tab,\n      value,\n      mergedClosable,\n      style,\n      trigger,\n      $slots: {\n        default: defaultSlot\n      }\n    } = this;\n    const mergedTab = label !== null && label !== void 0 ? label : tab;\n    return h(\"div\", {\n      class: `${clsPrefix}-tabs-tab-wrapper`\n    }, this.internalLeftPadded ? h(\"div\", {\n      class: `${clsPrefix}-tabs-tab-pad`\n    }) : null, h(\"div\", Object.assign({\n      key: name,\n      \"data-name\": name,\n      \"data-disabled\": disabled ? true : undefined\n    }, mergeProps({\n      class: [`${clsPrefix}-tabs-tab`, value === name && `${clsPrefix}-tabs-tab--active`, disabled && `${clsPrefix}-tabs-tab--disabled`, mergedClosable && `${clsPrefix}-tabs-tab--closable`, internalAddable && `${clsPrefix}-tabs-tab--addable`],\n      onClick: trigger === 'click' ? this.activateTab : undefined,\n      onMouseenter: trigger === 'hover' ? this.activateTab : undefined,\n      style: internalAddable ? undefined : style\n    }, this.internalCreatedByPane ? this.tabProps || {} : this.$attrs)), h(\"span\", {\n      class: `${clsPrefix}-tabs-tab__label`\n    }, internalAddable ? h(Fragment, null, h(\"div\", {\n      class: `${clsPrefix}-tabs-tab__height-placeholder`\n    }, \"\\u00A0\"), h(NBaseIcon, {\n      clsPrefix: clsPrefix\n    }, {\n      default: () => h(AddIcon, null)\n    })) : defaultSlot ? defaultSlot() : typeof mergedTab === 'object' ? mergedTab // VNode\n    : render(mergedTab !== null && mergedTab !== void 0 ? mergedTab : name)), mergedClosable && this.type === 'card' ? h(NBaseClose, {\n      clsPrefix: clsPrefix,\n      class: `${clsPrefix}-tabs-tab__close`,\n      onClick: this.handleClose,\n      disabled: disabled\n    }) : null));\n  }\n\n});","map":{"version":3,"names":["h","defineComponent","inject","computed","mergeProps","Fragment","AddIcon","NBaseClose","NBaseIcon","render","omit","tabsInjectionKey","tabPaneProps","tabProps","Object","assign","internalLeftPadded","Boolean","internalAddable","internalCreatedByPane","__TAB__","inheritAttrs","name","props","setup","mergedClsPrefixRef","valueRef","typeRef","closableRef","tabStyleRef","tabChangeIdRef","onBeforeLeaveRef","triggerRef","handleAdd","activateTab","handleClose","trigger","mergedClosable","closable","undefined","value","style","clsPrefix","type","e","stopPropagation","disabled","nameProp","id","onBeforeLeave","Promise","resolve","then","allowLeave","label","tab","$slots","default","defaultSlot","mergedTab","class","key","onClick","onMouseenter","$attrs"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/tabs/src/Tab.js"],"sourcesContent":["import { h, defineComponent, inject, computed, mergeProps, Fragment } from 'vue';\nimport { AddIcon } from '../../_internal/icons';\nimport { NBaseClose, NBaseIcon } from '../../_internal';\nimport { render, omit } from '../../_utils';\nimport { tabsInjectionKey } from './interface';\nimport { tabPaneProps } from './TabPane';\nexport const tabProps = Object.assign({ internalLeftPadded: Boolean, internalAddable: Boolean, internalCreatedByPane: Boolean }, omit(tabPaneProps, ['displayDirective']));\nexport default defineComponent({\n    __TAB__: true,\n    inheritAttrs: false,\n    name: 'Tab',\n    props: tabProps,\n    setup(props) {\n        const { mergedClsPrefixRef, valueRef, typeRef, closableRef, tabStyleRef, tabChangeIdRef, onBeforeLeaveRef, triggerRef, handleAdd, activateTab, handleClose\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(tabsInjectionKey);\n        return {\n            trigger: triggerRef,\n            mergedClosable: computed(() => {\n                if (props.internalAddable)\n                    return false;\n                const { closable } = props;\n                if (closable === undefined)\n                    return closableRef.value;\n                return closable;\n            }),\n            style: tabStyleRef,\n            clsPrefix: mergedClsPrefixRef,\n            value: valueRef,\n            type: typeRef,\n            handleClose(e) {\n                e.stopPropagation();\n                if (props.disabled)\n                    return;\n                handleClose(props.name);\n            },\n            activateTab() {\n                if (props.disabled)\n                    return;\n                if (props.internalAddable) {\n                    handleAdd();\n                    return;\n                }\n                const { name: nameProp } = props;\n                const id = ++tabChangeIdRef.id;\n                if (nameProp !== valueRef.value) {\n                    const { value: onBeforeLeave } = onBeforeLeaveRef;\n                    if (!onBeforeLeave) {\n                        activateTab(nameProp);\n                    }\n                    else {\n                        void Promise.resolve(onBeforeLeave(props.name, valueRef.value)).then((allowLeave) => {\n                            if (allowLeave && tabChangeIdRef.id === id) {\n                                activateTab(nameProp);\n                            }\n                        });\n                    }\n                }\n            }\n        };\n    },\n    render() {\n        const { internalAddable, clsPrefix, name, disabled, label, tab, value, mergedClosable, style, trigger, $slots: { default: defaultSlot } } = this;\n        const mergedTab = label !== null && label !== void 0 ? label : tab;\n        return (h(\"div\", { class: `${clsPrefix}-tabs-tab-wrapper` },\n            this.internalLeftPadded ? (h(\"div\", { class: `${clsPrefix}-tabs-tab-pad` })) : null,\n            h(\"div\", Object.assign({ key: name, \"data-name\": name, \"data-disabled\": disabled ? true : undefined }, mergeProps({\n                class: [\n                    `${clsPrefix}-tabs-tab`,\n                    value === name && `${clsPrefix}-tabs-tab--active`,\n                    disabled && `${clsPrefix}-tabs-tab--disabled`,\n                    mergedClosable && `${clsPrefix}-tabs-tab--closable`,\n                    internalAddable && `${clsPrefix}-tabs-tab--addable`\n                ],\n                onClick: trigger === 'click' ? this.activateTab : undefined,\n                onMouseenter: trigger === 'hover' ? this.activateTab : undefined,\n                style: internalAddable ? undefined : style\n            }, this.internalCreatedByPane\n                ? (this.tabProps || {})\n                : this.$attrs)),\n                h(\"span\", { class: `${clsPrefix}-tabs-tab__label` }, internalAddable ? (h(Fragment, null,\n                    h(\"div\", { class: `${clsPrefix}-tabs-tab__height-placeholder` }, \"\\u00A0\"),\n                    h(NBaseIcon, { clsPrefix: clsPrefix }, {\n                        default: () => h(AddIcon, null)\n                    }))) : defaultSlot ? (defaultSlot()) : typeof mergedTab === 'object' ? (mergedTab // VNode\n                ) : (render(mergedTab !== null && mergedTab !== void 0 ? mergedTab : name))),\n                mergedClosable && this.type === 'card' ? (h(NBaseClose, { clsPrefix: clsPrefix, class: `${clsPrefix}-tabs-tab__close`, onClick: this.handleClose, disabled: disabled })) : null)));\n    }\n});\n"],"mappings":"AAAA,SAASA,CAAT,EAAYC,eAAZ,EAA6BC,MAA7B,EAAqCC,QAArC,EAA+CC,UAA/C,EAA2DC,QAA3D,QAA2E,KAA3E;AACA,SAASC,OAAT,QAAwB,uBAAxB;AACA,SAASC,UAAT,EAAqBC,SAArB,QAAsC,iBAAtC;AACA,SAASC,MAAT,EAAiBC,IAAjB,QAA6B,cAA7B;AACA,SAASC,gBAAT,QAAiC,aAAjC;AACA,SAASC,YAAT,QAA6B,WAA7B;AACA,OAAO,MAAMC,QAAQ,GAAGC,MAAM,CAACC,MAAP,CAAc;EAAEC,kBAAkB,EAAEC,OAAtB;EAA+BC,eAAe,EAAED,OAAhD;EAAyDE,qBAAqB,EAAEF;AAAhF,CAAd,EAAyGP,IAAI,CAACE,YAAD,EAAe,CAAC,kBAAD,CAAf,CAA7G,CAAjB;AACP,eAAeX,eAAe,CAAC;EAC3BmB,OAAO,EAAE,IADkB;EAE3BC,YAAY,EAAE,KAFa;EAG3BC,IAAI,EAAE,KAHqB;EAI3BC,KAAK,EAAEV,QAJoB;;EAK3BW,KAAK,CAACD,KAAD,EAAQ;IACT,MAAM;MAAEE,kBAAF;MAAsBC,QAAtB;MAAgCC,OAAhC;MAAyCC,WAAzC;MAAsDC,WAAtD;MAAmEC,cAAnE;MAAmFC,gBAAnF;MAAqGC,UAArG;MAAiHC,SAAjH;MAA4HC,WAA5H;MAAyIC,WAAzI,CACN;;IADM,IAEDjC,MAAM,CAACS,gBAAD,CAFX;IAGA,OAAO;MACHyB,OAAO,EAAEJ,UADN;MAEHK,cAAc,EAAElC,QAAQ,CAAC,MAAM;QAC3B,IAAIoB,KAAK,CAACL,eAAV,EACI,OAAO,KAAP;QACJ,MAAM;UAAEoB;QAAF,IAAef,KAArB;QACA,IAAIe,QAAQ,KAAKC,SAAjB,EACI,OAAOX,WAAW,CAACY,KAAnB;QACJ,OAAOF,QAAP;MACH,CAPuB,CAFrB;MAUHG,KAAK,EAAEZ,WAVJ;MAWHa,SAAS,EAAEjB,kBAXR;MAYHe,KAAK,EAAEd,QAZJ;MAaHiB,IAAI,EAAEhB,OAbH;;MAcHQ,WAAW,CAACS,CAAD,EAAI;QACXA,CAAC,CAACC,eAAF;QACA,IAAItB,KAAK,CAACuB,QAAV,EACI;QACJX,WAAW,CAACZ,KAAK,CAACD,IAAP,CAAX;MACH,CAnBE;;MAoBHY,WAAW,GAAG;QACV,IAAIX,KAAK,CAACuB,QAAV,EACI;;QACJ,IAAIvB,KAAK,CAACL,eAAV,EAA2B;UACvBe,SAAS;UACT;QACH;;QACD,MAAM;UAAEX,IAAI,EAAEyB;QAAR,IAAqBxB,KAA3B;QACA,MAAMyB,EAAE,GAAG,EAAElB,cAAc,CAACkB,EAA5B;;QACA,IAAID,QAAQ,KAAKrB,QAAQ,CAACc,KAA1B,EAAiC;UAC7B,MAAM;YAAEA,KAAK,EAAES;UAAT,IAA2BlB,gBAAjC;;UACA,IAAI,CAACkB,aAAL,EAAoB;YAChBf,WAAW,CAACa,QAAD,CAAX;UACH,CAFD,MAGK;YACD,KAAKG,OAAO,CAACC,OAAR,CAAgBF,aAAa,CAAC1B,KAAK,CAACD,IAAP,EAAaI,QAAQ,CAACc,KAAtB,CAA7B,EAA2DY,IAA3D,CAAiEC,UAAD,IAAgB;cACjF,IAAIA,UAAU,IAAIvB,cAAc,CAACkB,EAAf,KAAsBA,EAAxC,EAA4C;gBACxCd,WAAW,CAACa,QAAD,CAAX;cACH;YACJ,CAJI,CAAL;UAKH;QACJ;MACJ;;IA1CE,CAAP;EA4CH,CArD0B;;EAsD3BtC,MAAM,GAAG;IACL,MAAM;MAAES,eAAF;MAAmBwB,SAAnB;MAA8BpB,IAA9B;MAAoCwB,QAApC;MAA8CQ,KAA9C;MAAqDC,GAArD;MAA0Df,KAA1D;MAAiEH,cAAjE;MAAiFI,KAAjF;MAAwFL,OAAxF;MAAiGoB,MAAM,EAAE;QAAEC,OAAO,EAAEC;MAAX;IAAzG,IAAsI,IAA5I;IACA,MAAMC,SAAS,GAAGL,KAAK,KAAK,IAAV,IAAkBA,KAAK,KAAK,KAAK,CAAjC,GAAqCA,KAArC,GAA6CC,GAA/D;IACA,OAAQvD,CAAC,CAAC,KAAD,EAAQ;MAAE4D,KAAK,EAAG,GAAElB,SAAU;IAAtB,CAAR,EACL,KAAK1B,kBAAL,GAA2BhB,CAAC,CAAC,KAAD,EAAQ;MAAE4D,KAAK,EAAG,GAAElB,SAAU;IAAtB,CAAR,CAA5B,GAA+E,IAD1E,EAEL1C,CAAC,CAAC,KAAD,EAAQc,MAAM,CAACC,MAAP,CAAc;MAAE8C,GAAG,EAAEvC,IAAP;MAAa,aAAaA,IAA1B;MAAgC,iBAAiBwB,QAAQ,GAAG,IAAH,GAAUP;IAAnE,CAAd,EAA8FnC,UAAU,CAAC;MAC9GwD,KAAK,EAAE,CACF,GAAElB,SAAU,WADV,EAEHF,KAAK,KAAKlB,IAAV,IAAmB,GAAEoB,SAAU,mBAF5B,EAGHI,QAAQ,IAAK,GAAEJ,SAAU,qBAHtB,EAIHL,cAAc,IAAK,GAAEK,SAAU,qBAJ5B,EAKHxB,eAAe,IAAK,GAAEwB,SAAU,oBAL7B,CADuG;MAQ9GoB,OAAO,EAAE1B,OAAO,KAAK,OAAZ,GAAsB,KAAKF,WAA3B,GAAyCK,SAR4D;MAS9GwB,YAAY,EAAE3B,OAAO,KAAK,OAAZ,GAAsB,KAAKF,WAA3B,GAAyCK,SATuD;MAU9GE,KAAK,EAAEvB,eAAe,GAAGqB,SAAH,GAAeE;IAVyE,CAAD,EAW9G,KAAKtB,qBAAL,GACI,KAAKN,QAAL,IAAiB,EADrB,GAEG,KAAKmD,MAbsG,CAAxG,CAAR,EAcGhE,CAAC,CAAC,MAAD,EAAS;MAAE4D,KAAK,EAAG,GAAElB,SAAU;IAAtB,CAAT,EAAoDxB,eAAe,GAAIlB,CAAC,CAACK,QAAD,EAAW,IAAX,EACrEL,CAAC,CAAC,KAAD,EAAQ;MAAE4D,KAAK,EAAG,GAAElB,SAAU;IAAtB,CAAR,EAAgE,QAAhE,CADoE,EAErE1C,CAAC,CAACQ,SAAD,EAAY;MAAEkC,SAAS,EAAEA;IAAb,CAAZ,EAAsC;MACnCe,OAAO,EAAE,MAAMzD,CAAC,CAACM,OAAD,EAAU,IAAV;IADmB,CAAtC,CAFoE,CAAL,GAIzDoD,WAAW,GAAIA,WAAW,EAAf,GAAqB,OAAOC,SAAP,KAAqB,QAArB,GAAiCA,SAAjC,CAA2C;IAA3C,EACtClD,MAAM,CAACkD,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,KAAK,CAAzC,GAA6CA,SAA7C,GAAyDrC,IAA1D,CALV,CAdJ,EAoBGe,cAAc,IAAI,KAAKM,IAAL,KAAc,MAAhC,GAA0C3C,CAAC,CAACO,UAAD,EAAa;MAAEmC,SAAS,EAAEA,SAAb;MAAwBkB,KAAK,EAAG,GAAElB,SAAU,kBAA5C;MAA+DoB,OAAO,EAAE,KAAK3B,WAA7E;MAA0FW,QAAQ,EAAEA;IAApG,CAAb,CAA3C,GAA2K,IApB9K,CAFI,CAAT;EAuBH;;AAhF0B,CAAD,CAA9B"},"metadata":{},"sourceType":"module"}