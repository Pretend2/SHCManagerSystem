{"ast":null,"code":"export function getFirstAvailableNode(nodes) {\n  if (nodes.length === 0) return null;\n  const node = nodes[0];\n\n  if (node.isGroup || node.ignored || node.disabled) {\n    return node.getNext();\n  }\n\n  return node;\n}\n\nfunction rawGetNext(node, loop) {\n  const sibs = node.siblings;\n  const l = sibs.length;\n  const {\n    index\n  } = node;\n\n  if (loop) {\n    return sibs[(index + 1) % l];\n  } else {\n    if (index === sibs.length - 1) return null;\n    return sibs[index + 1];\n  }\n}\n\nfunction move(fromNode, dir, {\n  loop = false,\n  includeDisabled = false\n} = {}) {\n  const iterate = dir === 'prev' ? rawGetPrev : rawGetNext;\n  const getChildOptions = {\n    reverse: dir === 'prev'\n  };\n  let meet = false;\n  let endNode = null;\n\n  function traverse(node) {\n    if (node === null) return;\n\n    if (node === fromNode) {\n      if (!meet) {\n        meet = true;\n      } else if (!fromNode.disabled && !fromNode.isGroup) {\n        endNode = fromNode;\n        return;\n      }\n    } else {\n      if ((!node.disabled || includeDisabled) && !node.ignored && !node.isGroup) {\n        endNode = node;\n        return;\n      }\n    }\n\n    if (node.isGroup) {\n      const child = getChild(node, getChildOptions);\n\n      if (child !== null) {\n        endNode = child;\n      } else {\n        traverse(iterate(node, loop));\n      }\n    } else {\n      const nextNode = iterate(node, false);\n\n      if (nextNode !== null) {\n        traverse(nextNode);\n      } else {\n        const parent = rawGetParent(node);\n\n        if (parent === null || parent === void 0 ? void 0 : parent.isGroup) {\n          traverse(iterate(parent, loop));\n        } else if (loop) {\n          traverse(iterate(node, true));\n        }\n      }\n    }\n  }\n\n  traverse(fromNode);\n  return endNode;\n}\n\nfunction rawGetPrev(node, loop) {\n  const sibs = node.siblings;\n  const l = sibs.length;\n  const {\n    index\n  } = node;\n\n  if (loop) {\n    return sibs[(index - 1 + l) % l];\n  } else {\n    if (index === 0) return null;\n    return sibs[index - 1];\n  }\n}\n\nfunction rawGetParent(node) {\n  return node.parent;\n}\n\nfunction getChild(node, options = {}) {\n  const {\n    reverse = false\n  } = options;\n  const {\n    children\n  } = node;\n\n  if (children) {\n    const {\n      length\n    } = children;\n    const start = reverse ? length - 1 : 0;\n    const end = reverse ? -1 : length;\n    const delta = reverse ? -1 : 1;\n\n    for (let i = start; i !== end; i += delta) {\n      const child = children[i];\n\n      if (!child.disabled && !child.ignored) {\n        if (child.isGroup) {\n          const childInGroup = getChild(child, options);\n          if (childInGroup !== null) return childInGroup;\n        } else {\n          return child;\n        }\n      }\n    }\n  }\n\n  return null;\n}\n\nexport const moveMethods = {\n  getChild() {\n    if (this.ignored) return null;\n    return getChild(this);\n  },\n\n  getParent() {\n    const {\n      parent\n    } = this;\n\n    if (parent === null || parent === void 0 ? void 0 : parent.isGroup) {\n      return parent.getParent();\n    }\n\n    return parent;\n  },\n\n  getNext(options = {}) {\n    return move(this, 'next', options);\n  },\n\n  getPrev(options = {}) {\n    return move(this, 'prev', options);\n  }\n\n};","map":{"version":3,"names":["getFirstAvailableNode","nodes","length","node","isGroup","ignored","disabled","getNext","rawGetNext","loop","sibs","siblings","l","index","move","fromNode","dir","includeDisabled","iterate","rawGetPrev","getChildOptions","reverse","meet","endNode","traverse","child","getChild","nextNode","parent","rawGetParent","options","children","start","end","delta","i","childInGroup","moveMethods","getParent","getPrev"],"sources":["D:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/treemate/es/move.js"],"sourcesContent":["export function getFirstAvailableNode(nodes) {\n    if (nodes.length === 0)\n        return null;\n    const node = nodes[0];\n    if (node.isGroup || node.ignored || node.disabled) {\n        return node.getNext();\n    }\n    return node;\n}\nfunction rawGetNext(node, loop) {\n    const sibs = node.siblings;\n    const l = sibs.length;\n    const { index } = node;\n    if (loop) {\n        return sibs[(index + 1) % l];\n    }\n    else {\n        if (index === sibs.length - 1)\n            return null;\n        return sibs[index + 1];\n    }\n}\nfunction move(fromNode, dir, { loop = false, includeDisabled = false } = {}) {\n    const iterate = dir === 'prev' ? rawGetPrev : rawGetNext;\n    const getChildOptions = {\n        reverse: dir === 'prev'\n    };\n    let meet = false;\n    let endNode = null;\n    function traverse(node) {\n        if (node === null)\n            return;\n        if (node === fromNode) {\n            if (!meet) {\n                meet = true;\n            }\n            else if (!fromNode.disabled && !fromNode.isGroup) {\n                endNode = fromNode;\n                return;\n            }\n        }\n        else {\n            if ((!node.disabled || includeDisabled) &&\n                !node.ignored &&\n                !node.isGroup) {\n                endNode = node;\n                return;\n            }\n        }\n        if (node.isGroup) {\n            const child = getChild(node, getChildOptions);\n            if (child !== null) {\n                endNode = child;\n            }\n            else {\n                traverse(iterate(node, loop));\n            }\n        }\n        else {\n            const nextNode = iterate(node, false);\n            if (nextNode !== null) {\n                traverse(nextNode);\n            }\n            else {\n                const parent = rawGetParent(node);\n                if (parent === null || parent === void 0 ? void 0 : parent.isGroup) {\n                    traverse(iterate(parent, loop));\n                }\n                else if (loop) {\n                    traverse(iterate(node, true));\n                }\n            }\n        }\n    }\n    traverse(fromNode);\n    return endNode;\n}\nfunction rawGetPrev(node, loop) {\n    const sibs = node.siblings;\n    const l = sibs.length;\n    const { index } = node;\n    if (loop) {\n        return sibs[(index - 1 + l) % l];\n    }\n    else {\n        if (index === 0)\n            return null;\n        return sibs[index - 1];\n    }\n}\nfunction rawGetParent(node) {\n    return node.parent;\n}\nfunction getChild(node, options = {}) {\n    const { reverse = false } = options;\n    const { children } = node;\n    if (children) {\n        const { length } = children;\n        const start = reverse ? length - 1 : 0;\n        const end = reverse ? -1 : length;\n        const delta = reverse ? -1 : 1;\n        for (let i = start; i !== end; i += delta) {\n            const child = children[i];\n            if (!child.disabled && !child.ignored) {\n                if (child.isGroup) {\n                    const childInGroup = getChild(child, options);\n                    if (childInGroup !== null)\n                        return childInGroup;\n                }\n                else {\n                    return child;\n                }\n            }\n        }\n    }\n    return null;\n}\nexport const moveMethods = {\n    getChild() {\n        if (this.ignored)\n            return null;\n        return getChild(this);\n    },\n    getParent() {\n        const { parent } = this;\n        if (parent === null || parent === void 0 ? void 0 : parent.isGroup) {\n            return parent.getParent();\n        }\n        return parent;\n    },\n    getNext(options = {}) {\n        return move(this, 'next', options);\n    },\n    getPrev(options = {}) {\n        return move(this, 'prev', options);\n    }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}