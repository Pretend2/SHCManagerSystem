{"ast":null,"code":"import { h, defineComponent, inject, ref, onMounted, watch, toRef, computed } from 'vue';\nimport { logInjectionKey } from './context';\nexport default defineComponent({\n  props: {\n    line: {\n      type: String,\n      default: ''\n    }\n  },\n\n  setup(props) {\n    const {\n      trimRef,\n      highlightRef,\n      languageRef,\n      mergedHljsRef\n    } = // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    inject(logInjectionKey);\n    const selfRef = ref(null);\n    const maybeTrimmedLinesRef = computed(() => {\n      return trimRef.value ? props.line.trim() : props.line;\n    });\n\n    function setInnerHTML() {\n      if (selfRef.value) {\n        selfRef.value.innerHTML = generateCodeHTML(languageRef.value, maybeTrimmedLinesRef.value);\n      }\n    }\n\n    function generateCodeHTML(language, code) {\n      const {\n        value: hljs\n      } = mergedHljsRef;\n\n      if (hljs) {\n        if (language && hljs.getLanguage(language)) {\n          return hljs.highlight(code, {\n            language\n          }).value;\n        }\n      }\n\n      return code;\n    }\n\n    onMounted(() => {\n      if (highlightRef.value) {\n        setInnerHTML();\n      }\n    });\n    watch(toRef(props, 'line'), () => {\n      if (highlightRef.value) {\n        setInnerHTML();\n      }\n    });\n    return {\n      highlight: highlightRef,\n      selfRef,\n      maybeTrimmedLines: maybeTrimmedLinesRef\n    };\n  },\n\n  render() {\n    const {\n      highlight,\n      maybeTrimmedLines\n    } = this;\n    return h(\"pre\", {\n      ref: \"selfRef\"\n    }, highlight ? null : maybeTrimmedLines);\n  }\n\n});","map":{"version":3,"names":["h","defineComponent","inject","ref","onMounted","watch","toRef","computed","logInjectionKey","props","line","type","String","default","setup","trimRef","highlightRef","languageRef","mergedHljsRef","selfRef","maybeTrimmedLinesRef","value","trim","setInnerHTML","innerHTML","generateCodeHTML","language","code","hljs","getLanguage","highlight","maybeTrimmedLines","render"],"sources":["D:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/log/src/LogLine.js"],"sourcesContent":["import { h, defineComponent, inject, ref, onMounted, watch, toRef, computed } from 'vue';\nimport { logInjectionKey } from './context';\nexport default defineComponent({\n    props: {\n        line: {\n            type: String,\n            default: ''\n        }\n    },\n    setup(props) {\n        const { trimRef, highlightRef, languageRef, mergedHljsRef } = \n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        inject(logInjectionKey);\n        const selfRef = ref(null);\n        const maybeTrimmedLinesRef = computed(() => {\n            return trimRef.value ? props.line.trim() : props.line;\n        });\n        function setInnerHTML() {\n            if (selfRef.value) {\n                selfRef.value.innerHTML = generateCodeHTML(languageRef.value, maybeTrimmedLinesRef.value);\n            }\n        }\n        function generateCodeHTML(language, code) {\n            const { value: hljs } = mergedHljsRef;\n            if (hljs) {\n                if (language && hljs.getLanguage(language)) {\n                    return hljs.highlight(code, { language }).value;\n                }\n            }\n            return code;\n        }\n        onMounted(() => {\n            if (highlightRef.value) {\n                setInnerHTML();\n            }\n        });\n        watch(toRef(props, 'line'), () => {\n            if (highlightRef.value) {\n                setInnerHTML();\n            }\n        });\n        return {\n            highlight: highlightRef,\n            selfRef,\n            maybeTrimmedLines: maybeTrimmedLinesRef\n        };\n    },\n    render() {\n        const { highlight, maybeTrimmedLines } = this;\n        return h(\"pre\", { ref: \"selfRef\" }, highlight ? null : maybeTrimmedLines);\n    }\n});\n"],"mappings":"AAAA,SAASA,CAAT,EAAYC,eAAZ,EAA6BC,MAA7B,EAAqCC,GAArC,EAA0CC,SAA1C,EAAqDC,KAArD,EAA4DC,KAA5D,EAAmEC,QAAnE,QAAmF,KAAnF;AACA,SAASC,eAAT,QAAgC,WAAhC;AACA,eAAeP,eAAe,CAAC;EAC3BQ,KAAK,EAAE;IACHC,IAAI,EAAE;MACFC,IAAI,EAAEC,MADJ;MAEFC,OAAO,EAAE;IAFP;EADH,CADoB;;EAO3BC,KAAK,CAACL,KAAD,EAAQ;IACT,MAAM;MAAEM,OAAF;MAAWC,YAAX;MAAyBC,WAAzB;MAAsCC;IAAtC,IACN;IACAhB,MAAM,CAACM,eAAD,CAFN;IAGA,MAAMW,OAAO,GAAGhB,GAAG,CAAC,IAAD,CAAnB;IACA,MAAMiB,oBAAoB,GAAGb,QAAQ,CAAC,MAAM;MACxC,OAAOQ,OAAO,CAACM,KAAR,GAAgBZ,KAAK,CAACC,IAAN,CAAWY,IAAX,EAAhB,GAAoCb,KAAK,CAACC,IAAjD;IACH,CAFoC,CAArC;;IAGA,SAASa,YAAT,GAAwB;MACpB,IAAIJ,OAAO,CAACE,KAAZ,EAAmB;QACfF,OAAO,CAACE,KAAR,CAAcG,SAAd,GAA0BC,gBAAgB,CAACR,WAAW,CAACI,KAAb,EAAoBD,oBAAoB,CAACC,KAAzC,CAA1C;MACH;IACJ;;IACD,SAASI,gBAAT,CAA0BC,QAA1B,EAAoCC,IAApC,EAA0C;MACtC,MAAM;QAAEN,KAAK,EAAEO;MAAT,IAAkBV,aAAxB;;MACA,IAAIU,IAAJ,EAAU;QACN,IAAIF,QAAQ,IAAIE,IAAI,CAACC,WAAL,CAAiBH,QAAjB,CAAhB,EAA4C;UACxC,OAAOE,IAAI,CAACE,SAAL,CAAeH,IAAf,EAAqB;YAAED;UAAF,CAArB,EAAmCL,KAA1C;QACH;MACJ;;MACD,OAAOM,IAAP;IACH;;IACDvB,SAAS,CAAC,MAAM;MACZ,IAAIY,YAAY,CAACK,KAAjB,EAAwB;QACpBE,YAAY;MACf;IACJ,CAJQ,CAAT;IAKAlB,KAAK,CAACC,KAAK,CAACG,KAAD,EAAQ,MAAR,CAAN,EAAuB,MAAM;MAC9B,IAAIO,YAAY,CAACK,KAAjB,EAAwB;QACpBE,YAAY;MACf;IACJ,CAJI,CAAL;IAKA,OAAO;MACHO,SAAS,EAAEd,YADR;MAEHG,OAFG;MAGHY,iBAAiB,EAAEX;IAHhB,CAAP;EAKH,CA5C0B;;EA6C3BY,MAAM,GAAG;IACL,MAAM;MAAEF,SAAF;MAAaC;IAAb,IAAmC,IAAzC;IACA,OAAO/B,CAAC,CAAC,KAAD,EAAQ;MAAEG,GAAG,EAAE;IAAP,CAAR,EAA4B2B,SAAS,GAAG,IAAH,GAAUC,iBAA/C,CAAR;EACH;;AAhD0B,CAAD,CAA9B"},"metadata":{},"sourceType":"module"}