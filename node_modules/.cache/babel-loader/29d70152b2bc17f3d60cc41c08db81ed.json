{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, openBlock as _openBlock, createBlock as _createBlock } from \"vue\";\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_view = _resolveComponent(\"router-view\");\n\n  return _openBlock(), _createBlock($setup[\"NConfigProvider\"], {\n    locale: $setup.zhCN,\n    \"date-locale\": $setup.dateZhCN,\n    theme: $setup.dark ? $setup.darkTheme : null,\n    \"theme-overrides\": $setup.myTheme\n  }, {\n    default: _withCtx(() => [_createVNode($setup[\"NLoadingBarProvider\"], null, {\n      default: _withCtx(() => [_createVNode($setup[\"NDialogProvider\"], null, {\n        default: _withCtx(() => [_createVNode($setup[\"NMessageProvider\"], null, {\n          default: _withCtx(() => [_createVNode(_component_router_view)]),\n          _: 1\n          /* STABLE */\n\n        })]),\n        _: 1\n        /* STABLE */\n\n      })]),\n      _: 1\n      /* STABLE */\n\n    }), _createVNode($setup[\"NGlobalStyle\"])]),\n    _: 1\n    /* STABLE */\n\n  }, 8\n  /* PROPS */\n  , [\"locale\", \"date-locale\", \"theme\", \"theme-overrides\"]);\n}","map":{"version":3,"mappings":";;;;uBACEA,aASoBC,yBATpB,EASoB;IATAC,MAAM,EAAED,WASR;IATe,eAAaA,eAS5B;IATuCE,KAAK,EAAEF,cAAOA,gBAAP,GAAgB,IAS9D;IATwE,mBAAiBA;EASzF,CATpB;sBACE,MAMyB,CANzBG,aAMyBH,6BANzB,EAMyB,IANzB,EAMyB;wBALvB,MAIoB,CAJpBG,aAIoBH,yBAJpB,EAIoB,IAJpB,EAIoB;0BAHlB,MAEqB,CAFrBG,aAEqBH,0BAFrB,EAEqB,IAFrB,EAEqB;4BADnB,MAA2B,CAA3BG,aAA2BC,sBAA3B,CAA2B,EACR;;;;QAAA,CAFrB,CAEqB,EACH;;;;MAAA,CAJpB,CAIoB,EACG;;;;IAAA,CANzB,CAMyB,EACzBD,aAAkBH,sBAAlB,CADyB;;;;GAP3B;;EAAA","names":["_createBlock","$setup","locale","theme","_createVNode","_component_router_view"],"sourceRoot":"","sources":["E:\\VCode\\SHC社区管理系统\\shc_community_manager_system\\src\\App.vue"],"sourcesContent":["<template>\n  <n-config-provider :locale=\"zhCN\" :date-locale=\"dateZhCN\" :theme=\"dark ? darkTheme : null\" :theme-overrides=\"myTheme\">\n    <n-loading-bar-provider>\n      <n-dialog-provider>\n        <n-message-provider>\n          <router-view></router-view>\n        </n-message-provider>\n      </n-dialog-provider>\n    </n-loading-bar-provider>\n    <n-global-style />\n  </n-config-provider>\n</template>\n\n<script setup>\nimport { ref, provide } from 'vue'\n\nimport {\n  NConfigProvider, NMessageProvider, darkTheme, NButton,\n  NGlobalStyle, NLoadingBarProvider, zhCN, dateZhCN, NDialogProvider\n} from 'naive-ui'\n\n// 引入自定义主题\nimport myTheme from './theme.js'\n\n// 引入路由\nimport { useRouter } from \"vue-router\";\nimport axios from 'axios';\n\nconst dark = ref(false)\n// 向后代组件传递数据\nprovide('dark', dark)\n\n// 获取路由对象\nconst router = useRouter()\n\n// 前置守卫\nrouter.beforeEach((to, from, next) => {\n  // 设置网页标题\n  document.title = to.meta.title\n  if (to.name === \"login\") {\n    localStorage.removeItem(\"user\")\n  } else {\n    let path = null;\n    const user = JSON.parse(localStorage.getItem(\"user\"))\n    if(!user) {\n      next();\n    } else {\n      axios({\n        url: '/api/checkToken',\n        headers: { token:user.token }\n      }).then(res => {\n        if (!res.data) {\n          next({path: '/login'})\n        }\n      })\n    }\n  }\n  next({path: '/login'})\n});\n\n/* \n// 获取路由实例\nconst router = useRouter();\nrouter.beforeEach((to, from, next) => {\n  document.title = to.meta.title\n  //loadingBar.start();\n  next();\n});\n\nrouter.afterEach(() => {\n  //loadingBar.finish();\n}); */\n\n</script>\n<script>\nexport default {\n  name: 'App',\n}\n\n</script>\n\n<style>\n\n</style>\n"]},"metadata":{},"sourceType":"module"}