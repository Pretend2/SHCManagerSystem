{"ast":null,"code":"import { h, defineComponent, Fragment, ref, withDirectives, Transition, vShow, watch, computed, toRef, onBeforeUnmount } from 'vue';\nimport { zindexable } from 'vdirs';\nimport { useIsMounted } from 'vooks';\nimport { LazyTeleport } from 'vueuc';\nimport { on, off } from 'evtd';\nimport { beforeNextFrameOnce } from 'seemly';\nimport { RotateClockwiseIcon, RotateCounterclockwiseIcon, ZoomInIcon, ZoomOutIcon, ResizeSmallIcon } from '../../_internal/icons';\nimport { useConfig, useLocale, useTheme, useThemeClass } from '../../_mixins';\nimport { NBaseIcon } from '../../_internal';\nimport { NTooltip } from '../../tooltip';\nimport { imageLight } from '../styles';\nimport { prevIcon, nextIcon, closeIcon } from './icons';\nimport { imagePreviewSharedProps } from './interface';\nimport style from './styles/index.cssr';\nconst BLEEDING = 32;\nexport default defineComponent({\n  name: 'ImagePreview',\n  props: Object.assign(Object.assign({}, imagePreviewSharedProps), {\n    onNext: Function,\n    onPrev: Function,\n    clsPrefix: {\n      type: String,\n      required: true\n    }\n  }),\n\n  setup(props) {\n    const themeRef = useTheme('Image', '-image', style, imageLight, props, toRef(props, 'clsPrefix'));\n    let thumbnailEl = null;\n    const previewRef = ref(null);\n    const previewWrapperRef = ref(null);\n    const previewSrcRef = ref(undefined);\n    const showRef = ref(false);\n    const displayedRef = ref(false);\n    const {\n      localeRef\n    } = useLocale('Image');\n\n    function syncTransformOrigin() {\n      const {\n        value: previewWrapper\n      } = previewWrapperRef;\n      if (!thumbnailEl || !previewWrapper) return;\n      const {\n        style\n      } = previewWrapper;\n      const tbox = thumbnailEl.getBoundingClientRect();\n      const tx = tbox.left + tbox.width / 2;\n      const ty = tbox.top + tbox.height / 2;\n      style.transformOrigin = `${tx}px ${ty}px`;\n    }\n\n    function handleKeydown(e) {\n      var _a, _b;\n\n      switch (e.key) {\n        case 'ArrowLeft':\n          (_a = props.onPrev) === null || _a === void 0 ? void 0 : _a.call(props);\n          break;\n\n        case 'ArrowRight':\n          (_b = props.onNext) === null || _b === void 0 ? void 0 : _b.call(props);\n          break;\n\n        case 'Escape':\n          toggleShow();\n          break;\n      }\n    }\n\n    watch(showRef, value => {\n      if (value) {\n        on('keydown', document, handleKeydown);\n      } else off('keydown', document, handleKeydown);\n    });\n    onBeforeUnmount(() => {\n      off('keydown', document, handleKeydown);\n    });\n    let startX = 0;\n    let startY = 0;\n    let offsetX = 0;\n    let offsetY = 0;\n    let startOffsetX = 0;\n    let startOffsetY = 0;\n    let mouseDownClientX = 0;\n    let mouseDownClientY = 0;\n    let dragging = false;\n\n    function handleMouseMove(e) {\n      const {\n        clientX,\n        clientY\n      } = e;\n      offsetX = clientX - startX;\n      offsetY = clientY - startY;\n      beforeNextFrameOnce(derivePreviewStyle);\n    }\n\n    function getMoveStrategy(opts) {\n      const {\n        mouseUpClientX,\n        mouseUpClientY,\n        mouseDownClientX,\n        mouseDownClientY\n      } = opts;\n      const deltaHorizontal = mouseDownClientX - mouseUpClientX;\n      const deltaVertical = mouseDownClientY - mouseUpClientY;\n      const moveVerticalDirection = `vertical${deltaVertical > 0 ? 'Top' : 'Bottom'}`;\n      const moveHorizontalDirection = `horizontal${deltaHorizontal > 0 ? 'Left' : 'Right'}`;\n      return {\n        moveVerticalDirection,\n        moveHorizontalDirection,\n        deltaHorizontal,\n        deltaVertical\n      };\n    } // avoid image move outside viewport\n\n\n    function getDerivedOffset(moveStrategy) {\n      const {\n        value: preview\n      } = previewRef;\n      if (!preview) return {\n        offsetX: 0,\n        offsetY: 0\n      };\n      const pbox = preview.getBoundingClientRect();\n      const {\n        moveVerticalDirection,\n        moveHorizontalDirection,\n        deltaHorizontal,\n        deltaVertical\n      } = moveStrategy || {};\n      let nextOffsetX = 0;\n      let nextOffsetY = 0;\n\n      if (pbox.width <= window.innerWidth) {\n        nextOffsetX = 0;\n      } else if (pbox.left > 0) {\n        nextOffsetX = (pbox.width - window.innerWidth) / 2;\n      } else if (pbox.right < window.innerWidth) {\n        nextOffsetX = -(pbox.width - window.innerWidth) / 2;\n      } else if (moveHorizontalDirection === 'horizontalRight') {\n        nextOffsetX = Math.min((pbox.width - window.innerWidth) / 2, startOffsetX - (deltaHorizontal !== null && deltaHorizontal !== void 0 ? deltaHorizontal : 0));\n      } else {\n        nextOffsetX = Math.max(-((pbox.width - window.innerWidth) / 2), startOffsetX - (deltaHorizontal !== null && deltaHorizontal !== void 0 ? deltaHorizontal : 0));\n      }\n\n      if (pbox.height <= window.innerHeight) {\n        nextOffsetY = 0;\n      } else if (pbox.top > 0) {\n        nextOffsetY = (pbox.height - window.innerHeight) / 2;\n      } else if (pbox.bottom < window.innerHeight) {\n        nextOffsetY = -(pbox.height - window.innerHeight) / 2;\n      } else if (moveVerticalDirection === 'verticalBottom') {\n        nextOffsetY = Math.min((pbox.height - window.innerHeight) / 2, startOffsetY - (deltaVertical !== null && deltaVertical !== void 0 ? deltaVertical : 0));\n      } else {\n        nextOffsetY = Math.max(-((pbox.height - window.innerHeight) / 2), startOffsetY - (deltaVertical !== null && deltaVertical !== void 0 ? deltaVertical : 0));\n      }\n\n      return {\n        offsetX: nextOffsetX,\n        offsetY: nextOffsetY\n      };\n    }\n\n    function handleMouseUp(e) {\n      off('mousemove', document, handleMouseMove);\n      off('mouseup', document, handleMouseUp);\n      const {\n        clientX: mouseUpClientX,\n        clientY: mouseUpClientY\n      } = e;\n      dragging = false;\n      const moveStrategy = getMoveStrategy({\n        mouseUpClientX,\n        mouseUpClientY,\n        mouseDownClientX,\n        mouseDownClientY\n      });\n      const offset = getDerivedOffset(moveStrategy);\n      offsetX = offset.offsetX;\n      offsetY = offset.offsetY;\n      derivePreviewStyle();\n    }\n\n    function handlePreviewMousedown(e) {\n      const {\n        clientX,\n        clientY\n      } = e;\n      dragging = true;\n      startX = clientX - offsetX;\n      startY = clientY - offsetY;\n      startOffsetX = offsetX;\n      startOffsetY = offsetY;\n      mouseDownClientX = clientX;\n      mouseDownClientY = clientY;\n      derivePreviewStyle();\n      on('mousemove', document, handleMouseMove);\n      on('mouseup', document, handleMouseUp);\n    }\n\n    function handlePreviewDblclick() {\n      const originalImageSizeScale = getOrignalImageSizeScale();\n      scale = scale === originalImageSizeScale ? 1 : originalImageSizeScale;\n      derivePreviewStyle();\n    }\n\n    const scaleRadix = 1.5;\n    let scaleExp = 0;\n    let scale = 1;\n    let rotate = 0;\n\n    function resetScale() {\n      scale = 1;\n      scaleExp = 0;\n    }\n\n    function handleSwitchPrev() {\n      var _a;\n\n      resetScale();\n      rotate = 0;\n      (_a = props.onPrev) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n\n    function handleSwitchNext() {\n      var _a;\n\n      resetScale();\n      rotate = 0;\n      (_a = props.onNext) === null || _a === void 0 ? void 0 : _a.call(props);\n    }\n\n    function rotateCounterclockwise() {\n      rotate -= 90;\n      derivePreviewStyle();\n    }\n\n    function rotateClockwise() {\n      rotate += 90;\n      derivePreviewStyle();\n    }\n\n    function getMaxScale() {\n      const {\n        value: preview\n      } = previewRef;\n      if (!preview) return 1;\n      const {\n        innerWidth,\n        innerHeight\n      } = window;\n      const heightMaxScale = Math.max(1, preview.naturalHeight / (innerHeight - BLEEDING));\n      const widthMaxScale = Math.max(1, preview.naturalWidth / (innerWidth - BLEEDING));\n      return Math.max(3, heightMaxScale * 2, widthMaxScale * 2);\n    }\n\n    function getOrignalImageSizeScale() {\n      const {\n        value: preview\n      } = previewRef;\n      if (!preview) return 1;\n      const {\n        innerWidth,\n        innerHeight\n      } = window;\n      const heightScale = preview.naturalHeight / (innerHeight - BLEEDING);\n      const widthScale = preview.naturalWidth / (innerWidth - BLEEDING);\n\n      if (heightScale < 1 && widthScale < 1) {\n        return 1;\n      }\n\n      return Math.max(heightScale, widthScale);\n    }\n\n    function zoomIn() {\n      const maxScale = getMaxScale();\n\n      if (scale < maxScale) {\n        scaleExp += 1;\n        scale = Math.min(maxScale, Math.pow(scaleRadix, scaleExp));\n        derivePreviewStyle();\n      }\n    }\n\n    function zoomOut() {\n      if (scale > 0.5) {\n        const originalScale = scale;\n        scaleExp -= 1;\n        scale = Math.max(0.5, Math.pow(scaleRadix, scaleExp));\n        const diff = originalScale - scale;\n        derivePreviewStyle(false);\n        const offset = getDerivedOffset();\n        scale += diff;\n        derivePreviewStyle(false);\n        scale -= diff;\n        offsetX = offset.offsetX;\n        offsetY = offset.offsetY;\n        derivePreviewStyle();\n      }\n    }\n\n    function derivePreviewStyle(transition = true) {\n      const {\n        value: preview\n      } = previewRef;\n      if (!preview) return;\n      const {\n        style\n      } = preview;\n      const transformStyle = `transform-origin: center; transform: translateX(${offsetX}px) translateY(${offsetY}px) rotate(${rotate}deg) scale(${scale});`;\n\n      if (dragging) {\n        style.cssText = 'cursor: grabbing; transition: none;' + transformStyle;\n      } else {\n        style.cssText = 'cursor: grab;' + transformStyle + (transition ? '' : 'transition: none;');\n      }\n\n      if (!transition) {\n        void preview.offsetHeight;\n      }\n    }\n\n    function toggleShow() {\n      showRef.value = !showRef.value;\n      displayedRef.value = true;\n    }\n\n    function resizeToOrignalImageSize() {\n      scale = getOrignalImageSizeScale();\n      scaleExp = Math.ceil(Math.log(scale) / Math.log(scaleRadix));\n      offsetX = 0;\n      offsetY = 0;\n      derivePreviewStyle();\n    }\n\n    const exposedMethods = {\n      setPreviewSrc: src => {\n        previewSrcRef.value = src;\n      },\n      setThumbnailEl: el => {\n        thumbnailEl = el;\n      },\n      toggleShow\n    };\n\n    function withTooltip(node, tooltipKey) {\n      if (props.showToolbarTooltip) {\n        const {\n          value: theme\n        } = themeRef;\n        return h(NTooltip, {\n          to: false,\n          theme: theme.peers.Tooltip,\n          themeOverrides: theme.peerOverrides.Tooltip,\n          keepAliveOnHover: false\n        }, {\n          default: () => {\n            return localeRef.value[tooltipKey];\n          },\n          trigger: () => node\n        });\n      } else {\n        return node;\n      }\n    }\n\n    const cssVarsRef = computed(() => {\n      const {\n        common: {\n          cubicBezierEaseInOut\n        },\n        self: {\n          toolbarIconColor,\n          toolbarBorderRadius,\n          toolbarBoxShadow,\n          toolbarColor\n        }\n      } = themeRef.value;\n      return {\n        '--n-bezier': cubicBezierEaseInOut,\n        '--n-toolbar-icon-color': toolbarIconColor,\n        '--n-toolbar-color': toolbarColor,\n        '--n-toolbar-border-radius': toolbarBorderRadius,\n        '--n-toolbar-box-shadow': toolbarBoxShadow\n      };\n    });\n    const {\n      inlineThemeDisabled\n    } = useConfig();\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('image-preview', undefined, cssVarsRef, props) : undefined;\n    return Object.assign({\n      previewRef,\n      previewWrapperRef,\n      previewSrc: previewSrcRef,\n      show: showRef,\n      appear: useIsMounted(),\n      displayed: displayedRef,\n\n      handleWheel(e) {\n        e.preventDefault();\n      },\n\n      handlePreviewMousedown,\n      handlePreviewDblclick,\n      syncTransformOrigin,\n      handleAfterLeave: () => {\n        resetScale();\n        rotate = 0;\n        displayedRef.value = false;\n      },\n      handleDragStart: e => {\n        e.preventDefault();\n      },\n      zoomIn,\n      zoomOut,\n      rotateCounterclockwise,\n      rotateClockwise,\n      handleSwitchPrev,\n      handleSwitchNext,\n      withTooltip,\n      resizeToOrignalImageSize,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    }, exposedMethods);\n  },\n\n  render() {\n    var _a, _b;\n\n    const {\n      clsPrefix\n    } = this;\n    return h(Fragment, null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a), h(LazyTeleport, {\n      show: this.show\n    }, {\n      default: () => {\n        var _a;\n\n        if (!(this.show || this.displayed)) {\n          return null;\n        }\n\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        return withDirectives(h(\"div\", {\n          class: [`${clsPrefix}-image-preview-container`, this.themeClass],\n          style: this.cssVars,\n          onWheel: this.handleWheel\n        }, h(Transition, {\n          name: \"fade-in-transition\",\n          appear: this.appear\n        }, {\n          default: () => this.show ? h(\"div\", {\n            class: `${clsPrefix}-image-preview-overlay`,\n            onClick: this.toggleShow\n          }) : null\n        }), this.showToolbar ? h(Transition, {\n          name: \"fade-in-transition\",\n          appear: this.appear\n        }, {\n          default: () => {\n            if (!this.show) return null;\n            const {\n              withTooltip\n            } = this;\n            return h(\"div\", {\n              class: `${clsPrefix}-image-preview-toolbar`\n            }, this.onPrev ? h(Fragment, null, withTooltip(h(NBaseIcon, {\n              clsPrefix: clsPrefix,\n              onClick: this.handleSwitchPrev\n            }, {\n              default: () => prevIcon\n            }), 'tipPrevious'), withTooltip(h(NBaseIcon, {\n              clsPrefix: clsPrefix,\n              onClick: this.handleSwitchNext\n            }, {\n              default: () => nextIcon\n            }), 'tipNext')) : null, withTooltip(h(NBaseIcon, {\n              clsPrefix: clsPrefix,\n              onClick: this.rotateCounterclockwise\n            }, {\n              default: () => h(RotateCounterclockwiseIcon, null)\n            }), 'tipCounterclockwise'), withTooltip(h(NBaseIcon, {\n              clsPrefix: clsPrefix,\n              onClick: this.rotateClockwise\n            }, {\n              default: () => h(RotateClockwiseIcon, null)\n            }), 'tipClockwise'), withTooltip(h(NBaseIcon, {\n              clsPrefix: clsPrefix,\n              onClick: this.resizeToOrignalImageSize\n            }, {\n              default: () => {\n                return h(ResizeSmallIcon, null);\n              }\n            }), 'tipOriginalSize'), withTooltip(h(NBaseIcon, {\n              clsPrefix: clsPrefix,\n              onClick: this.zoomOut\n            }, {\n              default: () => h(ZoomOutIcon, null)\n            }), 'tipZoomOut'), withTooltip(h(NBaseIcon, {\n              clsPrefix: clsPrefix,\n              onClick: this.zoomIn\n            }, {\n              default: () => h(ZoomInIcon, null)\n            }), 'tipZoomIn'), withTooltip(h(NBaseIcon, {\n              clsPrefix: clsPrefix,\n              onClick: this.toggleShow\n            }, {\n              default: () => closeIcon\n            }), 'tipClose'));\n          }\n        }) : null, h(Transition, {\n          name: \"fade-in-scale-up-transition\",\n          onAfterLeave: this.handleAfterLeave,\n          appear: this.appear,\n          // BUG:\n          // onEnter will be called twice, I don't know why\n          // Maybe it is a bug of vue\n          onEnter: this.syncTransformOrigin,\n          onBeforeLeave: this.syncTransformOrigin\n        }, {\n          default: () => withDirectives(h(\"div\", {\n            class: `${clsPrefix}-image-preview-wrapper`,\n            ref: \"previewWrapperRef\"\n          }, h(\"img\", {\n            draggable: false,\n            onMousedown: this.handlePreviewMousedown,\n            onDblclick: this.handlePreviewDblclick,\n            class: `${clsPrefix}-image-preview`,\n            key: this.previewSrc,\n            src: this.previewSrc,\n            ref: \"previewRef\",\n            onDragstart: this.handleDragStart\n          })), [[vShow, this.show]])\n        })), [[zindexable, {\n          enabled: this.show\n        }]]);\n      }\n    }));\n  }\n\n});","map":{"version":3,"names":["h","defineComponent","Fragment","ref","withDirectives","Transition","vShow","watch","computed","toRef","onBeforeUnmount","zindexable","useIsMounted","LazyTeleport","on","off","beforeNextFrameOnce","RotateClockwiseIcon","RotateCounterclockwiseIcon","ZoomInIcon","ZoomOutIcon","ResizeSmallIcon","useConfig","useLocale","useTheme","useThemeClass","NBaseIcon","NTooltip","imageLight","prevIcon","nextIcon","closeIcon","imagePreviewSharedProps","style","BLEEDING","name","props","Object","assign","onNext","Function","onPrev","clsPrefix","type","String","required","setup","themeRef","thumbnailEl","previewRef","previewWrapperRef","previewSrcRef","undefined","showRef","displayedRef","localeRef","syncTransformOrigin","value","previewWrapper","tbox","getBoundingClientRect","tx","left","width","ty","top","height","transformOrigin","handleKeydown","e","_a","_b","key","call","toggleShow","document","startX","startY","offsetX","offsetY","startOffsetX","startOffsetY","mouseDownClientX","mouseDownClientY","dragging","handleMouseMove","clientX","clientY","derivePreviewStyle","getMoveStrategy","opts","mouseUpClientX","mouseUpClientY","deltaHorizontal","deltaVertical","moveVerticalDirection","moveHorizontalDirection","getDerivedOffset","moveStrategy","preview","pbox","nextOffsetX","nextOffsetY","window","innerWidth","right","Math","min","max","innerHeight","bottom","handleMouseUp","offset","handlePreviewMousedown","handlePreviewDblclick","originalImageSizeScale","getOrignalImageSizeScale","scale","scaleRadix","scaleExp","rotate","resetScale","handleSwitchPrev","handleSwitchNext","rotateCounterclockwise","rotateClockwise","getMaxScale","heightMaxScale","naturalHeight","widthMaxScale","naturalWidth","heightScale","widthScale","zoomIn","maxScale","pow","zoomOut","originalScale","diff","transition","transformStyle","cssText","offsetHeight","resizeToOrignalImageSize","ceil","log","exposedMethods","setPreviewSrc","src","setThumbnailEl","el","withTooltip","node","tooltipKey","showToolbarTooltip","theme","to","peers","Tooltip","themeOverrides","peerOverrides","keepAliveOnHover","default","trigger","cssVarsRef","common","cubicBezierEaseInOut","self","toolbarIconColor","toolbarBorderRadius","toolbarBoxShadow","toolbarColor","inlineThemeDisabled","themeClassHandle","previewSrc","show","appear","displayed","handleWheel","preventDefault","handleAfterLeave","handleDragStart","cssVars","themeClass","onRender","render","$slots","class","onWheel","onClick","showToolbar","onAfterLeave","onEnter","onBeforeLeave","draggable","onMousedown","onDblclick","onDragstart","enabled"],"sources":["D:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/image/src/ImagePreview.js"],"sourcesContent":["import { h, defineComponent, Fragment, ref, withDirectives, Transition, vShow, watch, computed, toRef, onBeforeUnmount } from 'vue';\nimport { zindexable } from 'vdirs';\nimport { useIsMounted } from 'vooks';\nimport { LazyTeleport } from 'vueuc';\nimport { on, off } from 'evtd';\nimport { beforeNextFrameOnce } from 'seemly';\nimport { RotateClockwiseIcon, RotateCounterclockwiseIcon, ZoomInIcon, ZoomOutIcon, ResizeSmallIcon } from '../../_internal/icons';\nimport { useConfig, useLocale, useTheme, useThemeClass } from '../../_mixins';\nimport { NBaseIcon } from '../../_internal';\nimport { NTooltip } from '../../tooltip';\nimport { imageLight } from '../styles';\nimport { prevIcon, nextIcon, closeIcon } from './icons';\nimport { imagePreviewSharedProps } from './interface';\nimport style from './styles/index.cssr';\nconst BLEEDING = 32;\nexport default defineComponent({\n    name: 'ImagePreview',\n    props: Object.assign(Object.assign({}, imagePreviewSharedProps), { onNext: Function, onPrev: Function, clsPrefix: {\n            type: String,\n            required: true\n        } }),\n    setup(props) {\n        const themeRef = useTheme('Image', '-image', style, imageLight, props, toRef(props, 'clsPrefix'));\n        let thumbnailEl = null;\n        const previewRef = ref(null);\n        const previewWrapperRef = ref(null);\n        const previewSrcRef = ref(undefined);\n        const showRef = ref(false);\n        const displayedRef = ref(false);\n        const { localeRef } = useLocale('Image');\n        function syncTransformOrigin() {\n            const { value: previewWrapper } = previewWrapperRef;\n            if (!thumbnailEl || !previewWrapper)\n                return;\n            const { style } = previewWrapper;\n            const tbox = thumbnailEl.getBoundingClientRect();\n            const tx = tbox.left + tbox.width / 2;\n            const ty = tbox.top + tbox.height / 2;\n            style.transformOrigin = `${tx}px ${ty}px`;\n        }\n        function handleKeydown(e) {\n            var _a, _b;\n            switch (e.key) {\n                case 'ArrowLeft':\n                    (_a = props.onPrev) === null || _a === void 0 ? void 0 : _a.call(props);\n                    break;\n                case 'ArrowRight':\n                    (_b = props.onNext) === null || _b === void 0 ? void 0 : _b.call(props);\n                    break;\n                case 'Escape':\n                    toggleShow();\n                    break;\n            }\n        }\n        watch(showRef, (value) => {\n            if (value) {\n                on('keydown', document, handleKeydown);\n            }\n            else\n                off('keydown', document, handleKeydown);\n        });\n        onBeforeUnmount(() => {\n            off('keydown', document, handleKeydown);\n        });\n        let startX = 0;\n        let startY = 0;\n        let offsetX = 0;\n        let offsetY = 0;\n        let startOffsetX = 0;\n        let startOffsetY = 0;\n        let mouseDownClientX = 0;\n        let mouseDownClientY = 0;\n        let dragging = false;\n        function handleMouseMove(e) {\n            const { clientX, clientY } = e;\n            offsetX = clientX - startX;\n            offsetY = clientY - startY;\n            beforeNextFrameOnce(derivePreviewStyle);\n        }\n        function getMoveStrategy(opts) {\n            const { mouseUpClientX, mouseUpClientY, mouseDownClientX, mouseDownClientY } = opts;\n            const deltaHorizontal = mouseDownClientX - mouseUpClientX;\n            const deltaVertical = mouseDownClientY - mouseUpClientY;\n            const moveVerticalDirection = `vertical${deltaVertical > 0 ? 'Top' : 'Bottom'}`;\n            const moveHorizontalDirection = `horizontal${deltaHorizontal > 0 ? 'Left' : 'Right'}`;\n            return {\n                moveVerticalDirection,\n                moveHorizontalDirection,\n                deltaHorizontal,\n                deltaVertical\n            };\n        }\n        // avoid image move outside viewport\n        function getDerivedOffset(moveStrategy) {\n            const { value: preview } = previewRef;\n            if (!preview)\n                return { offsetX: 0, offsetY: 0 };\n            const pbox = preview.getBoundingClientRect();\n            const { moveVerticalDirection, moveHorizontalDirection, deltaHorizontal, deltaVertical } = moveStrategy || {};\n            let nextOffsetX = 0;\n            let nextOffsetY = 0;\n            if (pbox.width <= window.innerWidth) {\n                nextOffsetX = 0;\n            }\n            else if (pbox.left > 0) {\n                nextOffsetX = (pbox.width - window.innerWidth) / 2;\n            }\n            else if (pbox.right < window.innerWidth) {\n                nextOffsetX = -(pbox.width - window.innerWidth) / 2;\n            }\n            else if (moveHorizontalDirection === 'horizontalRight') {\n                nextOffsetX = Math.min((pbox.width - window.innerWidth) / 2, startOffsetX - (deltaHorizontal !== null && deltaHorizontal !== void 0 ? deltaHorizontal : 0));\n            }\n            else {\n                nextOffsetX = Math.max(-((pbox.width - window.innerWidth) / 2), startOffsetX - (deltaHorizontal !== null && deltaHorizontal !== void 0 ? deltaHorizontal : 0));\n            }\n            if (pbox.height <= window.innerHeight) {\n                nextOffsetY = 0;\n            }\n            else if (pbox.top > 0) {\n                nextOffsetY = (pbox.height - window.innerHeight) / 2;\n            }\n            else if (pbox.bottom < window.innerHeight) {\n                nextOffsetY = -(pbox.height - window.innerHeight) / 2;\n            }\n            else if (moveVerticalDirection === 'verticalBottom') {\n                nextOffsetY = Math.min((pbox.height - window.innerHeight) / 2, startOffsetY - (deltaVertical !== null && deltaVertical !== void 0 ? deltaVertical : 0));\n            }\n            else {\n                nextOffsetY = Math.max(-((pbox.height - window.innerHeight) / 2), startOffsetY - (deltaVertical !== null && deltaVertical !== void 0 ? deltaVertical : 0));\n            }\n            return {\n                offsetX: nextOffsetX,\n                offsetY: nextOffsetY\n            };\n        }\n        function handleMouseUp(e) {\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            const { clientX: mouseUpClientX, clientY: mouseUpClientY } = e;\n            dragging = false;\n            const moveStrategy = getMoveStrategy({\n                mouseUpClientX,\n                mouseUpClientY,\n                mouseDownClientX,\n                mouseDownClientY\n            });\n            const offset = getDerivedOffset(moveStrategy);\n            offsetX = offset.offsetX;\n            offsetY = offset.offsetY;\n            derivePreviewStyle();\n        }\n        function handlePreviewMousedown(e) {\n            const { clientX, clientY } = e;\n            dragging = true;\n            startX = clientX - offsetX;\n            startY = clientY - offsetY;\n            startOffsetX = offsetX;\n            startOffsetY = offsetY;\n            mouseDownClientX = clientX;\n            mouseDownClientY = clientY;\n            derivePreviewStyle();\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n        }\n        function handlePreviewDblclick() {\n            const originalImageSizeScale = getOrignalImageSizeScale();\n            scale = scale === originalImageSizeScale ? 1 : originalImageSizeScale;\n            derivePreviewStyle();\n        }\n        const scaleRadix = 1.5;\n        let scaleExp = 0;\n        let scale = 1;\n        let rotate = 0;\n        function resetScale() {\n            scale = 1;\n            scaleExp = 0;\n        }\n        function handleSwitchPrev() {\n            var _a;\n            resetScale();\n            rotate = 0;\n            (_a = props.onPrev) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        function handleSwitchNext() {\n            var _a;\n            resetScale();\n            rotate = 0;\n            (_a = props.onNext) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        function rotateCounterclockwise() {\n            rotate -= 90;\n            derivePreviewStyle();\n        }\n        function rotateClockwise() {\n            rotate += 90;\n            derivePreviewStyle();\n        }\n        function getMaxScale() {\n            const { value: preview } = previewRef;\n            if (!preview)\n                return 1;\n            const { innerWidth, innerHeight } = window;\n            const heightMaxScale = Math.max(1, preview.naturalHeight / (innerHeight - BLEEDING));\n            const widthMaxScale = Math.max(1, preview.naturalWidth / (innerWidth - BLEEDING));\n            return Math.max(3, heightMaxScale * 2, widthMaxScale * 2);\n        }\n        function getOrignalImageSizeScale() {\n            const { value: preview } = previewRef;\n            if (!preview)\n                return 1;\n            const { innerWidth, innerHeight } = window;\n            const heightScale = preview.naturalHeight / (innerHeight - BLEEDING);\n            const widthScale = preview.naturalWidth / (innerWidth - BLEEDING);\n            if (heightScale < 1 && widthScale < 1) {\n                return 1;\n            }\n            return Math.max(heightScale, widthScale);\n        }\n        function zoomIn() {\n            const maxScale = getMaxScale();\n            if (scale < maxScale) {\n                scaleExp += 1;\n                scale = Math.min(maxScale, Math.pow(scaleRadix, scaleExp));\n                derivePreviewStyle();\n            }\n        }\n        function zoomOut() {\n            if (scale > 0.5) {\n                const originalScale = scale;\n                scaleExp -= 1;\n                scale = Math.max(0.5, Math.pow(scaleRadix, scaleExp));\n                const diff = originalScale - scale;\n                derivePreviewStyle(false);\n                const offset = getDerivedOffset();\n                scale += diff;\n                derivePreviewStyle(false);\n                scale -= diff;\n                offsetX = offset.offsetX;\n                offsetY = offset.offsetY;\n                derivePreviewStyle();\n            }\n        }\n        function derivePreviewStyle(transition = true) {\n            const { value: preview } = previewRef;\n            if (!preview)\n                return;\n            const { style } = preview;\n            const transformStyle = `transform-origin: center; transform: translateX(${offsetX}px) translateY(${offsetY}px) rotate(${rotate}deg) scale(${scale});`;\n            if (dragging) {\n                style.cssText = 'cursor: grabbing; transition: none;' + transformStyle;\n            }\n            else {\n                style.cssText =\n                    'cursor: grab;' +\n                        transformStyle +\n                        (transition ? '' : 'transition: none;');\n            }\n            if (!transition) {\n                void preview.offsetHeight;\n            }\n        }\n        function toggleShow() {\n            showRef.value = !showRef.value;\n            displayedRef.value = true;\n        }\n        function resizeToOrignalImageSize() {\n            scale = getOrignalImageSizeScale();\n            scaleExp = Math.ceil(Math.log(scale) / Math.log(scaleRadix));\n            offsetX = 0;\n            offsetY = 0;\n            derivePreviewStyle();\n        }\n        const exposedMethods = {\n            setPreviewSrc: (src) => {\n                previewSrcRef.value = src;\n            },\n            setThumbnailEl: (el) => {\n                thumbnailEl = el;\n            },\n            toggleShow\n        };\n        function withTooltip(node, tooltipKey) {\n            if (props.showToolbarTooltip) {\n                const { value: theme } = themeRef;\n                return (h(NTooltip, { to: false, theme: theme.peers.Tooltip, themeOverrides: theme.peerOverrides.Tooltip, keepAliveOnHover: false }, {\n                    default: () => {\n                        return localeRef.value[tooltipKey];\n                    },\n                    trigger: () => node\n                }));\n            }\n            else {\n                return node;\n            }\n        }\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut }, self: { toolbarIconColor, toolbarBorderRadius, toolbarBoxShadow, toolbarColor } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-toolbar-icon-color': toolbarIconColor,\n                '--n-toolbar-color': toolbarColor,\n                '--n-toolbar-border-radius': toolbarBorderRadius,\n                '--n-toolbar-box-shadow': toolbarBoxShadow\n            };\n        });\n        const { inlineThemeDisabled } = useConfig();\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('image-preview', undefined, cssVarsRef, props)\n            : undefined;\n        return Object.assign({ previewRef,\n            previewWrapperRef, previewSrc: previewSrcRef, show: showRef, appear: useIsMounted(), displayed: displayedRef, handleWheel(e) {\n                e.preventDefault();\n            },\n            handlePreviewMousedown,\n            handlePreviewDblclick,\n            syncTransformOrigin, handleAfterLeave: () => {\n                resetScale();\n                rotate = 0;\n                displayedRef.value = false;\n            }, handleDragStart: (e) => {\n                e.preventDefault();\n            }, zoomIn,\n            zoomOut,\n            rotateCounterclockwise,\n            rotateClockwise,\n            handleSwitchPrev,\n            handleSwitchNext,\n            withTooltip,\n            resizeToOrignalImageSize, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender }, exposedMethods);\n    },\n    render() {\n        var _a, _b;\n        const { clsPrefix } = this;\n        return (h(Fragment, null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 :\n            _b.call(_a),\n            h(LazyTeleport, { show: this.show }, {\n                default: () => {\n                    var _a;\n                    if (!(this.show || this.displayed)) {\n                        return null;\n                    }\n                    (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                    return withDirectives(h(\"div\", { class: [\n                            `${clsPrefix}-image-preview-container`,\n                            this.themeClass\n                        ], style: this.cssVars, onWheel: this.handleWheel },\n                        h(Transition, { name: \"fade-in-transition\", appear: this.appear }, {\n                            default: () => this.show ? (h(\"div\", { class: `${clsPrefix}-image-preview-overlay`, onClick: this.toggleShow })) : null\n                        }),\n                        this.showToolbar ? (h(Transition, { name: \"fade-in-transition\", appear: this.appear }, {\n                            default: () => {\n                                if (!this.show)\n                                    return null;\n                                const { withTooltip } = this;\n                                return (h(\"div\", { class: `${clsPrefix}-image-preview-toolbar` },\n                                    this.onPrev ? (h(Fragment, null,\n                                        withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.handleSwitchPrev }, { default: () => prevIcon }), 'tipPrevious'),\n                                        withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.handleSwitchNext }, { default: () => nextIcon }), 'tipNext'))) : null,\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.rotateCounterclockwise }, {\n                                        default: () => (h(RotateCounterclockwiseIcon, null))\n                                    }), 'tipCounterclockwise'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.rotateClockwise }, {\n                                        default: () => h(RotateClockwiseIcon, null)\n                                    }), 'tipClockwise'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.resizeToOrignalImageSize }, {\n                                        default: () => {\n                                            return h(ResizeSmallIcon, null);\n                                        }\n                                    }), 'tipOriginalSize'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.zoomOut }, { default: () => h(ZoomOutIcon, null) }), 'tipZoomOut'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.zoomIn }, { default: () => h(ZoomInIcon, null) }), 'tipZoomIn'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.toggleShow }, { default: () => closeIcon }), 'tipClose')));\n                            }\n                        })) : null,\n                        h(Transition, { name: \"fade-in-scale-up-transition\", onAfterLeave: this.handleAfterLeave, appear: this.appear, \n                            // BUG:\n                            // onEnter will be called twice, I don't know why\n                            // Maybe it is a bug of vue\n                            onEnter: this.syncTransformOrigin, onBeforeLeave: this.syncTransformOrigin }, {\n                            default: () => withDirectives(h(\"div\", { class: `${clsPrefix}-image-preview-wrapper`, ref: \"previewWrapperRef\" },\n                                h(\"img\", { draggable: false, onMousedown: this.handlePreviewMousedown, onDblclick: this.handlePreviewDblclick, class: `${clsPrefix}-image-preview`, key: this.previewSrc, src: this.previewSrc, ref: \"previewRef\", onDragstart: this.handleDragStart })), [[vShow, this.show]])\n                        })), [[zindexable, { enabled: this.show }]]);\n                }\n            })));\n    }\n});\n"],"mappings":"AAAA,SAASA,CAAT,EAAYC,eAAZ,EAA6BC,QAA7B,EAAuCC,GAAvC,EAA4CC,cAA5C,EAA4DC,UAA5D,EAAwEC,KAAxE,EAA+EC,KAA/E,EAAsFC,QAAtF,EAAgGC,KAAhG,EAAuGC,eAAvG,QAA8H,KAA9H;AACA,SAASC,UAAT,QAA2B,OAA3B;AACA,SAASC,YAAT,QAA6B,OAA7B;AACA,SAASC,YAAT,QAA6B,OAA7B;AACA,SAASC,EAAT,EAAaC,GAAb,QAAwB,MAAxB;AACA,SAASC,mBAAT,QAAoC,QAApC;AACA,SAASC,mBAAT,EAA8BC,0BAA9B,EAA0DC,UAA1D,EAAsEC,WAAtE,EAAmFC,eAAnF,QAA0G,uBAA1G;AACA,SAASC,SAAT,EAAoBC,SAApB,EAA+BC,QAA/B,EAAyCC,aAAzC,QAA8D,eAA9D;AACA,SAASC,SAAT,QAA0B,iBAA1B;AACA,SAASC,QAAT,QAAyB,eAAzB;AACA,SAASC,UAAT,QAA2B,WAA3B;AACA,SAASC,QAAT,EAAmBC,QAAnB,EAA6BC,SAA7B,QAA8C,SAA9C;AACA,SAASC,uBAAT,QAAwC,aAAxC;AACA,OAAOC,KAAP,MAAkB,qBAAlB;AACA,MAAMC,QAAQ,GAAG,EAAjB;AACA,eAAejC,eAAe,CAAC;EAC3BkC,IAAI,EAAE,cADqB;EAE3BC,KAAK,EAAEC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBN,uBAAlB,CAAd,EAA0D;IAAEO,MAAM,EAAEC,QAAV;IAAoBC,MAAM,EAAED,QAA5B;IAAsCE,SAAS,EAAE;MAC1GC,IAAI,EAAEC,MADoG;MAE1GC,QAAQ,EAAE;IAFgG;EAAjD,CAA1D,CAFoB;;EAM3BC,KAAK,CAACV,KAAD,EAAQ;IACT,MAAMW,QAAQ,GAAGvB,QAAQ,CAAC,OAAD,EAAU,QAAV,EAAoBS,KAApB,EAA2BL,UAA3B,EAAuCQ,KAAvC,EAA8C3B,KAAK,CAAC2B,KAAD,EAAQ,WAAR,CAAnD,CAAzB;IACA,IAAIY,WAAW,GAAG,IAAlB;IACA,MAAMC,UAAU,GAAG9C,GAAG,CAAC,IAAD,CAAtB;IACA,MAAM+C,iBAAiB,GAAG/C,GAAG,CAAC,IAAD,CAA7B;IACA,MAAMgD,aAAa,GAAGhD,GAAG,CAACiD,SAAD,CAAzB;IACA,MAAMC,OAAO,GAAGlD,GAAG,CAAC,KAAD,CAAnB;IACA,MAAMmD,YAAY,GAAGnD,GAAG,CAAC,KAAD,CAAxB;IACA,MAAM;MAAEoD;IAAF,IAAgBhC,SAAS,CAAC,OAAD,CAA/B;;IACA,SAASiC,mBAAT,GAA+B;MAC3B,MAAM;QAAEC,KAAK,EAAEC;MAAT,IAA4BR,iBAAlC;MACA,IAAI,CAACF,WAAD,IAAgB,CAACU,cAArB,EACI;MACJ,MAAM;QAAEzB;MAAF,IAAYyB,cAAlB;MACA,MAAMC,IAAI,GAAGX,WAAW,CAACY,qBAAZ,EAAb;MACA,MAAMC,EAAE,GAAGF,IAAI,CAACG,IAAL,GAAYH,IAAI,CAACI,KAAL,GAAa,CAApC;MACA,MAAMC,EAAE,GAAGL,IAAI,CAACM,GAAL,GAAWN,IAAI,CAACO,MAAL,GAAc,CAApC;MACAjC,KAAK,CAACkC,eAAN,GAAyB,GAAEN,EAAG,MAAKG,EAAG,IAAtC;IACH;;IACD,SAASI,aAAT,CAAuBC,CAAvB,EAA0B;MACtB,IAAIC,EAAJ,EAAQC,EAAR;;MACA,QAAQF,CAAC,CAACG,GAAV;QACI,KAAK,WAAL;UACI,CAACF,EAAE,GAAGlC,KAAK,CAACK,MAAZ,MAAwB,IAAxB,IAAgC6B,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAACG,IAAH,CAAQrC,KAAR,CAAzD;UACA;;QACJ,KAAK,YAAL;UACI,CAACmC,EAAE,GAAGnC,KAAK,CAACG,MAAZ,MAAwB,IAAxB,IAAgCgC,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAACE,IAAH,CAAQrC,KAAR,CAAzD;UACA;;QACJ,KAAK,QAAL;UACIsC,UAAU;UACV;MATR;IAWH;;IACDnE,KAAK,CAAC8C,OAAD,EAAWI,KAAD,IAAW;MACtB,IAAIA,KAAJ,EAAW;QACP3C,EAAE,CAAC,SAAD,EAAY6D,QAAZ,EAAsBP,aAAtB,CAAF;MACH,CAFD,MAIIrD,GAAG,CAAC,SAAD,EAAY4D,QAAZ,EAAsBP,aAAtB,CAAH;IACP,CANI,CAAL;IAOA1D,eAAe,CAAC,MAAM;MAClBK,GAAG,CAAC,SAAD,EAAY4D,QAAZ,EAAsBP,aAAtB,CAAH;IACH,CAFc,CAAf;IAGA,IAAIQ,MAAM,GAAG,CAAb;IACA,IAAIC,MAAM,GAAG,CAAb;IACA,IAAIC,OAAO,GAAG,CAAd;IACA,IAAIC,OAAO,GAAG,CAAd;IACA,IAAIC,YAAY,GAAG,CAAnB;IACA,IAAIC,YAAY,GAAG,CAAnB;IACA,IAAIC,gBAAgB,GAAG,CAAvB;IACA,IAAIC,gBAAgB,GAAG,CAAvB;IACA,IAAIC,QAAQ,GAAG,KAAf;;IACA,SAASC,eAAT,CAAyBhB,CAAzB,EAA4B;MACxB,MAAM;QAAEiB,OAAF;QAAWC;MAAX,IAAuBlB,CAA7B;MACAS,OAAO,GAAGQ,OAAO,GAAGV,MAApB;MACAG,OAAO,GAAGQ,OAAO,GAAGV,MAApB;MACA7D,mBAAmB,CAACwE,kBAAD,CAAnB;IACH;;IACD,SAASC,eAAT,CAAyBC,IAAzB,EAA+B;MAC3B,MAAM;QAAEC,cAAF;QAAkBC,cAAlB;QAAkCV,gBAAlC;QAAoDC;MAApD,IAAyEO,IAA/E;MACA,MAAMG,eAAe,GAAGX,gBAAgB,GAAGS,cAA3C;MACA,MAAMG,aAAa,GAAGX,gBAAgB,GAAGS,cAAzC;MACA,MAAMG,qBAAqB,GAAI,WAAUD,aAAa,GAAG,CAAhB,GAAoB,KAApB,GAA4B,QAAS,EAA9E;MACA,MAAME,uBAAuB,GAAI,aAAYH,eAAe,GAAG,CAAlB,GAAsB,MAAtB,GAA+B,OAAQ,EAApF;MACA,OAAO;QACHE,qBADG;QAEHC,uBAFG;QAGHH,eAHG;QAIHC;MAJG,CAAP;IAMH,CAtEQ,CAuET;;;IACA,SAASG,gBAAT,CAA0BC,YAA1B,EAAwC;MACpC,MAAM;QAAEzC,KAAK,EAAE0C;MAAT,IAAqBlD,UAA3B;MACA,IAAI,CAACkD,OAAL,EACI,OAAO;QAAErB,OAAO,EAAE,CAAX;QAAcC,OAAO,EAAE;MAAvB,CAAP;MACJ,MAAMqB,IAAI,GAAGD,OAAO,CAACvC,qBAAR,EAAb;MACA,MAAM;QAAEmC,qBAAF;QAAyBC,uBAAzB;QAAkDH,eAAlD;QAAmEC;MAAnE,IAAqFI,YAAY,IAAI,EAA3G;MACA,IAAIG,WAAW,GAAG,CAAlB;MACA,IAAIC,WAAW,GAAG,CAAlB;;MACA,IAAIF,IAAI,CAACrC,KAAL,IAAcwC,MAAM,CAACC,UAAzB,EAAqC;QACjCH,WAAW,GAAG,CAAd;MACH,CAFD,MAGK,IAAID,IAAI,CAACtC,IAAL,GAAY,CAAhB,EAAmB;QACpBuC,WAAW,GAAG,CAACD,IAAI,CAACrC,KAAL,GAAawC,MAAM,CAACC,UAArB,IAAmC,CAAjD;MACH,CAFI,MAGA,IAAIJ,IAAI,CAACK,KAAL,GAAaF,MAAM,CAACC,UAAxB,EAAoC;QACrCH,WAAW,GAAG,EAAED,IAAI,CAACrC,KAAL,GAAawC,MAAM,CAACC,UAAtB,IAAoC,CAAlD;MACH,CAFI,MAGA,IAAIR,uBAAuB,KAAK,iBAAhC,EAAmD;QACpDK,WAAW,GAAGK,IAAI,CAACC,GAAL,CAAS,CAACP,IAAI,CAACrC,KAAL,GAAawC,MAAM,CAACC,UAArB,IAAmC,CAA5C,EAA+CxB,YAAY,IAAIa,eAAe,KAAK,IAApB,IAA4BA,eAAe,KAAK,KAAK,CAArD,GAAyDA,eAAzD,GAA2E,CAA/E,CAA3D,CAAd;MACH,CAFI,MAGA;QACDQ,WAAW,GAAGK,IAAI,CAACE,GAAL,CAAS,EAAE,CAACR,IAAI,CAACrC,KAAL,GAAawC,MAAM,CAACC,UAArB,IAAmC,CAArC,CAAT,EAAkDxB,YAAY,IAAIa,eAAe,KAAK,IAApB,IAA4BA,eAAe,KAAK,KAAK,CAArD,GAAyDA,eAAzD,GAA2E,CAA/E,CAA9D,CAAd;MACH;;MACD,IAAIO,IAAI,CAAClC,MAAL,IAAeqC,MAAM,CAACM,WAA1B,EAAuC;QACnCP,WAAW,GAAG,CAAd;MACH,CAFD,MAGK,IAAIF,IAAI,CAACnC,GAAL,GAAW,CAAf,EAAkB;QACnBqC,WAAW,GAAG,CAACF,IAAI,CAAClC,MAAL,GAAcqC,MAAM,CAACM,WAAtB,IAAqC,CAAnD;MACH,CAFI,MAGA,IAAIT,IAAI,CAACU,MAAL,GAAcP,MAAM,CAACM,WAAzB,EAAsC;QACvCP,WAAW,GAAG,EAAEF,IAAI,CAAClC,MAAL,GAAcqC,MAAM,CAACM,WAAvB,IAAsC,CAApD;MACH,CAFI,MAGA,IAAId,qBAAqB,KAAK,gBAA9B,EAAgD;QACjDO,WAAW,GAAGI,IAAI,CAACC,GAAL,CAAS,CAACP,IAAI,CAAClC,MAAL,GAAcqC,MAAM,CAACM,WAAtB,IAAqC,CAA9C,EAAiD5B,YAAY,IAAIa,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqDA,aAArD,GAAqE,CAAzE,CAA7D,CAAd;MACH,CAFI,MAGA;QACDQ,WAAW,GAAGI,IAAI,CAACE,GAAL,CAAS,EAAE,CAACR,IAAI,CAAClC,MAAL,GAAcqC,MAAM,CAACM,WAAtB,IAAqC,CAAvC,CAAT,EAAoD5B,YAAY,IAAIa,aAAa,KAAK,IAAlB,IAA0BA,aAAa,KAAK,KAAK,CAAjD,GAAqDA,aAArD,GAAqE,CAAzE,CAAhE,CAAd;MACH;;MACD,OAAO;QACHhB,OAAO,EAAEuB,WADN;QAEHtB,OAAO,EAAEuB;MAFN,CAAP;IAIH;;IACD,SAASS,aAAT,CAAuB1C,CAAvB,EAA0B;MACtBtD,GAAG,CAAC,WAAD,EAAc4D,QAAd,EAAwBU,eAAxB,CAAH;MACAtE,GAAG,CAAC,SAAD,EAAY4D,QAAZ,EAAsBoC,aAAtB,CAAH;MACA,MAAM;QAAEzB,OAAO,EAAEK,cAAX;QAA2BJ,OAAO,EAAEK;MAApC,IAAuDvB,CAA7D;MACAe,QAAQ,GAAG,KAAX;MACA,MAAMc,YAAY,GAAGT,eAAe,CAAC;QACjCE,cADiC;QAEjCC,cAFiC;QAGjCV,gBAHiC;QAIjCC;MAJiC,CAAD,CAApC;MAMA,MAAM6B,MAAM,GAAGf,gBAAgB,CAACC,YAAD,CAA/B;MACApB,OAAO,GAAGkC,MAAM,CAAClC,OAAjB;MACAC,OAAO,GAAGiC,MAAM,CAACjC,OAAjB;MACAS,kBAAkB;IACrB;;IACD,SAASyB,sBAAT,CAAgC5C,CAAhC,EAAmC;MAC/B,MAAM;QAAEiB,OAAF;QAAWC;MAAX,IAAuBlB,CAA7B;MACAe,QAAQ,GAAG,IAAX;MACAR,MAAM,GAAGU,OAAO,GAAGR,OAAnB;MACAD,MAAM,GAAGU,OAAO,GAAGR,OAAnB;MACAC,YAAY,GAAGF,OAAf;MACAG,YAAY,GAAGF,OAAf;MACAG,gBAAgB,GAAGI,OAAnB;MACAH,gBAAgB,GAAGI,OAAnB;MACAC,kBAAkB;MAClB1E,EAAE,CAAC,WAAD,EAAc6D,QAAd,EAAwBU,eAAxB,CAAF;MACAvE,EAAE,CAAC,SAAD,EAAY6D,QAAZ,EAAsBoC,aAAtB,CAAF;IACH;;IACD,SAASG,qBAAT,GAAiC;MAC7B,MAAMC,sBAAsB,GAAGC,wBAAwB,EAAvD;MACAC,KAAK,GAAGA,KAAK,KAAKF,sBAAV,GAAmC,CAAnC,GAAuCA,sBAA/C;MACA3B,kBAAkB;IACrB;;IACD,MAAM8B,UAAU,GAAG,GAAnB;IACA,IAAIC,QAAQ,GAAG,CAAf;IACA,IAAIF,KAAK,GAAG,CAAZ;IACA,IAAIG,MAAM,GAAG,CAAb;;IACA,SAASC,UAAT,GAAsB;MAClBJ,KAAK,GAAG,CAAR;MACAE,QAAQ,GAAG,CAAX;IACH;;IACD,SAASG,gBAAT,GAA4B;MACxB,IAAIpD,EAAJ;;MACAmD,UAAU;MACVD,MAAM,GAAG,CAAT;MACA,CAAClD,EAAE,GAAGlC,KAAK,CAACK,MAAZ,MAAwB,IAAxB,IAAgC6B,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAACG,IAAH,CAAQrC,KAAR,CAAzD;IACH;;IACD,SAASuF,gBAAT,GAA4B;MACxB,IAAIrD,EAAJ;;MACAmD,UAAU;MACVD,MAAM,GAAG,CAAT;MACA,CAAClD,EAAE,GAAGlC,KAAK,CAACG,MAAZ,MAAwB,IAAxB,IAAgC+B,EAAE,KAAK,KAAK,CAA5C,GAAgD,KAAK,CAArD,GAAyDA,EAAE,CAACG,IAAH,CAAQrC,KAAR,CAAzD;IACH;;IACD,SAASwF,sBAAT,GAAkC;MAC9BJ,MAAM,IAAI,EAAV;MACAhC,kBAAkB;IACrB;;IACD,SAASqC,eAAT,GAA2B;MACvBL,MAAM,IAAI,EAAV;MACAhC,kBAAkB;IACrB;;IACD,SAASsC,WAAT,GAAuB;MACnB,MAAM;QAAErE,KAAK,EAAE0C;MAAT,IAAqBlD,UAA3B;MACA,IAAI,CAACkD,OAAL,EACI,OAAO,CAAP;MACJ,MAAM;QAAEK,UAAF;QAAcK;MAAd,IAA8BN,MAApC;MACA,MAAMwB,cAAc,GAAGrB,IAAI,CAACE,GAAL,CAAS,CAAT,EAAYT,OAAO,CAAC6B,aAAR,IAAyBnB,WAAW,GAAG3E,QAAvC,CAAZ,CAAvB;MACA,MAAM+F,aAAa,GAAGvB,IAAI,CAACE,GAAL,CAAS,CAAT,EAAYT,OAAO,CAAC+B,YAAR,IAAwB1B,UAAU,GAAGtE,QAArC,CAAZ,CAAtB;MACA,OAAOwE,IAAI,CAACE,GAAL,CAAS,CAAT,EAAYmB,cAAc,GAAG,CAA7B,EAAgCE,aAAa,GAAG,CAAhD,CAAP;IACH;;IACD,SAASb,wBAAT,GAAoC;MAChC,MAAM;QAAE3D,KAAK,EAAE0C;MAAT,IAAqBlD,UAA3B;MACA,IAAI,CAACkD,OAAL,EACI,OAAO,CAAP;MACJ,MAAM;QAAEK,UAAF;QAAcK;MAAd,IAA8BN,MAApC;MACA,MAAM4B,WAAW,GAAGhC,OAAO,CAAC6B,aAAR,IAAyBnB,WAAW,GAAG3E,QAAvC,CAApB;MACA,MAAMkG,UAAU,GAAGjC,OAAO,CAAC+B,YAAR,IAAwB1B,UAAU,GAAGtE,QAArC,CAAnB;;MACA,IAAIiG,WAAW,GAAG,CAAd,IAAmBC,UAAU,GAAG,CAApC,EAAuC;QACnC,OAAO,CAAP;MACH;;MACD,OAAO1B,IAAI,CAACE,GAAL,CAASuB,WAAT,EAAsBC,UAAtB,CAAP;IACH;;IACD,SAASC,MAAT,GAAkB;MACd,MAAMC,QAAQ,GAAGR,WAAW,EAA5B;;MACA,IAAIT,KAAK,GAAGiB,QAAZ,EAAsB;QAClBf,QAAQ,IAAI,CAAZ;QACAF,KAAK,GAAGX,IAAI,CAACC,GAAL,CAAS2B,QAAT,EAAmB5B,IAAI,CAAC6B,GAAL,CAASjB,UAAT,EAAqBC,QAArB,CAAnB,CAAR;QACA/B,kBAAkB;MACrB;IACJ;;IACD,SAASgD,OAAT,GAAmB;MACf,IAAInB,KAAK,GAAG,GAAZ,EAAiB;QACb,MAAMoB,aAAa,GAAGpB,KAAtB;QACAE,QAAQ,IAAI,CAAZ;QACAF,KAAK,GAAGX,IAAI,CAACE,GAAL,CAAS,GAAT,EAAcF,IAAI,CAAC6B,GAAL,CAASjB,UAAT,EAAqBC,QAArB,CAAd,CAAR;QACA,MAAMmB,IAAI,GAAGD,aAAa,GAAGpB,KAA7B;QACA7B,kBAAkB,CAAC,KAAD,CAAlB;QACA,MAAMwB,MAAM,GAAGf,gBAAgB,EAA/B;QACAoB,KAAK,IAAIqB,IAAT;QACAlD,kBAAkB,CAAC,KAAD,CAAlB;QACA6B,KAAK,IAAIqB,IAAT;QACA5D,OAAO,GAAGkC,MAAM,CAAClC,OAAjB;QACAC,OAAO,GAAGiC,MAAM,CAACjC,OAAjB;QACAS,kBAAkB;MACrB;IACJ;;IACD,SAASA,kBAAT,CAA4BmD,UAAU,GAAG,IAAzC,EAA+C;MAC3C,MAAM;QAAElF,KAAK,EAAE0C;MAAT,IAAqBlD,UAA3B;MACA,IAAI,CAACkD,OAAL,EACI;MACJ,MAAM;QAAElE;MAAF,IAAYkE,OAAlB;MACA,MAAMyC,cAAc,GAAI,mDAAkD9D,OAAQ,kBAAiBC,OAAQ,cAAayC,MAAO,cAAaH,KAAM,IAAlJ;;MACA,IAAIjC,QAAJ,EAAc;QACVnD,KAAK,CAAC4G,OAAN,GAAgB,wCAAwCD,cAAxD;MACH,CAFD,MAGK;QACD3G,KAAK,CAAC4G,OAAN,GACI,kBACID,cADJ,IAEKD,UAAU,GAAG,EAAH,GAAQ,mBAFvB,CADJ;MAIH;;MACD,IAAI,CAACA,UAAL,EAAiB;QACb,KAAKxC,OAAO,CAAC2C,YAAb;MACH;IACJ;;IACD,SAASpE,UAAT,GAAsB;MAClBrB,OAAO,CAACI,KAAR,GAAgB,CAACJ,OAAO,CAACI,KAAzB;MACAH,YAAY,CAACG,KAAb,GAAqB,IAArB;IACH;;IACD,SAASsF,wBAAT,GAAoC;MAChC1B,KAAK,GAAGD,wBAAwB,EAAhC;MACAG,QAAQ,GAAGb,IAAI,CAACsC,IAAL,CAAUtC,IAAI,CAACuC,GAAL,CAAS5B,KAAT,IAAkBX,IAAI,CAACuC,GAAL,CAAS3B,UAAT,CAA5B,CAAX;MACAxC,OAAO,GAAG,CAAV;MACAC,OAAO,GAAG,CAAV;MACAS,kBAAkB;IACrB;;IACD,MAAM0D,cAAc,GAAG;MACnBC,aAAa,EAAGC,GAAD,IAAS;QACpBjG,aAAa,CAACM,KAAd,GAAsB2F,GAAtB;MACH,CAHkB;MAInBC,cAAc,EAAGC,EAAD,IAAQ;QACpBtG,WAAW,GAAGsG,EAAd;MACH,CANkB;MAOnB5E;IAPmB,CAAvB;;IASA,SAAS6E,WAAT,CAAqBC,IAArB,EAA2BC,UAA3B,EAAuC;MACnC,IAAIrH,KAAK,CAACsH,kBAAV,EAA8B;QAC1B,MAAM;UAAEjG,KAAK,EAAEkG;QAAT,IAAmB5G,QAAzB;QACA,OAAQ/C,CAAC,CAAC2B,QAAD,EAAW;UAAEiI,EAAE,EAAE,KAAN;UAAaD,KAAK,EAAEA,KAAK,CAACE,KAAN,CAAYC,OAAhC;UAAyCC,cAAc,EAAEJ,KAAK,CAACK,aAAN,CAAoBF,OAA7E;UAAsFG,gBAAgB,EAAE;QAAxG,CAAX,EAA4H;UACjIC,OAAO,EAAE,MAAM;YACX,OAAO3G,SAAS,CAACE,KAAV,CAAgBgG,UAAhB,CAAP;UACH,CAHgI;UAIjIU,OAAO,EAAE,MAAMX;QAJkH,CAA5H,CAAT;MAMH,CARD,MASK;QACD,OAAOA,IAAP;MACH;IACJ;;IACD,MAAMY,UAAU,GAAG5J,QAAQ,CAAC,MAAM;MAC9B,MAAM;QAAE6J,MAAM,EAAE;UAAEC;QAAF,CAAV;QAAoCC,IAAI,EAAE;UAAEC,gBAAF;UAAoBC,mBAApB;UAAyCC,gBAAzC;UAA2DC;QAA3D;MAA1C,IAAwH5H,QAAQ,CAACU,KAAvI;MACA,OAAO;QACH,cAAc6G,oBADX;QAEH,0BAA0BE,gBAFvB;QAGH,qBAAqBG,YAHlB;QAIH,6BAA6BF,mBAJ1B;QAKH,0BAA0BC;MALvB,CAAP;IAOH,CAT0B,CAA3B;IAUA,MAAM;MAAEE;IAAF,IAA0BtJ,SAAS,EAAzC;IACA,MAAMuJ,gBAAgB,GAAGD,mBAAmB,GACtCnJ,aAAa,CAAC,eAAD,EAAkB2B,SAAlB,EAA6BgH,UAA7B,EAAyChI,KAAzC,CADyB,GAEtCgB,SAFN;IAGA,OAAOf,MAAM,CAACC,MAAP,CAAc;MAAEW,UAAF;MACjBC,iBADiB;MACE4H,UAAU,EAAE3H,aADd;MAC6B4H,IAAI,EAAE1H,OADnC;MAC4C2H,MAAM,EAAEpK,YAAY,EADhE;MACoEqK,SAAS,EAAE3H,YAD/E;;MAC6F4H,WAAW,CAAC7G,CAAD,EAAI;QACzHA,CAAC,CAAC8G,cAAF;MACH,CAHgB;;MAIjBlE,sBAJiB;MAKjBC,qBALiB;MAMjB1D,mBANiB;MAMI4H,gBAAgB,EAAE,MAAM;QACzC3D,UAAU;QACVD,MAAM,GAAG,CAAT;QACAlE,YAAY,CAACG,KAAb,GAAqB,KAArB;MACH,CAVgB;MAUd4H,eAAe,EAAGhH,CAAD,IAAO;QACvBA,CAAC,CAAC8G,cAAF;MACH,CAZgB;MAYd9C,MAZc;MAajBG,OAbiB;MAcjBZ,sBAdiB;MAejBC,eAfiB;MAgBjBH,gBAhBiB;MAiBjBC,gBAjBiB;MAkBjB4B,WAlBiB;MAmBjBR,wBAnBiB;MAmBSuC,OAAO,EAAEV,mBAAmB,GAAGxH,SAAH,GAAegH,UAnBpD;MAmBgEmB,UAAU,EAAEV,gBAAgB,KAAK,IAArB,IAA6BA,gBAAgB,KAAK,KAAK,CAAvD,GAA2D,KAAK,CAAhE,GAAoEA,gBAAgB,CAACU,UAnBjK;MAmB6KC,QAAQ,EAAEX,gBAAgB,KAAK,IAArB,IAA6BA,gBAAgB,KAAK,KAAK,CAAvD,GAA2D,KAAK,CAAhE,GAAoEA,gBAAgB,CAACW;IAnB5Q,CAAd,EAmBsStC,cAnBtS,CAAP;EAoBH,CA3T0B;;EA4T3BuC,MAAM,GAAG;IACL,IAAInH,EAAJ,EAAQC,EAAR;;IACA,MAAM;MAAE7B;IAAF,IAAgB,IAAtB;IACA,OAAQ1C,CAAC,CAACE,QAAD,EAAW,IAAX,EAAiB,CAACqE,EAAE,GAAG,CAACD,EAAE,GAAG,KAAKoH,MAAX,EAAmBxB,OAAzB,MAAsC,IAAtC,IAA8C3F,EAAE,KAAK,KAAK,CAA1D,GAA8D,KAAK,CAAnE,GACtBA,EAAE,CAACE,IAAH,CAAQH,EAAR,CADK,EAELtE,CAAC,CAACa,YAAD,EAAe;MAAEkK,IAAI,EAAE,KAAKA;IAAb,CAAf,EAAoC;MACjCb,OAAO,EAAE,MAAM;QACX,IAAI5F,EAAJ;;QACA,IAAI,EAAE,KAAKyG,IAAL,IAAa,KAAKE,SAApB,CAAJ,EAAoC;UAChC,OAAO,IAAP;QACH;;QACD,CAAC3G,EAAE,GAAG,KAAKkH,QAAX,MAAyB,IAAzB,IAAiClH,EAAE,KAAK,KAAK,CAA7C,GAAiD,KAAK,CAAtD,GAA0DA,EAAE,CAACG,IAAH,CAAQ,IAAR,CAA1D;QACA,OAAOrE,cAAc,CAACJ,CAAC,CAAC,KAAD,EAAQ;UAAE2L,KAAK,EAAE,CAC/B,GAAEjJ,SAAU,0BADmB,EAEhC,KAAK6I,UAF2B,CAAT;UAGxBtJ,KAAK,EAAE,KAAKqJ,OAHY;UAGHM,OAAO,EAAE,KAAKV;QAHX,CAAR,EAInBlL,CAAC,CAACK,UAAD,EAAa;UAAE8B,IAAI,EAAE,oBAAR;UAA8B6I,MAAM,EAAE,KAAKA;QAA3C,CAAb,EAAkE;UAC/Dd,OAAO,EAAE,MAAM,KAAKa,IAAL,GAAa/K,CAAC,CAAC,KAAD,EAAQ;YAAE2L,KAAK,EAAG,GAAEjJ,SAAU,wBAAtB;YAA+CmJ,OAAO,EAAE,KAAKnH;UAA7D,CAAR,CAAd,GAAoG;QADpD,CAAlE,CAJkB,EAOnB,KAAKoH,WAAL,GAAoB9L,CAAC,CAACK,UAAD,EAAa;UAAE8B,IAAI,EAAE,oBAAR;UAA8B6I,MAAM,EAAE,KAAKA;QAA3C,CAAb,EAAkE;UACnFd,OAAO,EAAE,MAAM;YACX,IAAI,CAAC,KAAKa,IAAV,EACI,OAAO,IAAP;YACJ,MAAM;cAAExB;YAAF,IAAkB,IAAxB;YACA,OAAQvJ,CAAC,CAAC,KAAD,EAAQ;cAAE2L,KAAK,EAAG,GAAEjJ,SAAU;YAAtB,CAAR,EACL,KAAKD,MAAL,GAAezC,CAAC,CAACE,QAAD,EAAW,IAAX,EACZqJ,WAAW,CAACvJ,CAAC,CAAC0B,SAAD,EAAY;cAAEgB,SAAS,EAAEA,SAAb;cAAwBmJ,OAAO,EAAE,KAAKnE;YAAtC,CAAZ,EAAsE;cAAEwC,OAAO,EAAE,MAAMrI;YAAjB,CAAtE,CAAF,EAAsG,aAAtG,CADC,EAEZ0H,WAAW,CAACvJ,CAAC,CAAC0B,SAAD,EAAY;cAAEgB,SAAS,EAAEA,SAAb;cAAwBmJ,OAAO,EAAE,KAAKlE;YAAtC,CAAZ,EAAsE;cAAEuC,OAAO,EAAE,MAAMpI;YAAjB,CAAtE,CAAF,EAAsG,SAAtG,CAFC,CAAhB,GAEoI,IAH/H,EAILyH,WAAW,CAACvJ,CAAC,CAAC0B,SAAD,EAAY;cAAEgB,SAAS,EAAEA,SAAb;cAAwBmJ,OAAO,EAAE,KAAKjE;YAAtC,CAAZ,EAA4E;cACrFsC,OAAO,EAAE,MAAOlK,CAAC,CAACkB,0BAAD,EAA6B,IAA7B;YADoE,CAA5E,CAAF,EAEP,qBAFO,CAJN,EAOLqI,WAAW,CAACvJ,CAAC,CAAC0B,SAAD,EAAY;cAAEgB,SAAS,EAAEA,SAAb;cAAwBmJ,OAAO,EAAE,KAAKhE;YAAtC,CAAZ,EAAqE;cAC9EqC,OAAO,EAAE,MAAMlK,CAAC,CAACiB,mBAAD,EAAsB,IAAtB;YAD8D,CAArE,CAAF,EAEP,cAFO,CAPN,EAULsI,WAAW,CAACvJ,CAAC,CAAC0B,SAAD,EAAY;cAAEgB,SAAS,EAAEA,SAAb;cAAwBmJ,OAAO,EAAE,KAAK9C;YAAtC,CAAZ,EAA8E;cACvFmB,OAAO,EAAE,MAAM;gBACX,OAAOlK,CAAC,CAACqB,eAAD,EAAkB,IAAlB,CAAR;cACH;YAHsF,CAA9E,CAAF,EAIP,iBAJO,CAVN,EAeLkI,WAAW,CAACvJ,CAAC,CAAC0B,SAAD,EAAY;cAAEgB,SAAS,EAAEA,SAAb;cAAwBmJ,OAAO,EAAE,KAAKrD;YAAtC,CAAZ,EAA6D;cAAE0B,OAAO,EAAE,MAAMlK,CAAC,CAACoB,WAAD,EAAc,IAAd;YAAlB,CAA7D,CAAF,EAAyG,YAAzG,CAfN,EAgBLmI,WAAW,CAACvJ,CAAC,CAAC0B,SAAD,EAAY;cAAEgB,SAAS,EAAEA,SAAb;cAAwBmJ,OAAO,EAAE,KAAKxD;YAAtC,CAAZ,EAA4D;cAAE6B,OAAO,EAAE,MAAMlK,CAAC,CAACmB,UAAD,EAAa,IAAb;YAAlB,CAA5D,CAAF,EAAuG,WAAvG,CAhBN,EAiBLoI,WAAW,CAACvJ,CAAC,CAAC0B,SAAD,EAAY;cAAEgB,SAAS,EAAEA,SAAb;cAAwBmJ,OAAO,EAAE,KAAKnH;YAAtC,CAAZ,EAAgE;cAAEwF,OAAO,EAAE,MAAMnI;YAAjB,CAAhE,CAAF,EAAiG,UAAjG,CAjBN,CAAT;UAkBH;QAvBkF,CAAlE,CAArB,GAwBM,IA/Ba,EAgCnB/B,CAAC,CAACK,UAAD,EAAa;UAAE8B,IAAI,EAAE,6BAAR;UAAuC4J,YAAY,EAAE,KAAKX,gBAA1D;UAA4EJ,MAAM,EAAE,KAAKA,MAAzF;UACV;UACA;UACA;UACAgB,OAAO,EAAE,KAAKxI,mBAJJ;UAIyByI,aAAa,EAAE,KAAKzI;QAJ7C,CAAb,EAIiF;UAC9E0G,OAAO,EAAE,MAAM9J,cAAc,CAACJ,CAAC,CAAC,KAAD,EAAQ;YAAE2L,KAAK,EAAG,GAAEjJ,SAAU,wBAAtB;YAA+CvC,GAAG,EAAE;UAApD,CAAR,EAC3BH,CAAC,CAAC,KAAD,EAAQ;YAAEkM,SAAS,EAAE,KAAb;YAAoBC,WAAW,EAAE,KAAKlF,sBAAtC;YAA8DmF,UAAU,EAAE,KAAKlF,qBAA/E;YAAsGyE,KAAK,EAAG,GAAEjJ,SAAU,gBAA1H;YAA2I8B,GAAG,EAAE,KAAKsG,UAArJ;YAAiK1B,GAAG,EAAE,KAAK0B,UAA3K;YAAuL3K,GAAG,EAAE,YAA5L;YAA0MkM,WAAW,EAAE,KAAKhB;UAA5N,CAAR,CAD0B,CAAF,EACiO,CAAC,CAAC/K,KAAD,EAAQ,KAAKyK,IAAb,CAAD,CADjO;QADiD,CAJjF,CAhCkB,CAAF,EAuCZ,CAAC,CAACpK,UAAD,EAAa;UAAE2L,OAAO,EAAE,KAAKvB;QAAhB,CAAb,CAAD,CAvCY,CAArB;MAwCH;IA/CgC,CAApC,CAFI,CAAT;EAmDH;;AAlX0B,CAAD,CAA9B"},"metadata":{},"sourceType":"module"}