{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { Fragment, ref, h, reactive, Teleport, defineComponent, provide } from 'vue';\nimport { createId } from 'seemly';\nimport { omit } from '../../_utils';\nimport { useConfig, useTheme } from '../../_mixins';\nimport MessageEnvironment from './MessageEnvironment';\nimport { messageApiInjectionKey, messageProviderInjectionKey } from './context';\nexport const messageProviderProps = Object.assign(Object.assign({}, useTheme.props), {\n  to: [String, Object],\n  duration: {\n    type: Number,\n    default: 3000\n  },\n  keepAliveOnHover: Boolean,\n  max: Number,\n  placement: {\n    type: String,\n    default: 'top'\n  },\n  closable: Boolean,\n  containerStyle: [String, Object]\n});\nexport default defineComponent({\n  name: 'MessageProvider',\n  props: messageProviderProps,\n\n  setup(props) {\n    const {\n      mergedClsPrefixRef\n    } = useConfig(props);\n    const messageListRef = ref([]);\n    const messageRefs = ref({});\n    const api = {\n      create(content, options) {\n        return create(content, Object.assign({\n          type: 'default'\n        }, options));\n      },\n\n      info(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'info'\n        }));\n      },\n\n      success(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'success'\n        }));\n      },\n\n      warning(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'warning'\n        }));\n      },\n\n      error(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'error'\n        }));\n      },\n\n      loading(content, options) {\n        return create(content, Object.assign(Object.assign({}, options), {\n          type: 'loading'\n        }));\n      },\n\n      destroyAll\n    };\n    provide(messageProviderInjectionKey, {\n      props,\n      mergedClsPrefixRef\n    });\n    provide(messageApiInjectionKey, api);\n\n    function create(content, options) {\n      const key = createId();\n      const messageReactive = reactive(Object.assign(Object.assign({}, options), {\n        content,\n        key,\n        destroy: () => {\n          var _a;\n\n          (_a = messageRefs.value[key]) === null || _a === void 0 ? void 0 : _a.hide();\n        }\n      }));\n      const {\n        max\n      } = props;\n\n      if (max && messageListRef.value.length >= max) {\n        messageListRef.value.shift();\n      }\n\n      messageListRef.value.push(messageReactive);\n      return messageReactive;\n    }\n\n    function handleAfterLeave(key) {\n      messageListRef.value.splice(messageListRef.value.findIndex(message => message.key === key), 1); // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n\n      delete messageRefs.value[key];\n    }\n\n    function destroyAll() {\n      Object.values(messageRefs.value).forEach(messageInstRef => {\n        messageInstRef.hide();\n      });\n    }\n\n    return Object.assign({\n      mergedClsPrefix: mergedClsPrefixRef,\n      messageRefs,\n      messageList: messageListRef,\n      handleAfterLeave\n    }, api);\n  },\n\n  render() {\n    var _a, _b, _c;\n\n    return h(Fragment, null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 : _b.call(_a), this.messageList.length ? h(Teleport, {\n      to: (_c = this.to) !== null && _c !== void 0 ? _c : 'body'\n    }, h(\"div\", {\n      class: [`${this.mergedClsPrefix}-message-container`, `${this.mergedClsPrefix}-message-container--${this.placement}`],\n      key: \"message-container\",\n      style: this.containerStyle\n    }, this.messageList.map(message => {\n      return h(MessageEnvironment, Object.assign({\n        ref: inst => {\n          if (inst) {\n            this.messageRefs[message.key] = inst;\n          }\n        },\n        internalKey: message.key,\n        onInternalAfterLeave: this.handleAfterLeave\n      }, omit(message, ['destroy'], undefined), {\n        duration: message.duration === undefined ? this.duration : message.duration,\n        keepAliveOnHover: message.keepAliveOnHover === undefined ? this.keepAliveOnHover : message.keepAliveOnHover,\n        closable: message.closable === undefined ? this.closable : message.closable\n      }));\n    }))) : null);\n  }\n\n});","map":{"version":3,"names":["Fragment","ref","h","reactive","Teleport","defineComponent","provide","createId","omit","useConfig","useTheme","MessageEnvironment","messageApiInjectionKey","messageProviderInjectionKey","messageProviderProps","Object","assign","props","to","String","duration","type","Number","default","keepAliveOnHover","Boolean","max","placement","closable","containerStyle","name","setup","mergedClsPrefixRef","messageListRef","messageRefs","api","create","content","options","info","success","warning","error","loading","destroyAll","key","messageReactive","destroy","_a","value","hide","length","shift","push","handleAfterLeave","splice","findIndex","message","values","forEach","messageInstRef","mergedClsPrefix","messageList","render","_b","_c","$slots","call","class","style","map","inst","internalKey","onInternalAfterLeave","undefined"],"sources":["D:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/message/src/MessageProvider.js"],"sourcesContent":["import { Fragment, ref, h, reactive, Teleport, defineComponent, provide } from 'vue';\nimport { createId } from 'seemly';\nimport { omit } from '../../_utils';\nimport { useConfig, useTheme } from '../../_mixins';\nimport MessageEnvironment from './MessageEnvironment';\nimport { messageApiInjectionKey, messageProviderInjectionKey } from './context';\nexport const messageProviderProps = Object.assign(Object.assign({}, useTheme.props), { to: [String, Object], duration: {\n        type: Number,\n        default: 3000\n    }, keepAliveOnHover: Boolean, max: Number, placement: {\n        type: String,\n        default: 'top'\n    }, closable: Boolean, containerStyle: [String, Object] });\nexport default defineComponent({\n    name: 'MessageProvider',\n    props: messageProviderProps,\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig(props);\n        const messageListRef = ref([]);\n        const messageRefs = ref({});\n        const api = {\n            create(content, options) {\n                return create(content, Object.assign({ type: 'default' }, options));\n            },\n            info(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'info' }));\n            },\n            success(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'success' }));\n            },\n            warning(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'warning' }));\n            },\n            error(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'error' }));\n            },\n            loading(content, options) {\n                return create(content, Object.assign(Object.assign({}, options), { type: 'loading' }));\n            },\n            destroyAll\n        };\n        provide(messageProviderInjectionKey, {\n            props,\n            mergedClsPrefixRef\n        });\n        provide(messageApiInjectionKey, api);\n        function create(content, options) {\n            const key = createId();\n            const messageReactive = reactive(Object.assign(Object.assign({}, options), { content,\n                key, destroy: () => {\n                    var _a;\n                    (_a = messageRefs.value[key]) === null || _a === void 0 ? void 0 : _a.hide();\n                } }));\n            const { max } = props;\n            if (max && messageListRef.value.length >= max) {\n                messageListRef.value.shift();\n            }\n            messageListRef.value.push(messageReactive);\n            return messageReactive;\n        }\n        function handleAfterLeave(key) {\n            messageListRef.value.splice(messageListRef.value.findIndex((message) => message.key === key), 1);\n            // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\n            delete messageRefs.value[key];\n        }\n        function destroyAll() {\n            Object.values(messageRefs.value).forEach((messageInstRef) => {\n                messageInstRef.hide();\n            });\n        }\n        return Object.assign({\n            mergedClsPrefix: mergedClsPrefixRef,\n            messageRefs,\n            messageList: messageListRef,\n            handleAfterLeave\n        }, api);\n    },\n    render() {\n        var _a, _b, _c;\n        return (h(Fragment, null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 :\n            _b.call(_a),\n            this.messageList.length ? (h(Teleport, { to: (_c = this.to) !== null && _c !== void 0 ? _c : 'body' },\n                h(\"div\", { class: [\n                        `${this.mergedClsPrefix}-message-container`,\n                        `${this.mergedClsPrefix}-message-container--${this.placement}`\n                    ], key: \"message-container\", style: this.containerStyle }, this.messageList.map((message) => {\n                    return (h(MessageEnvironment, Object.assign({ ref: ((inst) => {\n                            if (inst) {\n                                this.messageRefs[message.key] = inst;\n                            }\n                        }), internalKey: message.key, onInternalAfterLeave: this.handleAfterLeave }, omit(message, ['destroy'], undefined), { duration: message.duration === undefined\n                            ? this.duration\n                            : message.duration, keepAliveOnHover: message.keepAliveOnHover === undefined\n                            ? this.keepAliveOnHover\n                            : message.keepAliveOnHover, closable: message.closable === undefined\n                            ? this.closable\n                            : message.closable })));\n                })))) : null));\n    }\n});\n"],"mappings":";AAAA,SAASA,QAAT,EAAmBC,GAAnB,EAAwBC,CAAxB,EAA2BC,QAA3B,EAAqCC,QAArC,EAA+CC,eAA/C,EAAgEC,OAAhE,QAA+E,KAA/E;AACA,SAASC,QAAT,QAAyB,QAAzB;AACA,SAASC,IAAT,QAAqB,cAArB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,eAApC;AACA,OAAOC,kBAAP,MAA+B,sBAA/B;AACA,SAASC,sBAAT,EAAiCC,2BAAjC,QAAoE,WAApE;AACA,OAAO,MAAMC,oBAAoB,GAAGC,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBN,QAAQ,CAACO,KAA3B,CAAd,EAAiD;EAAEC,EAAE,EAAE,CAACC,MAAD,EAASJ,MAAT,CAAN;EAAwBK,QAAQ,EAAE;IAC/GC,IAAI,EAAEC,MADyG;IAE/GC,OAAO,EAAE;EAFsG,CAAlC;EAG9EC,gBAAgB,EAAEC,OAH4D;EAGnDC,GAAG,EAAEJ,MAH8C;EAGtCK,SAAS,EAAE;IAClDN,IAAI,EAAEF,MAD4C;IAElDI,OAAO,EAAE;EAFyC,CAH2B;EAM9EK,QAAQ,EAAEH,OANoE;EAM3DI,cAAc,EAAE,CAACV,MAAD,EAASJ,MAAT;AAN2C,CAAjD,CAA7B;AAOP,eAAeV,eAAe,CAAC;EAC3ByB,IAAI,EAAE,iBADqB;EAE3Bb,KAAK,EAAEH,oBAFoB;;EAG3BiB,KAAK,CAACd,KAAD,EAAQ;IACT,MAAM;MAAEe;IAAF,IAAyBvB,SAAS,CAACQ,KAAD,CAAxC;IACA,MAAMgB,cAAc,GAAGhC,GAAG,CAAC,EAAD,CAA1B;IACA,MAAMiC,WAAW,GAAGjC,GAAG,CAAC,EAAD,CAAvB;IACA,MAAMkC,GAAG,GAAG;MACRC,MAAM,CAACC,OAAD,EAAUC,OAAV,EAAmB;QACrB,OAAOF,MAAM,CAACC,OAAD,EAAUtB,MAAM,CAACC,MAAP,CAAc;UAAEK,IAAI,EAAE;QAAR,CAAd,EAAmCiB,OAAnC,CAAV,CAAb;MACH,CAHO;;MAIRC,IAAI,CAACF,OAAD,EAAUC,OAAV,EAAmB;QACnB,OAAOF,MAAM,CAACC,OAAD,EAAUtB,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBsB,OAAlB,CAAd,EAA0C;UAAEjB,IAAI,EAAE;QAAR,CAA1C,CAAV,CAAb;MACH,CANO;;MAORmB,OAAO,CAACH,OAAD,EAAUC,OAAV,EAAmB;QACtB,OAAOF,MAAM,CAACC,OAAD,EAAUtB,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBsB,OAAlB,CAAd,EAA0C;UAAEjB,IAAI,EAAE;QAAR,CAA1C,CAAV,CAAb;MACH,CATO;;MAURoB,OAAO,CAACJ,OAAD,EAAUC,OAAV,EAAmB;QACtB,OAAOF,MAAM,CAACC,OAAD,EAAUtB,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBsB,OAAlB,CAAd,EAA0C;UAAEjB,IAAI,EAAE;QAAR,CAA1C,CAAV,CAAb;MACH,CAZO;;MAaRqB,KAAK,CAACL,OAAD,EAAUC,OAAV,EAAmB;QACpB,OAAOF,MAAM,CAACC,OAAD,EAAUtB,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBsB,OAAlB,CAAd,EAA0C;UAAEjB,IAAI,EAAE;QAAR,CAA1C,CAAV,CAAb;MACH,CAfO;;MAgBRsB,OAAO,CAACN,OAAD,EAAUC,OAAV,EAAmB;QACtB,OAAOF,MAAM,CAACC,OAAD,EAAUtB,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBsB,OAAlB,CAAd,EAA0C;UAAEjB,IAAI,EAAE;QAAR,CAA1C,CAAV,CAAb;MACH,CAlBO;;MAmBRuB;IAnBQ,CAAZ;IAqBAtC,OAAO,CAACO,2BAAD,EAA8B;MACjCI,KADiC;MAEjCe;IAFiC,CAA9B,CAAP;IAIA1B,OAAO,CAACM,sBAAD,EAAyBuB,GAAzB,CAAP;;IACA,SAASC,MAAT,CAAgBC,OAAhB,EAAyBC,OAAzB,EAAkC;MAC9B,MAAMO,GAAG,GAAGtC,QAAQ,EAApB;MACA,MAAMuC,eAAe,GAAG3C,QAAQ,CAACY,MAAM,CAACC,MAAP,CAAcD,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBsB,OAAlB,CAAd,EAA0C;QAAED,OAAF;QACvEQ,GADuE;QAClEE,OAAO,EAAE,MAAM;UAChB,IAAIC,EAAJ;;UACA,CAACA,EAAE,GAAGd,WAAW,CAACe,KAAZ,CAAkBJ,GAAlB,CAAN,MAAkC,IAAlC,IAA0CG,EAAE,KAAK,KAAK,CAAtD,GAA0D,KAAK,CAA/D,GAAmEA,EAAE,CAACE,IAAH,EAAnE;QACH;MAJsE,CAA1C,CAAD,CAAhC;MAKA,MAAM;QAAExB;MAAF,IAAUT,KAAhB;;MACA,IAAIS,GAAG,IAAIO,cAAc,CAACgB,KAAf,CAAqBE,MAArB,IAA+BzB,GAA1C,EAA+C;QAC3CO,cAAc,CAACgB,KAAf,CAAqBG,KAArB;MACH;;MACDnB,cAAc,CAACgB,KAAf,CAAqBI,IAArB,CAA0BP,eAA1B;MACA,OAAOA,eAAP;IACH;;IACD,SAASQ,gBAAT,CAA0BT,GAA1B,EAA+B;MAC3BZ,cAAc,CAACgB,KAAf,CAAqBM,MAArB,CAA4BtB,cAAc,CAACgB,KAAf,CAAqBO,SAArB,CAAgCC,OAAD,IAAaA,OAAO,CAACZ,GAAR,KAAgBA,GAA5D,CAA5B,EAA8F,CAA9F,EAD2B,CAE3B;;MACA,OAAOX,WAAW,CAACe,KAAZ,CAAkBJ,GAAlB,CAAP;IACH;;IACD,SAASD,UAAT,GAAsB;MAClB7B,MAAM,CAAC2C,MAAP,CAAcxB,WAAW,CAACe,KAA1B,EAAiCU,OAAjC,CAA0CC,cAAD,IAAoB;QACzDA,cAAc,CAACV,IAAf;MACH,CAFD;IAGH;;IACD,OAAOnC,MAAM,CAACC,MAAP,CAAc;MACjB6C,eAAe,EAAE7B,kBADA;MAEjBE,WAFiB;MAGjB4B,WAAW,EAAE7B,cAHI;MAIjBqB;IAJiB,CAAd,EAKJnB,GALI,CAAP;EAMH,CA/D0B;;EAgE3B4B,MAAM,GAAG;IACL,IAAIf,EAAJ,EAAQgB,EAAR,EAAYC,EAAZ;;IACA,OAAQ/D,CAAC,CAACF,QAAD,EAAW,IAAX,EAAiB,CAACgE,EAAE,GAAG,CAAChB,EAAE,GAAG,KAAKkB,MAAX,EAAmB3C,OAAzB,MAAsC,IAAtC,IAA8CyC,EAAE,KAAK,KAAK,CAA1D,GAA8D,KAAK,CAAnE,GACtBA,EAAE,CAACG,IAAH,CAAQnB,EAAR,CADK,EAEL,KAAKc,WAAL,CAAiBX,MAAjB,GAA2BjD,CAAC,CAACE,QAAD,EAAW;MAAEc,EAAE,EAAE,CAAC+C,EAAE,GAAG,KAAK/C,EAAX,MAAmB,IAAnB,IAA2B+C,EAAE,KAAK,KAAK,CAAvC,GAA2CA,EAA3C,GAAgD;IAAtD,CAAX,EACxB/D,CAAC,CAAC,KAAD,EAAQ;MAAEkE,KAAK,EAAE,CACT,GAAE,KAAKP,eAAgB,oBADd,EAET,GAAE,KAAKA,eAAgB,uBAAsB,KAAKlC,SAAU,EAFnD,CAAT;MAGFkB,GAAG,EAAE,mBAHH;MAGwBwB,KAAK,EAAE,KAAKxC;IAHpC,CAAR,EAG8D,KAAKiC,WAAL,CAAiBQ,GAAjB,CAAsBb,OAAD,IAAa;MAC7F,OAAQvD,CAAC,CAACS,kBAAD,EAAqBI,MAAM,CAACC,MAAP,CAAc;QAAEf,GAAG,EAAIsE,IAAD,IAAU;UACtD,IAAIA,IAAJ,EAAU;YACN,KAAKrC,WAAL,CAAiBuB,OAAO,CAACZ,GAAzB,IAAgC0B,IAAhC;UACH;QACJ,CAJuC;QAIpCC,WAAW,EAAEf,OAAO,CAACZ,GAJe;QAIV4B,oBAAoB,EAAE,KAAKnB;MAJjB,CAAd,EAImD9C,IAAI,CAACiD,OAAD,EAAU,CAAC,SAAD,CAAV,EAAuBiB,SAAvB,CAJvD,EAI0F;QAAEtD,QAAQ,EAAEqC,OAAO,CAACrC,QAAR,KAAqBsD,SAArB,GAC1H,KAAKtD,QADqH,GAE1HqC,OAAO,CAACrC,QAFsG;QAE5FI,gBAAgB,EAAEiC,OAAO,CAACjC,gBAAR,KAA6BkD,SAA7B,GACpC,KAAKlD,gBAD+B,GAEpCiC,OAAO,CAACjC,gBAJsG;QAIpFI,QAAQ,EAAE6B,OAAO,CAAC7B,QAAR,KAAqB8C,SAArB,GACpC,KAAK9C,QAD+B,GAEpC6B,OAAO,CAAC7B;MANsG,CAJ1F,CAArB,CAAT;IAWH,CAZ8D,CAH9D,CADuB,CAA5B,GAgBY,IAlBP,CAAT;EAmBH;;AArF0B,CAAD,CAA9B"},"metadata":{},"sourceType":"module"}