{"ast":null,"code":"import { h, ref, defineComponent, inject, computed } from 'vue';\nimport { VirtualList } from 'vueuc';\nimport NCascaderOption from './CascaderOption';\nimport { NScrollbar } from '../../_internal';\nimport { cascaderInjectionKey } from './interface';\nimport { depx } from 'seemly';\nexport default defineComponent({\n  name: 'CascaderSubmenu',\n  props: {\n    depth: {\n      type: Number,\n      required: true\n    },\n    tmNodes: {\n      type: Array,\n      required: true\n    }\n  },\n\n  setup() {\n    const {\n      virtualScrollRef,\n      mergedClsPrefixRef,\n      mergedThemeRef,\n      optionHeightRef // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n\n    } = inject(cascaderInjectionKey);\n    const scrollbarInstRef = ref(null);\n    const vlInstRef = ref(null);\n    const inst = {\n      scroll(index, elSize) {\n        var _a, _b;\n\n        if (virtualScrollRef.value) {\n          (_a = vlInstRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({\n            index\n          });\n        } else {\n          (_b = scrollbarInstRef.value) === null || _b === void 0 ? void 0 : _b.scrollTo({\n            index,\n            elSize\n          });\n        }\n      }\n\n    };\n    return Object.assign({\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedTheme: mergedThemeRef,\n      scrollbarInstRef,\n      vlInstRef,\n      virtualScroll: virtualScrollRef,\n      itemSize: computed(() => depx(optionHeightRef.value)),\n      handleVlScroll: () => {\n        var _a;\n\n        (_a = scrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n      },\n      getVlContainer: () => {\n        var _a;\n\n        return (_a = vlInstRef.value) === null || _a === void 0 ? void 0 : _a.listElRef;\n      },\n      getVlContent: () => {\n        var _a;\n\n        return (_a = vlInstRef.value) === null || _a === void 0 ? void 0 : _a.itemsElRef;\n      }\n    }, inst);\n  },\n\n  render() {\n    const {\n      mergedClsPrefix,\n      mergedTheme,\n      virtualScroll\n    } = this;\n    return h(\"div\", {\n      class: [virtualScroll && `${mergedClsPrefix}-cascader-submenu--virtual`, `${mergedClsPrefix}-cascader-submenu`]\n    }, h(NScrollbar, {\n      ref: \"scrollbarInstRef\",\n      theme: mergedTheme.peers.Scrollbar,\n      themeOverrides: mergedTheme.peerOverrides.Scrollbar,\n      container: virtualScroll ? this.getVlContainer : undefined,\n      content: virtualScroll ? this.getVlContent : undefined\n    }, {\n      default: () => virtualScroll ? h(VirtualList, {\n        items: this.tmNodes,\n        itemSize: this.itemSize,\n        onScroll: this.handleVlScroll,\n        showScrollbar: false,\n        ref: \"vlInstRef\"\n      }, {\n        default: ({\n          item: tmNode\n        }) => h(NCascaderOption, {\n          key: tmNode.key,\n          tmNode: tmNode\n        })\n      }) : this.tmNodes.map(tmNode => h(NCascaderOption, {\n        key: tmNode.key,\n        tmNode: tmNode\n      }))\n    }));\n  }\n\n});","map":{"version":3,"names":["h","ref","defineComponent","inject","computed","VirtualList","NCascaderOption","NScrollbar","cascaderInjectionKey","depx","name","props","depth","type","Number","required","tmNodes","Array","setup","virtualScrollRef","mergedClsPrefixRef","mergedThemeRef","optionHeightRef","scrollbarInstRef","vlInstRef","inst","scroll","index","elSize","_a","_b","value","scrollTo","Object","assign","mergedClsPrefix","mergedTheme","virtualScroll","itemSize","handleVlScroll","sync","getVlContainer","listElRef","getVlContent","itemsElRef","render","class","theme","peers","Scrollbar","themeOverrides","peerOverrides","container","undefined","content","default","items","onScroll","showScrollbar","item","tmNode","key","map"],"sources":["D:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/cascader/src/CascaderSubmenu.js"],"sourcesContent":["import { h, ref, defineComponent, inject, computed } from 'vue';\nimport { VirtualList } from 'vueuc';\nimport NCascaderOption from './CascaderOption';\nimport { NScrollbar } from '../../_internal';\nimport { cascaderInjectionKey } from './interface';\nimport { depx } from 'seemly';\nexport default defineComponent({\n    name: 'CascaderSubmenu',\n    props: {\n        depth: {\n            type: Number,\n            required: true\n        },\n        tmNodes: {\n            type: Array,\n            required: true\n        }\n    },\n    setup() {\n        const { virtualScrollRef, mergedClsPrefixRef, mergedThemeRef, optionHeightRef\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n         } = inject(cascaderInjectionKey);\n        const scrollbarInstRef = ref(null);\n        const vlInstRef = ref(null);\n        const inst = {\n            scroll(index, elSize) {\n                var _a, _b;\n                if (virtualScrollRef.value) {\n                    (_a = vlInstRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({\n                        index\n                    });\n                }\n                else {\n                    (_b = scrollbarInstRef.value) === null || _b === void 0 ? void 0 : _b.scrollTo({\n                        index,\n                        elSize\n                    });\n                }\n            }\n        };\n        return Object.assign({ mergedClsPrefix: mergedClsPrefixRef, mergedTheme: mergedThemeRef, scrollbarInstRef,\n            vlInstRef, virtualScroll: virtualScrollRef, itemSize: computed(() => depx(optionHeightRef.value)), handleVlScroll: () => {\n                var _a;\n                (_a = scrollbarInstRef.value) === null || _a === void 0 ? void 0 : _a.sync();\n            }, getVlContainer: () => {\n                var _a;\n                return (_a = vlInstRef.value) === null || _a === void 0 ? void 0 : _a.listElRef;\n            }, getVlContent: () => {\n                var _a;\n                return (_a = vlInstRef.value) === null || _a === void 0 ? void 0 : _a.itemsElRef;\n            } }, inst);\n    },\n    render() {\n        const { mergedClsPrefix, mergedTheme, virtualScroll } = this;\n        return (h(\"div\", { class: [\n                virtualScroll && `${mergedClsPrefix}-cascader-submenu--virtual`,\n                `${mergedClsPrefix}-cascader-submenu`\n            ] },\n            h(NScrollbar, { ref: \"scrollbarInstRef\", theme: mergedTheme.peers.Scrollbar, themeOverrides: mergedTheme.peerOverrides.Scrollbar, container: virtualScroll ? this.getVlContainer : undefined, content: virtualScroll ? this.getVlContent : undefined }, {\n                default: () => virtualScroll ? (h(VirtualList, { items: this.tmNodes, itemSize: this.itemSize, onScroll: this.handleVlScroll, showScrollbar: false, ref: \"vlInstRef\" }, {\n                    default: ({ item: tmNode }) => (h(NCascaderOption, { key: tmNode.key, tmNode: tmNode }))\n                })) : (this.tmNodes.map((tmNode) => (h(NCascaderOption, { key: tmNode.key, tmNode: tmNode }))))\n            })));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}