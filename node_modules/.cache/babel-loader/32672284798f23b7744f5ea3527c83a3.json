{"ast":null,"code":"import { computed, inject, provide, onBeforeUnmount } from 'vue';\nimport { createInjectionKey } from '../_utils';\nexport const formItemInjectionKey = createInjectionKey('n-form-item');\nexport default function useFormItem(props, {\n  defaultSize = 'medium',\n  mergedSize,\n  mergedDisabled\n} = {}) {\n  const NFormItem = inject(formItemInjectionKey, null);\n  provide(formItemInjectionKey, null);\n  const mergedSizeRef = computed(mergedSize ? () => mergedSize(NFormItem) : () => {\n    const {\n      size\n    } = props;\n    if (size) return size;\n\n    if (NFormItem) {\n      const {\n        mergedSize\n      } = NFormItem;\n\n      if (mergedSize.value !== undefined) {\n        return mergedSize.value;\n      }\n    }\n\n    return defaultSize;\n  });\n  const mergedDisabledRef = computed(mergedDisabled ? () => mergedDisabled(NFormItem) : () => {\n    const {\n      disabled\n    } = props;\n\n    if (disabled !== undefined) {\n      return disabled;\n    }\n\n    if (NFormItem) {\n      return NFormItem.disabled.value;\n    }\n\n    return false;\n  });\n  const mergedStatusRef = computed(() => {\n    const {\n      status\n    } = props;\n    if (status) return status;\n    return NFormItem === null || NFormItem === void 0 ? void 0 : NFormItem.mergedValidationStatus.value;\n  });\n  onBeforeUnmount(() => {\n    if (NFormItem) {\n      NFormItem.restoreValidation();\n    }\n  });\n  return {\n    mergedSizeRef,\n    mergedDisabledRef,\n    mergedStatusRef,\n\n    nTriggerFormBlur() {\n      if (NFormItem) {\n        NFormItem.handleContentBlur();\n      }\n    },\n\n    nTriggerFormChange() {\n      if (NFormItem) {\n        NFormItem.handleContentChange();\n      }\n    },\n\n    nTriggerFormFocus() {\n      if (NFormItem) {\n        NFormItem.handleContentFocus();\n      }\n    },\n\n    nTriggerFormInput() {\n      if (NFormItem) {\n        NFormItem.handleContentInput();\n      }\n    }\n\n  };\n}","map":{"version":3,"names":["computed","inject","provide","onBeforeUnmount","createInjectionKey","formItemInjectionKey","useFormItem","props","defaultSize","mergedSize","mergedDisabled","NFormItem","mergedSizeRef","size","value","undefined","mergedDisabledRef","disabled","mergedStatusRef","status","mergedValidationStatus","restoreValidation","nTriggerFormBlur","handleContentBlur","nTriggerFormChange","handleContentChange","nTriggerFormFocus","handleContentFocus","nTriggerFormInput","handleContentInput"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/_mixins/use-form-item.js"],"sourcesContent":["import { computed, inject, provide, onBeforeUnmount } from 'vue';\nimport { createInjectionKey } from '../_utils';\nexport const formItemInjectionKey = createInjectionKey('n-form-item');\nexport default function useFormItem(props, { defaultSize = 'medium', mergedSize, mergedDisabled } = {}) {\n    const NFormItem = inject(formItemInjectionKey, null);\n    provide(formItemInjectionKey, null);\n    const mergedSizeRef = computed(mergedSize\n        ? () => mergedSize(NFormItem)\n        : () => {\n            const { size } = props;\n            if (size)\n                return size;\n            if (NFormItem) {\n                const { mergedSize } = NFormItem;\n                if (mergedSize.value !== undefined) {\n                    return mergedSize.value;\n                }\n            }\n            return defaultSize;\n        });\n    const mergedDisabledRef = computed(mergedDisabled\n        ? () => mergedDisabled(NFormItem)\n        : () => {\n            const { disabled } = props;\n            if (disabled !== undefined) {\n                return disabled;\n            }\n            if (NFormItem) {\n                return NFormItem.disabled.value;\n            }\n            return false;\n        });\n    const mergedStatusRef = computed(() => {\n        const { status } = props;\n        if (status)\n            return status;\n        return NFormItem === null || NFormItem === void 0 ? void 0 : NFormItem.mergedValidationStatus.value;\n    });\n    onBeforeUnmount(() => {\n        if (NFormItem) {\n            NFormItem.restoreValidation();\n        }\n    });\n    return {\n        mergedSizeRef,\n        mergedDisabledRef,\n        mergedStatusRef,\n        nTriggerFormBlur() {\n            if (NFormItem) {\n                NFormItem.handleContentBlur();\n            }\n        },\n        nTriggerFormChange() {\n            if (NFormItem) {\n                NFormItem.handleContentChange();\n            }\n        },\n        nTriggerFormFocus() {\n            if (NFormItem) {\n                NFormItem.handleContentFocus();\n            }\n        },\n        nTriggerFormInput() {\n            if (NFormItem) {\n                NFormItem.handleContentInput();\n            }\n        }\n    };\n}\n"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,MAAnB,EAA2BC,OAA3B,EAAoCC,eAApC,QAA2D,KAA3D;AACA,SAASC,kBAAT,QAAmC,WAAnC;AACA,OAAO,MAAMC,oBAAoB,GAAGD,kBAAkB,CAAC,aAAD,CAA/C;AACP,eAAe,SAASE,WAAT,CAAqBC,KAArB,EAA4B;EAAEC,WAAW,GAAG,QAAhB;EAA0BC,UAA1B;EAAsCC;AAAtC,IAAyD,EAArF,EAAyF;EACpG,MAAMC,SAAS,GAAGV,MAAM,CAACI,oBAAD,EAAuB,IAAvB,CAAxB;EACAH,OAAO,CAACG,oBAAD,EAAuB,IAAvB,CAAP;EACA,MAAMO,aAAa,GAAGZ,QAAQ,CAACS,UAAU,GACnC,MAAMA,UAAU,CAACE,SAAD,CADmB,GAEnC,MAAM;IACJ,MAAM;MAAEE;IAAF,IAAWN,KAAjB;IACA,IAAIM,IAAJ,EACI,OAAOA,IAAP;;IACJ,IAAIF,SAAJ,EAAe;MACX,MAAM;QAAEF;MAAF,IAAiBE,SAAvB;;MACA,IAAIF,UAAU,CAACK,KAAX,KAAqBC,SAAzB,EAAoC;QAChC,OAAON,UAAU,CAACK,KAAlB;MACH;IACJ;;IACD,OAAON,WAAP;EACH,CAbyB,CAA9B;EAcA,MAAMQ,iBAAiB,GAAGhB,QAAQ,CAACU,cAAc,GAC3C,MAAMA,cAAc,CAACC,SAAD,CADuB,GAE3C,MAAM;IACJ,MAAM;MAAEM;IAAF,IAAeV,KAArB;;IACA,IAAIU,QAAQ,KAAKF,SAAjB,EAA4B;MACxB,OAAOE,QAAP;IACH;;IACD,IAAIN,SAAJ,EAAe;MACX,OAAOA,SAAS,CAACM,QAAV,CAAmBH,KAA1B;IACH;;IACD,OAAO,KAAP;EACH,CAX6B,CAAlC;EAYA,MAAMI,eAAe,GAAGlB,QAAQ,CAAC,MAAM;IACnC,MAAM;MAAEmB;IAAF,IAAaZ,KAAnB;IACA,IAAIY,MAAJ,EACI,OAAOA,MAAP;IACJ,OAAOR,SAAS,KAAK,IAAd,IAAsBA,SAAS,KAAK,KAAK,CAAzC,GAA6C,KAAK,CAAlD,GAAsDA,SAAS,CAACS,sBAAV,CAAiCN,KAA9F;EACH,CAL+B,CAAhC;EAMAX,eAAe,CAAC,MAAM;IAClB,IAAIQ,SAAJ,EAAe;MACXA,SAAS,CAACU,iBAAV;IACH;EACJ,CAJc,CAAf;EAKA,OAAO;IACHT,aADG;IAEHI,iBAFG;IAGHE,eAHG;;IAIHI,gBAAgB,GAAG;MACf,IAAIX,SAAJ,EAAe;QACXA,SAAS,CAACY,iBAAV;MACH;IACJ,CARE;;IASHC,kBAAkB,GAAG;MACjB,IAAIb,SAAJ,EAAe;QACXA,SAAS,CAACc,mBAAV;MACH;IACJ,CAbE;;IAcHC,iBAAiB,GAAG;MAChB,IAAIf,SAAJ,EAAe;QACXA,SAAS,CAACgB,kBAAV;MACH;IACJ,CAlBE;;IAmBHC,iBAAiB,GAAG;MAChB,IAAIjB,SAAJ,EAAe;QACXA,SAAS,CAACkB,kBAAV;MACH;IACJ;;EAvBE,CAAP;AAyBH"},"metadata":{},"sourceType":"module"}