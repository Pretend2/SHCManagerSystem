{"ast":null,"code":"import { on, off } from 'evtd';\nconst ctxKey = '@@coContext';\nconst clickoutside = {\n  mounted(el, {\n    value,\n    modifiers\n  }) {\n    el[ctxKey] = {\n      handler: undefined\n    };\n\n    if (typeof value === 'function') {\n      el[ctxKey].handler = value;\n      on('clickoutside', el, value, {\n        capture: modifiers.capture\n      });\n    }\n  },\n\n  updated(el, {\n    value,\n    modifiers\n  }) {\n    const ctx = el[ctxKey];\n\n    if (typeof value === 'function') {\n      if (ctx.handler) {\n        if (ctx.handler !== value) {\n          off('clickoutside', el, ctx.handler, {\n            capture: modifiers.capture\n          });\n          ctx.handler = value;\n          on('clickoutside', el, value, {\n            capture: modifiers.capture\n          });\n        }\n      } else {\n        el[ctxKey].handler = value;\n        on('clickoutside', el, value, {\n          capture: modifiers.capture\n        });\n      }\n    } else {\n      if (ctx.handler) {\n        off('clickoutside', el, ctx.handler, {\n          capture: modifiers.capture\n        });\n        ctx.handler = undefined;\n      }\n    }\n  },\n\n  unmounted(el, {\n    modifiers\n  }) {\n    const {\n      handler\n    } = el[ctxKey];\n\n    if (handler) {\n      off('clickoutside', el, handler, {\n        capture: modifiers.capture\n      });\n    }\n\n    el[ctxKey].handler = undefined;\n  }\n\n};\nexport default clickoutside;","map":{"version":3,"names":["on","off","ctxKey","clickoutside","mounted","el","value","modifiers","handler","undefined","capture","updated","ctx","unmounted"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/vdirs/es/clickoutside.js"],"sourcesContent":["import { on, off } from 'evtd';\nconst ctxKey = '@@coContext';\nconst clickoutside = {\n    mounted(el, { value, modifiers }) {\n        el[ctxKey] = {\n            handler: undefined\n        };\n        if (typeof value === 'function') {\n            el[ctxKey].handler = value;\n            on('clickoutside', el, value, {\n                capture: modifiers.capture\n            });\n        }\n    },\n    updated(el, { value, modifiers }) {\n        const ctx = el[ctxKey];\n        if (typeof value === 'function') {\n            if (ctx.handler) {\n                if (ctx.handler !== value) {\n                    off('clickoutside', el, ctx.handler, {\n                        capture: modifiers.capture\n                    });\n                    ctx.handler = value;\n                    on('clickoutside', el, value, {\n                        capture: modifiers.capture\n                    });\n                }\n            }\n            else {\n                el[ctxKey].handler = value;\n                on('clickoutside', el, value, {\n                    capture: modifiers.capture\n                });\n            }\n        }\n        else {\n            if (ctx.handler) {\n                off('clickoutside', el, ctx.handler, {\n                    capture: modifiers.capture\n                });\n                ctx.handler = undefined;\n            }\n        }\n    },\n    unmounted(el, { modifiers }) {\n        const { handler } = el[ctxKey];\n        if (handler) {\n            off('clickoutside', el, handler, {\n                capture: modifiers.capture\n            });\n        }\n        el[ctxKey].handler = undefined;\n    }\n};\nexport default clickoutside;\n"],"mappings":"AAAA,SAASA,EAAT,EAAaC,GAAb,QAAwB,MAAxB;AACA,MAAMC,MAAM,GAAG,aAAf;AACA,MAAMC,YAAY,GAAG;EACjBC,OAAO,CAACC,EAAD,EAAK;IAAEC,KAAF;IAASC;EAAT,CAAL,EAA2B;IAC9BF,EAAE,CAACH,MAAD,CAAF,GAAa;MACTM,OAAO,EAAEC;IADA,CAAb;;IAGA,IAAI,OAAOH,KAAP,KAAiB,UAArB,EAAiC;MAC7BD,EAAE,CAACH,MAAD,CAAF,CAAWM,OAAX,GAAqBF,KAArB;MACAN,EAAE,CAAC,cAAD,EAAiBK,EAAjB,EAAqBC,KAArB,EAA4B;QAC1BI,OAAO,EAAEH,SAAS,CAACG;MADO,CAA5B,CAAF;IAGH;EACJ,CAXgB;;EAYjBC,OAAO,CAACN,EAAD,EAAK;IAAEC,KAAF;IAASC;EAAT,CAAL,EAA2B;IAC9B,MAAMK,GAAG,GAAGP,EAAE,CAACH,MAAD,CAAd;;IACA,IAAI,OAAOI,KAAP,KAAiB,UAArB,EAAiC;MAC7B,IAAIM,GAAG,CAACJ,OAAR,EAAiB;QACb,IAAII,GAAG,CAACJ,OAAJ,KAAgBF,KAApB,EAA2B;UACvBL,GAAG,CAAC,cAAD,EAAiBI,EAAjB,EAAqBO,GAAG,CAACJ,OAAzB,EAAkC;YACjCE,OAAO,EAAEH,SAAS,CAACG;UADc,CAAlC,CAAH;UAGAE,GAAG,CAACJ,OAAJ,GAAcF,KAAd;UACAN,EAAE,CAAC,cAAD,EAAiBK,EAAjB,EAAqBC,KAArB,EAA4B;YAC1BI,OAAO,EAAEH,SAAS,CAACG;UADO,CAA5B,CAAF;QAGH;MACJ,CAVD,MAWK;QACDL,EAAE,CAACH,MAAD,CAAF,CAAWM,OAAX,GAAqBF,KAArB;QACAN,EAAE,CAAC,cAAD,EAAiBK,EAAjB,EAAqBC,KAArB,EAA4B;UAC1BI,OAAO,EAAEH,SAAS,CAACG;QADO,CAA5B,CAAF;MAGH;IACJ,CAlBD,MAmBK;MACD,IAAIE,GAAG,CAACJ,OAAR,EAAiB;QACbP,GAAG,CAAC,cAAD,EAAiBI,EAAjB,EAAqBO,GAAG,CAACJ,OAAzB,EAAkC;UACjCE,OAAO,EAAEH,SAAS,CAACG;QADc,CAAlC,CAAH;QAGAE,GAAG,CAACJ,OAAJ,GAAcC,SAAd;MACH;IACJ;EACJ,CAzCgB;;EA0CjBI,SAAS,CAACR,EAAD,EAAK;IAAEE;EAAF,CAAL,EAAoB;IACzB,MAAM;MAAEC;IAAF,IAAcH,EAAE,CAACH,MAAD,CAAtB;;IACA,IAAIM,OAAJ,EAAa;MACTP,GAAG,CAAC,cAAD,EAAiBI,EAAjB,EAAqBG,OAArB,EAA8B;QAC7BE,OAAO,EAAEH,SAAS,CAACG;MADU,CAA9B,CAAH;IAGH;;IACDL,EAAE,CAACH,MAAD,CAAF,CAAWM,OAAX,GAAqBC,SAArB;EACH;;AAlDgB,CAArB;AAoDA,eAAeN,YAAf"},"metadata":{},"sourceType":"module"}