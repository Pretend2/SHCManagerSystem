{"ast":null,"code":"import { h, defineComponent, ref, onMounted } from 'vue';\nimport { NFadeInExpandTransition } from '../../_internal';\nimport NMessage from './Message';\nimport { messageProps } from './message-props';\nexport default defineComponent({\n  name: 'MessageEnvironment',\n  props: Object.assign(Object.assign({}, messageProps), {\n    duration: {\n      type: Number,\n      default: 3000\n    },\n    onAfterLeave: Function,\n    onLeave: Function,\n    internalKey: {\n      type: String,\n      required: true\n    },\n    // private\n    onInternalAfterLeave: Function,\n    // deprecated\n    onHide: Function,\n    onAfterHide: Function\n  }),\n\n  setup(props) {\n    let timerId = null;\n    const showRef = ref(true);\n    onMounted(() => {\n      setHideTimeout();\n    });\n\n    function setHideTimeout() {\n      const {\n        duration\n      } = props;\n\n      if (duration) {\n        timerId = window.setTimeout(hide, duration);\n      }\n    }\n\n    function handleMouseenter(e) {\n      if (e.currentTarget !== e.target) return;\n\n      if (timerId !== null) {\n        window.clearTimeout(timerId);\n        timerId = null;\n      }\n    }\n\n    function handleMouseleave(e) {\n      if (e.currentTarget !== e.target) return;\n      setHideTimeout();\n    }\n\n    function hide() {\n      const {\n        onHide\n      } = props;\n      showRef.value = false;\n\n      if (timerId) {\n        window.clearTimeout(timerId);\n        timerId = null;\n      } // deprecated\n\n\n      if (onHide) onHide();\n    }\n\n    function handleClose() {\n      const {\n        onClose\n      } = props;\n      if (onClose) onClose();\n      hide();\n    }\n\n    function handleAfterLeave() {\n      const {\n        onAfterLeave,\n        onInternalAfterLeave,\n        onAfterHide,\n        internalKey\n      } = props;\n      if (onAfterLeave) onAfterLeave();\n      if (onInternalAfterLeave) onInternalAfterLeave(internalKey); // deprecated\n\n      if (onAfterHide) onAfterHide();\n    } // deprecated\n\n\n    function deactivate() {\n      hide();\n    }\n\n    return {\n      show: showRef,\n      hide,\n      handleClose,\n      handleAfterLeave,\n      handleMouseleave,\n      handleMouseenter,\n      deactivate\n    };\n  },\n\n  render() {\n    return h(NFadeInExpandTransition, {\n      appear: true,\n      onAfterLeave: this.handleAfterLeave,\n      onLeave: this.onLeave\n    }, {\n      default: () => [this.show ? h(NMessage, {\n        content: this.content,\n        type: this.type,\n        icon: this.icon,\n        showIcon: this.showIcon,\n        closable: this.closable,\n        onClose: this.handleClose,\n        onMouseenter: this.keepAliveOnHover ? this.handleMouseenter : undefined,\n        onMouseleave: this.keepAliveOnHover ? this.handleMouseleave : undefined\n      }) : null]\n    });\n  }\n\n});","map":{"version":3,"names":["h","defineComponent","ref","onMounted","NFadeInExpandTransition","NMessage","messageProps","name","props","Object","assign","duration","type","Number","default","onAfterLeave","Function","onLeave","internalKey","String","required","onInternalAfterLeave","onHide","onAfterHide","setup","timerId","showRef","setHideTimeout","window","setTimeout","hide","handleMouseenter","e","currentTarget","target","clearTimeout","handleMouseleave","value","handleClose","onClose","handleAfterLeave","deactivate","show","render","appear","content","icon","showIcon","closable","onMouseenter","keepAliveOnHover","undefined","onMouseleave"],"sources":["D:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/message/src/MessageEnvironment.js"],"sourcesContent":["import { h, defineComponent, ref, onMounted } from 'vue';\nimport { NFadeInExpandTransition } from '../../_internal';\nimport NMessage from './Message';\nimport { messageProps } from './message-props';\nexport default defineComponent({\n    name: 'MessageEnvironment',\n    props: Object.assign(Object.assign({}, messageProps), { duration: {\n            type: Number,\n            default: 3000\n        }, onAfterLeave: Function, onLeave: Function, internalKey: {\n            type: String,\n            required: true\n        }, \n        // private\n        onInternalAfterLeave: Function, \n        // deprecated\n        onHide: Function, onAfterHide: Function }),\n    setup(props) {\n        let timerId = null;\n        const showRef = ref(true);\n        onMounted(() => {\n            setHideTimeout();\n        });\n        function setHideTimeout() {\n            const { duration } = props;\n            if (duration) {\n                timerId = window.setTimeout(hide, duration);\n            }\n        }\n        function handleMouseenter(e) {\n            if (e.currentTarget !== e.target)\n                return;\n            if (timerId !== null) {\n                window.clearTimeout(timerId);\n                timerId = null;\n            }\n        }\n        function handleMouseleave(e) {\n            if (e.currentTarget !== e.target)\n                return;\n            setHideTimeout();\n        }\n        function hide() {\n            const { onHide } = props;\n            showRef.value = false;\n            if (timerId) {\n                window.clearTimeout(timerId);\n                timerId = null;\n            }\n            // deprecated\n            if (onHide)\n                onHide();\n        }\n        function handleClose() {\n            const { onClose } = props;\n            if (onClose)\n                onClose();\n            hide();\n        }\n        function handleAfterLeave() {\n            const { onAfterLeave, onInternalAfterLeave, onAfterHide, internalKey } = props;\n            if (onAfterLeave)\n                onAfterLeave();\n            if (onInternalAfterLeave)\n                onInternalAfterLeave(internalKey);\n            // deprecated\n            if (onAfterHide)\n                onAfterHide();\n        }\n        // deprecated\n        function deactivate() {\n            hide();\n        }\n        return {\n            show: showRef,\n            hide,\n            handleClose,\n            handleAfterLeave,\n            handleMouseleave,\n            handleMouseenter,\n            deactivate\n        };\n    },\n    render() {\n        return (h(NFadeInExpandTransition, { appear: true, onAfterLeave: this.handleAfterLeave, onLeave: this.onLeave }, {\n            default: () => [\n                this.show ? (h(NMessage, { content: this.content, type: this.type, icon: this.icon, showIcon: this.showIcon, closable: this.closable, onClose: this.handleClose, onMouseenter: this.keepAliveOnHover ? this.handleMouseenter : undefined, onMouseleave: this.keepAliveOnHover ? this.handleMouseleave : undefined })) : null\n            ]\n        }));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}