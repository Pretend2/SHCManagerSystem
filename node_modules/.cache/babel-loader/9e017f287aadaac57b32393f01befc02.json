{"ast":null,"code":"import { useMemo } from 'vooks';\nimport { on, off } from 'evtd';\nimport { inject, onBeforeUnmount, onMounted, ref } from 'vue';\nimport { internalSelectionMenuBodyInjectionKey } from '../../_internal/select-menu/src/interface';\nimport { modalBodyInjectionKey } from '../../modal/src/interface';\nimport { drawerBodyInjectionKey } from '../../drawer/src/interface';\nimport { popoverBodyInjectionKey } from '../../popover/src/interface';\nconst teleportDisabled = '__disabled__';\n\nfunction useAdjustedTo(props) {\n  const modal = inject(modalBodyInjectionKey, null);\n  const drawer = inject(drawerBodyInjectionKey, null);\n  const popover = inject(popoverBodyInjectionKey, null);\n  const selectMenu = inject(internalSelectionMenuBodyInjectionKey, null);\n  const fullscreenElementRef = ref();\n\n  if (typeof document !== 'undefined') {\n    fullscreenElementRef.value = document.fullscreenElement;\n\n    const handleFullscreenChange = () => {\n      fullscreenElementRef.value = document.fullscreenElement;\n    };\n\n    onMounted(() => {\n      on('fullscreenchange', document, handleFullscreenChange);\n    });\n    onBeforeUnmount(() => {\n      off('fullscreenchange', document, handleFullscreenChange);\n    });\n  }\n\n  return useMemo(() => {\n    var _a;\n\n    const {\n      to\n    } = props;\n\n    if (to !== undefined) {\n      if (to === false) return teleportDisabled;\n      if (to === true) return fullscreenElementRef.value || 'body';\n      return to;\n    }\n\n    if (modal === null || modal === void 0 ? void 0 : modal.value) {\n      return (_a = modal.value.$el) !== null && _a !== void 0 ? _a : modal.value;\n    }\n\n    if (drawer === null || drawer === void 0 ? void 0 : drawer.value) return drawer.value;\n    if (popover === null || popover === void 0 ? void 0 : popover.value) return popover.value;\n    if (selectMenu === null || selectMenu === void 0 ? void 0 : selectMenu.value) return selectMenu.value;\n    return to !== null && to !== void 0 ? to : fullscreenElementRef.value || 'body';\n  });\n} // teleport disabled key\n\n\nuseAdjustedTo.tdkey = teleportDisabled;\nuseAdjustedTo.propTo = {\n  type: [String, Object, Boolean],\n  default: undefined\n};\nexport { useAdjustedTo };","map":{"version":3,"names":["useMemo","on","off","inject","onBeforeUnmount","onMounted","ref","internalSelectionMenuBodyInjectionKey","modalBodyInjectionKey","drawerBodyInjectionKey","popoverBodyInjectionKey","teleportDisabled","useAdjustedTo","props","modal","drawer","popover","selectMenu","fullscreenElementRef","document","value","fullscreenElement","handleFullscreenChange","_a","to","undefined","$el","tdkey","propTo","type","String","Object","Boolean","default"],"sources":["D:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/_utils/composable/use-adjusted-to.js"],"sourcesContent":["import { useMemo } from 'vooks';\nimport { on, off } from 'evtd';\nimport { inject, onBeforeUnmount, onMounted, ref } from 'vue';\nimport { internalSelectionMenuBodyInjectionKey } from '../../_internal/select-menu/src/interface';\nimport { modalBodyInjectionKey } from '../../modal/src/interface';\nimport { drawerBodyInjectionKey } from '../../drawer/src/interface';\nimport { popoverBodyInjectionKey } from '../../popover/src/interface';\nconst teleportDisabled = '__disabled__';\nfunction useAdjustedTo(props) {\n    const modal = inject(modalBodyInjectionKey, null);\n    const drawer = inject(drawerBodyInjectionKey, null);\n    const popover = inject(popoverBodyInjectionKey, null);\n    const selectMenu = inject(internalSelectionMenuBodyInjectionKey, null);\n    const fullscreenElementRef = ref();\n    if (typeof document !== 'undefined') {\n        fullscreenElementRef.value = document.fullscreenElement;\n        const handleFullscreenChange = () => {\n            fullscreenElementRef.value = document.fullscreenElement;\n        };\n        onMounted(() => {\n            on('fullscreenchange', document, handleFullscreenChange);\n        });\n        onBeforeUnmount(() => {\n            off('fullscreenchange', document, handleFullscreenChange);\n        });\n    }\n    return useMemo(() => {\n        var _a;\n        const { to } = props;\n        if (to !== undefined) {\n            if (to === false)\n                return teleportDisabled;\n            if (to === true)\n                return fullscreenElementRef.value || 'body';\n            return to;\n        }\n        if (modal === null || modal === void 0 ? void 0 : modal.value) {\n            return (_a = modal.value.$el) !== null && _a !== void 0 ? _a : modal.value;\n        }\n        if (drawer === null || drawer === void 0 ? void 0 : drawer.value)\n            return drawer.value;\n        if (popover === null || popover === void 0 ? void 0 : popover.value)\n            return popover.value;\n        if (selectMenu === null || selectMenu === void 0 ? void 0 : selectMenu.value)\n            return selectMenu.value;\n        return to !== null && to !== void 0 ? to : (fullscreenElementRef.value || 'body');\n    });\n}\n// teleport disabled key\nuseAdjustedTo.tdkey = teleportDisabled;\nuseAdjustedTo.propTo = {\n    type: [String, Object, Boolean],\n    default: undefined\n};\nexport { useAdjustedTo };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}