{"ast":null,"code":"import { ref, inject } from 'vue';\nimport { useMessage } from 'naive-ui';\nimport QueryString from 'qs';\nimport axios from 'axios'; // 加载业主信息\n\nexport default (() => {\n  // 获取全局变量\n  const global = inject(\"global\"); // 业主加载\n\n  const ownerLoading = ref(false); // 当前页码\n\n  const ownerPageNo = ref(1); // 总页数\n\n  const ownerPages = ref(1); // 业主数据\n\n  const ownerData = ref([]);\n  /**\r\n   * 加载业主信息\r\n   */\n\n  const loadOwnerInfo = page => {\n    ownerLoading.value = true;\n    axios({\n      method: 'get',\n      url: global.api + '/getAllOwner',\n      params: {\n        page,\n        size: global.pageSize\n      }\n    }).then(res => {\n      // 设置业主数据\n      ownerData.value = res.data.list; // 设置当前页码\n\n      pageNo.value = res.data.pageNum; // 设置总页数\n\n      pages.value = res.data.pages;\n    }).catch(err => {\n      console.log(\"业主列表加载异常！\" + err);\n    }).finally(() => {\n      ownerLoading.value = false;\n    });\n  };\n\n  return {\n    ownerPageNo,\n    // 业主数据页码\n    ownerPages,\n    // 业主数据总页数\n    ownerData,\n    // 业主数据\n    ownerLoading,\n    // 业主加载\n    loadOwnerInfo // 加载业主信息\n\n  };\n});","map":{"version":3,"names":["ref","inject","useMessage","QueryString","axios","global","ownerLoading","ownerPageNo","ownerPages","ownerData","loadOwnerInfo","page","value","method","url","api","params","size","pageSize","then","res","data","list","pageNo","pageNum","pages","catch","err","console","log","finally"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/src/hook/real_estate/ownerInformation/loadOwnerHook.js"],"sourcesContent":["import { ref, inject } from 'vue'\r\nimport { useMessage } from 'naive-ui'\r\nimport QueryString from 'qs'\r\nimport axios from 'axios'\r\n\r\n// 加载业主信息\r\nexport default () => {\r\n    // 获取全局变量\r\n    const global = inject(\"global\")\r\n    // 业主加载\r\n    const ownerLoading = ref(false);\r\n\r\n    // 当前页码\r\n    const ownerPageNo = ref(1);\r\n    // 总页数\r\n    const ownerPages = ref(1);\r\n    // 业主数据\r\n    const ownerData = ref([])\r\n\r\n    /**\r\n     * 加载业主信息\r\n     */\r\n    const loadOwnerInfo = (page) => {\r\n        ownerLoading.value = true\r\n        axios({\r\n            method: 'get',\r\n            url: global.api + '/getAllOwner',\r\n            params: {\r\n                page,\r\n                size: global.pageSize\r\n            }\r\n        }).then(res => {\r\n            // 设置业主数据\r\n            ownerData.value = res.data.list\r\n            // 设置当前页码\r\n            pageNo.value = res.data.pageNum\r\n            // 设置总页数\r\n            pages.value = res.data.pages\r\n        }).catch(err => {\r\n            console.log(\"业主列表加载异常！\" + err);\r\n        }).finally(() => {\r\n            ownerLoading.value = false\r\n        })\r\n    }\r\n\r\n    return {\r\n        ownerPageNo, // 业主数据页码\r\n        ownerPages, // 业主数据总页数\r\n        ownerData, // 业主数据\r\n        ownerLoading, // 业主加载\r\n        loadOwnerInfo, // 加载业主信息\r\n    }\r\n}"],"mappings":"AAAA,SAASA,GAAT,EAAcC,MAAd,QAA4B,KAA5B;AACA,SAASC,UAAT,QAA2B,UAA3B;AACA,OAAOC,WAAP,MAAwB,IAAxB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CAEA;;AACA,gBAAe,MAAM;EACjB;EACA,MAAMC,MAAM,GAAGJ,MAAM,CAAC,QAAD,CAArB,CAFiB,CAGjB;;EACA,MAAMK,YAAY,GAAGN,GAAG,CAAC,KAAD,CAAxB,CAJiB,CAMjB;;EACA,MAAMO,WAAW,GAAGP,GAAG,CAAC,CAAD,CAAvB,CAPiB,CAQjB;;EACA,MAAMQ,UAAU,GAAGR,GAAG,CAAC,CAAD,CAAtB,CATiB,CAUjB;;EACA,MAAMS,SAAS,GAAGT,GAAG,CAAC,EAAD,CAArB;EAEA;AACJ;AACA;;EACI,MAAMU,aAAa,GAAIC,IAAD,IAAU;IAC5BL,YAAY,CAACM,KAAb,GAAqB,IAArB;IACAR,KAAK,CAAC;MACFS,MAAM,EAAE,KADN;MAEFC,GAAG,EAAET,MAAM,CAACU,GAAP,GAAa,cAFhB;MAGFC,MAAM,EAAE;QACJL,IADI;QAEJM,IAAI,EAAEZ,MAAM,CAACa;MAFT;IAHN,CAAD,CAAL,CAOGC,IAPH,CAOQC,GAAG,IAAI;MACX;MACAX,SAAS,CAACG,KAAV,GAAkBQ,GAAG,CAACC,IAAJ,CAASC,IAA3B,CAFW,CAGX;;MACAC,MAAM,CAACX,KAAP,GAAeQ,GAAG,CAACC,IAAJ,CAASG,OAAxB,CAJW,CAKX;;MACAC,KAAK,CAACb,KAAN,GAAcQ,GAAG,CAACC,IAAJ,CAASI,KAAvB;IACH,CAdD,EAcGC,KAdH,CAcSC,GAAG,IAAI;MACZC,OAAO,CAACC,GAAR,CAAY,cAAcF,GAA1B;IACH,CAhBD,EAgBGG,OAhBH,CAgBW,MAAM;MACbxB,YAAY,CAACM,KAAb,GAAqB,KAArB;IACH,CAlBD;EAmBH,CArBD;;EAuBA,OAAO;IACHL,WADG;IACU;IACbC,UAFG;IAES;IACZC,SAHG;IAGQ;IACXH,YAJG;IAIW;IACdI,aALG,CAKY;;EALZ,CAAP;AAOH,CA9CD"},"metadata":{},"sourceType":"module"}