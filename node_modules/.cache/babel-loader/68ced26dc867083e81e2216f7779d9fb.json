{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { h, ref, computed, toRef, defineComponent, watch, Transition, withDirectives, vShow, watchEffect } from 'vue';\nimport { getPreciseEventTarget, happensIn } from 'seemly';\nimport { createTreeMate } from 'treemate';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { useIsMounted, useMergedState, useCompitable } from 'vooks';\nimport { clickoutside } from 'vdirs';\nimport { useTheme, useConfig, useLocale, useFormItem, useThemeClass } from '../../_mixins';\nimport { call, markEventEffectPerformed, useAdjustedTo, warnOnce } from '../../_utils';\nimport { NInternalSelectMenu, NInternalSelection } from '../../_internal';\nimport { selectLight } from '../styles';\nimport { createValOptMap, filterOptions, createTmOptions, patternMatched } from './utils';\nimport style from './styles/index.cssr';\nexport const selectProps = Object.assign(Object.assign({}, useTheme.props), {\n  to: useAdjustedTo.propTo,\n  bordered: {\n    type: Boolean,\n    default: undefined\n  },\n  clearable: Boolean,\n  clearFilterAfterSelect: {\n    type: Boolean,\n    default: true\n  },\n  options: {\n    type: Array,\n    default: () => []\n  },\n  defaultValue: {\n    type: [String, Number, Array],\n    default: null\n  },\n  value: [String, Number, Array],\n  placeholder: String,\n  menuProps: Object,\n  multiple: Boolean,\n  size: String,\n  filterable: Boolean,\n  disabled: {\n    type: Boolean,\n    default: undefined\n  },\n  remote: Boolean,\n  loading: Boolean,\n  filter: Function,\n  placement: {\n    type: String,\n    default: 'bottom-start'\n  },\n  widthMode: {\n    type: String,\n    default: 'trigger'\n  },\n  tag: Boolean,\n  onCreate: Function,\n  fallbackOption: {\n    type: [Function, Boolean],\n    default: undefined\n  },\n  show: {\n    type: Boolean,\n    default: undefined\n  },\n  showArrow: {\n    type: Boolean,\n    default: true\n  },\n  maxTagCount: [Number, String],\n  consistentMenuWidth: {\n    type: Boolean,\n    default: true\n  },\n  virtualScroll: {\n    type: Boolean,\n    default: true\n  },\n  labelField: {\n    type: String,\n    default: 'label'\n  },\n  valueField: {\n    type: String,\n    default: 'value'\n  },\n  childrenField: {\n    type: String,\n    default: 'children'\n  },\n  renderLabel: Function,\n  renderOption: Function,\n  renderTag: Function,\n  'onUpdate:value': [Function, Array],\n  inputProps: Object,\n  nodeProps: Function,\n  // for jsx\n  onUpdateValue: [Function, Array],\n  onBlur: [Function, Array],\n  onClear: [Function, Array],\n  onFocus: [Function, Array],\n  onScroll: [Function, Array],\n  onSearch: [Function, Array],\n  onUpdateShow: [Function, Array],\n  'onUpdate:show': [Function, Array],\n  displayDirective: {\n    type: String,\n    default: 'show'\n  },\n  resetMenuOnOptionsChange: {\n    type: Boolean,\n    default: true\n  },\n  status: String,\n  internalShowCheckmark: {\n    type: Boolean,\n    default: true\n  },\n\n  /** deprecated */\n  onChange: [Function, Array],\n  items: Array\n});\nexport default defineComponent({\n  name: 'Select',\n  props: selectProps,\n\n  setup(props) {\n    if (process.env.NODE_ENV !== 'production') {\n      watchEffect(() => {\n        if (props.items !== undefined) {\n          warnOnce('select', '`items` is deprecated, please use `options` instead.');\n        }\n\n        if (props.onChange !== undefined) {\n          warnOnce('select', '`on-change` is deprecated, please use `on-update:value` instead.');\n        }\n      });\n    }\n\n    const {\n      mergedClsPrefixRef,\n      mergedBorderedRef,\n      namespaceRef,\n      inlineThemeDisabled\n    } = useConfig(props);\n    const themeRef = useTheme('Select', '-select', style, selectLight, props, mergedClsPrefixRef);\n    const uncontrolledValueRef = ref(props.defaultValue);\n    const controlledValueRef = toRef(props, 'value');\n    const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n    const focusedRef = ref(false);\n    const patternRef = ref('');\n    const treeMateRef = computed(() => {\n      const {\n        valueField,\n        childrenField\n      } = props;\n      const options = createTmOptions(valueField, childrenField);\n      return createTreeMate(filteredOptionsRef.value, options);\n    });\n    const valOptMapRef = computed(() => createValOptMap(localOptionsRef.value, props.valueField, props.childrenField));\n    const uncontrolledShowRef = ref(false);\n    const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n    const triggerRef = ref(null);\n    const followerRef = ref(null);\n    const menuRef = ref(null);\n    const {\n      localeRef\n    } = useLocale('Select');\n    const localizedPlaceholderRef = computed(() => {\n      var _a;\n\n      return (_a = props.placeholder) !== null && _a !== void 0 ? _a : localeRef.value.placeholder;\n    });\n    const compitableOptionsRef = useCompitable(props, ['items', 'options']);\n    const emptyArray = [];\n    const createdOptionsRef = ref([]);\n    const beingCreatedOptionsRef = ref([]);\n    const memoValOptMapRef = ref(new Map());\n    const wrappedFallbackOptionRef = computed(() => {\n      const {\n        fallbackOption\n      } = props;\n\n      if (fallbackOption === undefined) {\n        const {\n          labelField,\n          valueField\n        } = props;\n        return value => ({\n          [labelField]: String(value),\n          [valueField]: value\n        });\n      }\n\n      if (fallbackOption === false) return false;\n      return value => {\n        return Object.assign(fallbackOption(value), {\n          value\n        });\n      };\n    });\n    const localOptionsRef = computed(() => {\n      return beingCreatedOptionsRef.value.concat(createdOptionsRef.value).concat(compitableOptionsRef.value);\n    });\n    const resolvedFilterRef = computed(() => {\n      const {\n        filter\n      } = props;\n      if (filter) return filter;\n      const {\n        labelField,\n        valueField\n      } = props;\n      return (pattern, option) => {\n        if (!option) return false;\n        const label = option[labelField];\n\n        if (typeof label === 'string') {\n          return patternMatched(pattern, label);\n        }\n\n        const value = option[valueField];\n\n        if (typeof value === 'string') {\n          return patternMatched(pattern, value);\n        }\n\n        if (typeof value === 'number') {\n          return patternMatched(pattern, String(value));\n        }\n\n        return false;\n      };\n    });\n    const filteredOptionsRef = computed(() => {\n      if (props.remote) {\n        return compitableOptionsRef.value;\n      } else {\n        const {\n          value: localOptions\n        } = localOptionsRef;\n        const {\n          value: pattern\n        } = patternRef;\n\n        if (!pattern.length || !props.filterable) {\n          return localOptions;\n        } else {\n          return filterOptions(localOptions, resolvedFilterRef.value, pattern, props.childrenField);\n        }\n      }\n    });\n\n    function getMergedOptions(values) {\n      const remote = props.remote;\n      const {\n        value: memoValOptMap\n      } = memoValOptMapRef;\n      const {\n        value: valOptMap\n      } = valOptMapRef;\n      const {\n        value: wrappedFallbackOption\n      } = wrappedFallbackOptionRef;\n      const options = [];\n      values.forEach(value => {\n        if (valOptMap.has(value)) {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          options.push(valOptMap.get(value));\n        } else if (remote && memoValOptMap.has(value)) {\n          // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n          options.push(memoValOptMap.get(value));\n        } else if (wrappedFallbackOption) {\n          const option = wrappedFallbackOption(value);\n\n          if (option) {\n            options.push(option);\n          }\n        }\n      });\n      return options;\n    }\n\n    const selectedOptionsRef = computed(() => {\n      if (props.multiple) {\n        const {\n          value: values\n        } = mergedValueRef;\n        if (!Array.isArray(values)) return [];\n        return getMergedOptions(values);\n      }\n\n      return null;\n    });\n    const selectedOptionRef = computed(() => {\n      const {\n        value: mergedValue\n      } = mergedValueRef;\n\n      if (!props.multiple && !Array.isArray(mergedValue)) {\n        if (mergedValue === null) return null;\n        return getMergedOptions([mergedValue])[0] || null;\n      }\n\n      return null;\n    });\n    const formItem = useFormItem(props);\n    const {\n      mergedSizeRef,\n      mergedDisabledRef,\n      mergedStatusRef\n    } = formItem;\n\n    function doUpdateValue(value, option) {\n      const {\n        onChange,\n        'onUpdate:value': _onUpdateValue,\n        onUpdateValue\n      } = props;\n      const {\n        nTriggerFormChange,\n        nTriggerFormInput\n      } = formItem;\n      if (onChange) call(onChange, value, option);\n      if (onUpdateValue) call(onUpdateValue, value, option);\n\n      if (_onUpdateValue) {\n        call(_onUpdateValue, value, option);\n      }\n\n      uncontrolledValueRef.value = value;\n      nTriggerFormChange();\n      nTriggerFormInput();\n    }\n\n    function doBlur(e) {\n      const {\n        onBlur\n      } = props;\n      const {\n        nTriggerFormBlur\n      } = formItem;\n      if (onBlur) call(onBlur, e);\n      nTriggerFormBlur();\n    }\n\n    function doClear() {\n      const {\n        onClear\n      } = props;\n      if (onClear) call(onClear);\n    }\n\n    function doFocus(e) {\n      const {\n        onFocus\n      } = props;\n      const {\n        nTriggerFormFocus\n      } = formItem;\n      if (onFocus) call(onFocus, e);\n      nTriggerFormFocus();\n    }\n\n    function doSearch(value) {\n      const {\n        onSearch\n      } = props;\n      if (onSearch) call(onSearch, value);\n    }\n\n    function doScroll(e) {\n      const {\n        onScroll\n      } = props;\n      if (onScroll) call(onScroll, e);\n    } // remote related methods\n\n\n    function updateMemorizedOptions() {\n      var _a;\n\n      const {\n        remote,\n        multiple\n      } = props;\n\n      if (remote) {\n        const {\n          value: memoValOptMap\n        } = memoValOptMapRef;\n\n        if (multiple) {\n          const {\n            valueField\n          } = props;\n          (_a = selectedOptionsRef.value) === null || _a === void 0 ? void 0 : _a.forEach(option => {\n            memoValOptMap.set(option[valueField], option);\n          });\n        } else {\n          const option = selectedOptionRef.value;\n\n          if (option) {\n            memoValOptMap.set(option[props.valueField], option);\n          }\n        }\n      }\n    } // menu related methods\n\n\n    function doUpdateShow(value) {\n      const {\n        onUpdateShow,\n        'onUpdate:show': _onUpdateShow\n      } = props;\n      if (onUpdateShow) call(onUpdateShow, value);\n      if (_onUpdateShow) call(_onUpdateShow, value);\n      uncontrolledShowRef.value = value;\n    }\n\n    function openMenu() {\n      if (!mergedDisabledRef.value) {\n        doUpdateShow(true);\n        uncontrolledShowRef.value = true;\n\n        if (props.filterable) {\n          focusSelectionInput();\n        }\n      }\n    }\n\n    function closeMenu() {\n      doUpdateShow(false);\n    }\n\n    function handleMenuAfterLeave() {\n      patternRef.value = '';\n      beingCreatedOptionsRef.value = emptyArray;\n    }\n\n    const activeWithoutMenuOpenRef = ref(false);\n\n    function onTriggerInputFocus() {\n      if (props.filterable) {\n        activeWithoutMenuOpenRef.value = true;\n      }\n    }\n\n    function onTriggerInputBlur() {\n      if (props.filterable) {\n        activeWithoutMenuOpenRef.value = false;\n\n        if (!mergedShowRef.value) {\n          handleMenuAfterLeave();\n        }\n      }\n    }\n\n    function handleTriggerClick() {\n      if (mergedDisabledRef.value) return;\n\n      if (!mergedShowRef.value) {\n        openMenu();\n      } else {\n        if (!props.filterable) {\n          // already focused, don't need to return focus\n          closeMenu();\n        } else {\n          focusSelectionInput();\n        }\n      }\n    }\n\n    function handleTriggerBlur(e) {\n      var _a, _b;\n\n      if ((_b = (_a = menuRef.value) === null || _a === void 0 ? void 0 : _a.selfRef) === null || _b === void 0 ? void 0 : _b.contains(e.relatedTarget)) {\n        return;\n      }\n\n      focusedRef.value = false;\n      doBlur(e); // outside select, don't need to return focus\n\n      closeMenu();\n    }\n\n    function handleTriggerFocus(e) {\n      doFocus(e);\n      focusedRef.value = true;\n    }\n\n    function handleMenuFocus(e) {\n      focusedRef.value = true;\n    }\n\n    function handleMenuBlur(e) {\n      var _a;\n\n      if ((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget)) return;\n      focusedRef.value = false;\n      doBlur(e); // outside select, don't need to return focus\n\n      closeMenu();\n    }\n\n    function handleMenuTabOut() {\n      var _a;\n\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      closeMenu();\n    }\n\n    function handleMenuClickOutside(e) {\n      var _a;\n\n      if (mergedShowRef.value) {\n        if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(getPreciseEventTarget(e)))) {\n          // outside select, don't need to return focus\n          closeMenu();\n        }\n      }\n    }\n\n    function createClearedMultipleSelectValue(value) {\n      if (!Array.isArray(value)) return [];\n\n      if (wrappedFallbackOptionRef.value) {\n        // if option has a fallback, I can't help user to clear some unknown value\n        return Array.from(value);\n      } else {\n        // if there's no option fallback, unappeared options are treated as invalid\n        const {\n          remote\n        } = props;\n        const {\n          value: valOptMap\n        } = valOptMapRef;\n\n        if (remote) {\n          const {\n            value: memoValOptMap\n          } = memoValOptMapRef;\n          return value.filter(v => valOptMap.has(v) || memoValOptMap.has(v));\n        } else {\n          return value.filter(v => valOptMap.has(v));\n        }\n      }\n    }\n\n    function handleToggleByTmNode(tmNode) {\n      handleToggleByOption(tmNode.rawNode);\n    }\n\n    function handleToggleByOption(option) {\n      if (mergedDisabledRef.value) return;\n      const {\n        tag,\n        remote,\n        clearFilterAfterSelect,\n        valueField\n      } = props;\n\n      if (tag && !remote) {\n        const {\n          value: beingCreatedOptions\n        } = beingCreatedOptionsRef;\n        const beingCreatedOption = beingCreatedOptions[0] || null;\n\n        if (beingCreatedOption) {\n          const createdOptions = createdOptionsRef.value;\n\n          if (!createdOptions.length) {\n            createdOptionsRef.value = [beingCreatedOption];\n          } else {\n            createdOptions.push(beingCreatedOption);\n          }\n\n          beingCreatedOptionsRef.value = emptyArray;\n        }\n      }\n\n      if (remote) {\n        memoValOptMapRef.value.set(option[valueField], option);\n      }\n\n      if (props.multiple) {\n        const changedValue = createClearedMultipleSelectValue(mergedValueRef.value);\n        const index = changedValue.findIndex(value => value === option[valueField]);\n\n        if (~index) {\n          changedValue.splice(index, 1);\n\n          if (tag && !remote) {\n            const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n\n            if (~createdOptionIndex) {\n              createdOptionsRef.value.splice(createdOptionIndex, 1);\n              if (clearFilterAfterSelect) patternRef.value = '';\n            }\n          }\n        } else {\n          changedValue.push(option[valueField]);\n          if (clearFilterAfterSelect) patternRef.value = '';\n        }\n\n        doUpdateValue(changedValue, getMergedOptions(changedValue));\n      } else {\n        if (tag && !remote) {\n          const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n\n          if (~createdOptionIndex) {\n            createdOptionsRef.value = [createdOptionsRef.value[createdOptionIndex]];\n          } else {\n            createdOptionsRef.value = emptyArray;\n          }\n        }\n\n        focusSelection();\n        closeMenu();\n        doUpdateValue(option[valueField], option);\n      }\n    }\n\n    function getCreatedOptionIndex(optionValue) {\n      const createdOptions = createdOptionsRef.value;\n      return createdOptions.findIndex(createdOption => createdOption[props.valueField] === optionValue);\n    }\n\n    function handlePatternInput(e) {\n      if (!mergedShowRef.value) {\n        openMenu();\n      }\n\n      const {\n        value\n      } = e.target;\n      patternRef.value = value;\n      const {\n        tag,\n        remote\n      } = props;\n      doSearch(value);\n\n      if (tag && !remote) {\n        if (!value) {\n          beingCreatedOptionsRef.value = emptyArray;\n          return;\n        }\n\n        const {\n          onCreate\n        } = props;\n        const optionBeingCreated = onCreate ? onCreate(value) : {\n          [props.labelField]: value,\n          [props.valueField]: value\n        };\n        const {\n          valueField\n        } = props;\n\n        if (compitableOptionsRef.value.some(option => option[valueField] === optionBeingCreated[valueField]) || createdOptionsRef.value.some(option => option[valueField] === optionBeingCreated[valueField])) {\n          beingCreatedOptionsRef.value = emptyArray;\n        } else {\n          beingCreatedOptionsRef.value = [optionBeingCreated];\n        }\n      }\n    }\n\n    function handleClear(e) {\n      e.stopPropagation();\n      const {\n        multiple\n      } = props;\n\n      if (!multiple && props.filterable) {\n        closeMenu();\n      }\n\n      doClear();\n\n      if (multiple) {\n        doUpdateValue([], []);\n      } else {\n        doUpdateValue(null, null);\n      }\n    }\n\n    function handleMenuMousedown(e) {\n      if (!happensIn(e, 'action') && !happensIn(e, 'empty')) e.preventDefault();\n    } // scroll events on menu\n\n\n    function handleMenuScroll(e) {\n      doScroll(e);\n    } // keyboard events\n    // also for menu keydown\n\n\n    function handleKeydown(e) {\n      var _a, _b, _c, _d, _e;\n\n      switch (e.key) {\n        case ' ':\n          if (props.filterable) break;else {\n            e.preventDefault();\n          }\n        // eslint-disable-next-line no-fallthrough\n\n        case 'Enter':\n          if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.isCompositing)) {\n            if (mergedShowRef.value) {\n              const pendingTmNode = (_b = menuRef.value) === null || _b === void 0 ? void 0 : _b.getPendingTmNode();\n\n              if (pendingTmNode) {\n                handleToggleByTmNode(pendingTmNode);\n              } else if (!props.filterable) {\n                closeMenu();\n                focusSelection();\n              }\n            } else {\n              openMenu();\n\n              if (props.tag && activeWithoutMenuOpenRef.value) {\n                const beingCreatedOption = beingCreatedOptionsRef.value[0];\n\n                if (beingCreatedOption) {\n                  const optionValue = beingCreatedOption[props.valueField];\n                  const {\n                    value: mergedValue\n                  } = mergedValueRef;\n\n                  if (props.multiple) {\n                    if (Array.isArray(mergedValue) && mergedValue.some(value => value === optionValue)) {// do nothing\n                    } else {\n                      handleToggleByOption(beingCreatedOption);\n                    }\n                  } else {\n                    handleToggleByOption(beingCreatedOption);\n                  }\n                }\n              }\n            }\n          }\n\n          e.preventDefault();\n          break;\n\n        case 'ArrowUp':\n          e.preventDefault();\n          if (props.loading) return;\n\n          if (mergedShowRef.value) {\n            (_c = menuRef.value) === null || _c === void 0 ? void 0 : _c.prev();\n          }\n\n          break;\n\n        case 'ArrowDown':\n          e.preventDefault();\n          if (props.loading) return;\n\n          if (mergedShowRef.value) {\n            (_d = menuRef.value) === null || _d === void 0 ? void 0 : _d.next();\n          } else {\n            openMenu();\n          }\n\n          break;\n\n        case 'Escape':\n          if (mergedShowRef.value) {\n            markEventEffectPerformed(e);\n            closeMenu();\n          }\n\n          (_e = triggerRef.value) === null || _e === void 0 ? void 0 : _e.focus();\n          break;\n      }\n    }\n\n    function focusSelection() {\n      var _a;\n\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n    }\n\n    function focusSelectionInput() {\n      var _a;\n\n      (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n    }\n\n    function handleTriggerOrMenuResize() {\n      var _a;\n\n      if (!mergedShowRef.value) return;\n      (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n    }\n\n    updateMemorizedOptions();\n    watch(toRef(props, 'options'), updateMemorizedOptions);\n    const exposedMethods = {\n      focus: () => {\n        var _a;\n\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n      },\n      blur: () => {\n        var _a;\n\n        (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n      }\n    };\n    const cssVarsRef = computed(() => {\n      const {\n        self: {\n          menuBoxShadow\n        }\n      } = themeRef.value;\n      return {\n        '--n-menu-box-shadow': menuBoxShadow\n      };\n    });\n    const themeClassHandle = inlineThemeDisabled ? useThemeClass('select', undefined, cssVarsRef, props) : undefined;\n    return Object.assign(Object.assign({}, exposedMethods), {\n      mergedStatus: mergedStatusRef,\n      mergedClsPrefix: mergedClsPrefixRef,\n      mergedBordered: mergedBorderedRef,\n      namespace: namespaceRef,\n      treeMate: treeMateRef,\n      isMounted: useIsMounted(),\n      triggerRef,\n      menuRef,\n      pattern: patternRef,\n      uncontrolledShow: uncontrolledShowRef,\n      mergedShow: mergedShowRef,\n      adjustedTo: useAdjustedTo(props),\n      uncontrolledValue: uncontrolledValueRef,\n      mergedValue: mergedValueRef,\n      followerRef,\n      localizedPlaceholder: localizedPlaceholderRef,\n      selectedOption: selectedOptionRef,\n      selectedOptions: selectedOptionsRef,\n      mergedSize: mergedSizeRef,\n      mergedDisabled: mergedDisabledRef,\n      focused: focusedRef,\n      activeWithoutMenuOpen: activeWithoutMenuOpenRef,\n      inlineThemeDisabled,\n      onTriggerInputFocus,\n      onTriggerInputBlur,\n      handleTriggerOrMenuResize,\n      handleMenuFocus,\n      handleMenuBlur,\n      handleMenuTabOut,\n      handleTriggerClick,\n      handleToggle: handleToggleByTmNode,\n      handleDeleteOption: handleToggleByOption,\n      handlePatternInput,\n      handleClear,\n      handleTriggerBlur,\n      handleTriggerFocus,\n      handleKeydown,\n      handleMenuAfterLeave,\n      handleMenuClickOutside,\n      handleMenuScroll,\n      handleMenuKeydown: handleKeydown,\n      handleMenuMousedown,\n      mergedTheme: themeRef,\n      cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n      themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n      onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n    });\n  },\n\n  render() {\n    return h(\"div\", {\n      class: `${this.mergedClsPrefix}-select`\n    }, h(VBinder, null, {\n      default: () => [h(VTarget, null, {\n        default: () => h(NInternalSelection, {\n          ref: \"triggerRef\",\n          inlineThemeDisabled: this.inlineThemeDisabled,\n          status: this.mergedStatus,\n          inputProps: this.inputProps,\n          clsPrefix: this.mergedClsPrefix,\n          showArrow: this.showArrow,\n          maxTagCount: this.maxTagCount,\n          bordered: this.mergedBordered,\n          active: this.activeWithoutMenuOpen || this.mergedShow,\n          pattern: this.pattern,\n          placeholder: this.localizedPlaceholder,\n          selectedOption: this.selectedOption,\n          selectedOptions: this.selectedOptions,\n          multiple: this.multiple,\n          renderTag: this.renderTag,\n          renderLabel: this.renderLabel,\n          filterable: this.filterable,\n          clearable: this.clearable,\n          disabled: this.mergedDisabled,\n          size: this.mergedSize,\n          theme: this.mergedTheme.peers.InternalSelection,\n          labelField: this.labelField,\n          valueField: this.valueField,\n          themeOverrides: this.mergedTheme.peerOverrides.InternalSelection,\n          loading: this.loading,\n          focused: this.focused,\n          onClick: this.handleTriggerClick,\n          onDeleteOption: this.handleDeleteOption,\n          onPatternInput: this.handlePatternInput,\n          onClear: this.handleClear,\n          onBlur: this.handleTriggerBlur,\n          onFocus: this.handleTriggerFocus,\n          onKeydown: this.handleKeydown,\n          onPatternBlur: this.onTriggerInputBlur,\n          onPatternFocus: this.onTriggerInputFocus,\n          onResize: this.handleTriggerOrMenuResize\n        }, {\n          arrow: () => {\n            var _a, _b;\n\n            return [(_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a)];\n          }\n        })\n      }), h(VFollower, {\n        ref: \"followerRef\",\n        show: this.mergedShow,\n        to: this.adjustedTo,\n        teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey,\n        containerClass: this.namespace,\n        width: this.consistentMenuWidth ? 'target' : undefined,\n        minWidth: \"target\",\n        placement: this.placement\n      }, {\n        default: () => h(Transition, {\n          name: \"fade-in-scale-up-transition\",\n          appear: this.isMounted,\n          onAfterLeave: this.handleMenuAfterLeave\n        }, {\n          default: () => {\n            var _a, _b, _c;\n\n            if (!(this.mergedShow || this.displayDirective === 'show')) {\n              return null;\n            }\n\n            (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n            return withDirectives(h(NInternalSelectMenu, Object.assign({}, this.menuProps, {\n              ref: \"menuRef\",\n              onResize: this.handleTriggerOrMenuResize,\n              inlineThemeDisabled: this.inlineThemeDisabled,\n              virtualScroll: this.consistentMenuWidth && this.virtualScroll,\n              class: [`${this.mergedClsPrefix}-select-menu`, this.themeClass, (_b = this.menuProps) === null || _b === void 0 ? void 0 : _b.class],\n              clsPrefix: this.mergedClsPrefix,\n              focusable: true,\n              labelField: this.labelField,\n              valueField: this.valueField,\n              autoPending: true,\n              nodeProps: this.nodeProps,\n              theme: this.mergedTheme.peers.InternalSelectMenu,\n              themeOverrides: this.mergedTheme.peerOverrides.InternalSelectMenu,\n              treeMate: this.treeMate,\n              multiple: this.multiple,\n              size: \"medium\",\n              renderOption: this.renderOption,\n              renderLabel: this.renderLabel,\n              value: this.mergedValue,\n              style: [(_c = this.menuProps) === null || _c === void 0 ? void 0 : _c.style, this.cssVars],\n              onToggle: this.handleToggle,\n              onScroll: this.handleMenuScroll,\n              onFocus: this.handleMenuFocus,\n              onBlur: this.handleMenuBlur,\n              onKeydown: this.handleMenuKeydown,\n              onTabOut: this.handleMenuTabOut,\n              onMousedown: this.handleMenuMousedown,\n              show: this.mergedShow,\n              showCheckmark: this.internalShowCheckmark,\n              resetMenuOnOptionsChange: this.resetMenuOnOptionsChange\n            }), {\n              empty: () => {\n                var _a, _b;\n\n                return [(_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              },\n              action: () => {\n                var _a, _b;\n\n                return [(_b = (_a = this.$slots).action) === null || _b === void 0 ? void 0 : _b.call(_a)];\n              }\n            }), this.displayDirective === 'show' ? [[vShow, this.mergedShow], [clickoutside, this.handleMenuClickOutside, undefined, {\n              capture: true\n            }]] : [[clickoutside, this.handleMenuClickOutside, undefined, {\n              capture: true\n            }]]);\n          }\n        })\n      })]\n    }));\n  }\n\n});","map":{"version":3,"names":["h","ref","computed","toRef","defineComponent","watch","Transition","withDirectives","vShow","watchEffect","getPreciseEventTarget","happensIn","createTreeMate","VBinder","VFollower","VTarget","useIsMounted","useMergedState","useCompitable","clickoutside","useTheme","useConfig","useLocale","useFormItem","useThemeClass","call","markEventEffectPerformed","useAdjustedTo","warnOnce","NInternalSelectMenu","NInternalSelection","selectLight","createValOptMap","filterOptions","createTmOptions","patternMatched","style","selectProps","Object","assign","props","to","propTo","bordered","type","Boolean","default","undefined","clearable","clearFilterAfterSelect","options","Array","defaultValue","String","Number","value","placeholder","menuProps","multiple","size","filterable","disabled","remote","loading","filter","Function","placement","widthMode","tag","onCreate","fallbackOption","show","showArrow","maxTagCount","consistentMenuWidth","virtualScroll","labelField","valueField","childrenField","renderLabel","renderOption","renderTag","inputProps","nodeProps","onUpdateValue","onBlur","onClear","onFocus","onScroll","onSearch","onUpdateShow","displayDirective","resetMenuOnOptionsChange","status","internalShowCheckmark","onChange","items","name","setup","process","env","NODE_ENV","mergedClsPrefixRef","mergedBorderedRef","namespaceRef","inlineThemeDisabled","themeRef","uncontrolledValueRef","controlledValueRef","mergedValueRef","focusedRef","patternRef","treeMateRef","filteredOptionsRef","valOptMapRef","localOptionsRef","uncontrolledShowRef","mergedShowRef","triggerRef","followerRef","menuRef","localeRef","localizedPlaceholderRef","_a","compitableOptionsRef","emptyArray","createdOptionsRef","beingCreatedOptionsRef","memoValOptMapRef","Map","wrappedFallbackOptionRef","concat","resolvedFilterRef","pattern","option","label","localOptions","length","getMergedOptions","values","memoValOptMap","valOptMap","wrappedFallbackOption","forEach","has","push","get","selectedOptionsRef","isArray","selectedOptionRef","mergedValue","formItem","mergedSizeRef","mergedDisabledRef","mergedStatusRef","doUpdateValue","_onUpdateValue","nTriggerFormChange","nTriggerFormInput","doBlur","e","nTriggerFormBlur","doClear","doFocus","nTriggerFormFocus","doSearch","doScroll","updateMemorizedOptions","set","doUpdateShow","_onUpdateShow","openMenu","focusSelectionInput","closeMenu","handleMenuAfterLeave","activeWithoutMenuOpenRef","onTriggerInputFocus","onTriggerInputBlur","handleTriggerClick","handleTriggerBlur","_b","selfRef","contains","relatedTarget","handleTriggerFocus","handleMenuFocus","handleMenuBlur","$el","handleMenuTabOut","focus","handleMenuClickOutside","createClearedMultipleSelectValue","from","v","handleToggleByTmNode","tmNode","handleToggleByOption","rawNode","beingCreatedOptions","beingCreatedOption","createdOptions","changedValue","index","findIndex","splice","createdOptionIndex","getCreatedOptionIndex","focusSelection","optionValue","createdOption","handlePatternInput","target","optionBeingCreated","some","handleClear","stopPropagation","handleMenuMousedown","preventDefault","handleMenuScroll","handleKeydown","_c","_d","_e","key","isCompositing","pendingTmNode","getPendingTmNode","prev","next","focusInput","handleTriggerOrMenuResize","syncPosition","exposedMethods","blur","cssVarsRef","self","menuBoxShadow","themeClassHandle","mergedStatus","mergedClsPrefix","mergedBordered","namespace","treeMate","isMounted","uncontrolledShow","mergedShow","adjustedTo","uncontrolledValue","localizedPlaceholder","selectedOption","selectedOptions","mergedSize","mergedDisabled","focused","activeWithoutMenuOpen","handleToggle","handleDeleteOption","handleMenuKeydown","mergedTheme","cssVars","themeClass","onRender","render","class","clsPrefix","active","theme","peers","InternalSelection","themeOverrides","peerOverrides","onClick","onDeleteOption","onPatternInput","onKeydown","onPatternBlur","onPatternFocus","onResize","arrow","$slots","teleportDisabled","tdkey","containerClass","width","minWidth","appear","onAfterLeave","focusable","autoPending","InternalSelectMenu","onToggle","onTabOut","onMousedown","showCheckmark","empty","action","capture"],"sources":["D:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/select/src/Select.js"],"sourcesContent":["import { h, ref, computed, toRef, defineComponent, watch, Transition, withDirectives, vShow, watchEffect } from 'vue';\nimport { getPreciseEventTarget, happensIn } from 'seemly';\nimport { createTreeMate } from 'treemate';\nimport { VBinder, VFollower, VTarget } from 'vueuc';\nimport { useIsMounted, useMergedState, useCompitable } from 'vooks';\nimport { clickoutside } from 'vdirs';\nimport { useTheme, useConfig, useLocale, useFormItem, useThemeClass } from '../../_mixins';\nimport { call, markEventEffectPerformed, useAdjustedTo, warnOnce } from '../../_utils';\nimport { NInternalSelectMenu, NInternalSelection } from '../../_internal';\nimport { selectLight } from '../styles';\nimport { createValOptMap, filterOptions, createTmOptions, patternMatched } from './utils';\nimport style from './styles/index.cssr';\nexport const selectProps = Object.assign(Object.assign({}, useTheme.props), { to: useAdjustedTo.propTo, bordered: {\n        type: Boolean,\n        default: undefined\n    }, clearable: Boolean, clearFilterAfterSelect: {\n        type: Boolean,\n        default: true\n    }, options: {\n        type: Array,\n        default: () => []\n    }, defaultValue: {\n        type: [String, Number, Array],\n        default: null\n    }, value: [String, Number, Array], placeholder: String, menuProps: Object, multiple: Boolean, size: String, filterable: Boolean, disabled: {\n        type: Boolean,\n        default: undefined\n    }, remote: Boolean, loading: Boolean, filter: Function, placement: {\n        type: String,\n        default: 'bottom-start'\n    }, widthMode: {\n        type: String,\n        default: 'trigger'\n    }, tag: Boolean, onCreate: Function, fallbackOption: {\n        type: [Function, Boolean],\n        default: undefined\n    }, show: {\n        type: Boolean,\n        default: undefined\n    }, showArrow: {\n        type: Boolean,\n        default: true\n    }, maxTagCount: [Number, String], consistentMenuWidth: {\n        type: Boolean,\n        default: true\n    }, virtualScroll: {\n        type: Boolean,\n        default: true\n    }, labelField: {\n        type: String,\n        default: 'label'\n    }, valueField: {\n        type: String,\n        default: 'value'\n    }, childrenField: {\n        type: String,\n        default: 'children'\n    }, renderLabel: Function, renderOption: Function, renderTag: Function, 'onUpdate:value': [Function, Array], inputProps: Object, nodeProps: Function, \n    // for jsx\n    onUpdateValue: [Function, Array], onBlur: [Function, Array], onClear: [Function, Array], onFocus: [Function, Array], onScroll: [Function, Array], onSearch: [Function, Array], onUpdateShow: [Function, Array], 'onUpdate:show': [Function, Array], displayDirective: {\n        type: String,\n        default: 'show'\n    }, resetMenuOnOptionsChange: {\n        type: Boolean,\n        default: true\n    }, status: String, internalShowCheckmark: {\n        type: Boolean,\n        default: true\n    }, \n    /** deprecated */\n    onChange: [Function, Array], items: Array });\nexport default defineComponent({\n    name: 'Select',\n    props: selectProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.items !== undefined) {\n                    warnOnce('select', '`items` is deprecated, please use `options` instead.');\n                }\n                if (props.onChange !== undefined) {\n                    warnOnce('select', '`on-change` is deprecated, please use `on-update:value` instead.');\n                }\n            });\n        }\n        const { mergedClsPrefixRef, mergedBorderedRef, namespaceRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Select', '-select', style, selectLight, props, mergedClsPrefixRef);\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = toRef(props, 'value');\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        const focusedRef = ref(false);\n        const patternRef = ref('');\n        const treeMateRef = computed(() => {\n            const { valueField, childrenField } = props;\n            const options = createTmOptions(valueField, childrenField);\n            return createTreeMate(filteredOptionsRef.value, options);\n        });\n        const valOptMapRef = computed(() => createValOptMap(localOptionsRef.value, props.valueField, props.childrenField));\n        const uncontrolledShowRef = ref(false);\n        const mergedShowRef = useMergedState(toRef(props, 'show'), uncontrolledShowRef);\n        const triggerRef = ref(null);\n        const followerRef = ref(null);\n        const menuRef = ref(null);\n        const { localeRef } = useLocale('Select');\n        const localizedPlaceholderRef = computed(() => {\n            var _a;\n            return (_a = props.placeholder) !== null && _a !== void 0 ? _a : localeRef.value.placeholder;\n        });\n        const compitableOptionsRef = useCompitable(props, ['items', 'options']);\n        const emptyArray = [];\n        const createdOptionsRef = ref([]);\n        const beingCreatedOptionsRef = ref([]);\n        const memoValOptMapRef = ref(new Map());\n        const wrappedFallbackOptionRef = computed(() => {\n            const { fallbackOption } = props;\n            if (fallbackOption === undefined) {\n                const { labelField, valueField } = props;\n                return (value) => ({\n                    [labelField]: String(value),\n                    [valueField]: value\n                });\n            }\n            if (fallbackOption === false)\n                return false;\n            return (value) => {\n                return Object.assign(fallbackOption(value), {\n                    value\n                });\n            };\n        });\n        const localOptionsRef = computed(() => {\n            return beingCreatedOptionsRef.value.concat(createdOptionsRef.value).concat(compitableOptionsRef.value);\n        });\n        const resolvedFilterRef = computed(() => {\n            const { filter } = props;\n            if (filter)\n                return filter;\n            const { labelField, valueField } = props;\n            return (pattern, option) => {\n                if (!option)\n                    return false;\n                const label = option[labelField];\n                if (typeof label === 'string') {\n                    return patternMatched(pattern, label);\n                }\n                const value = option[valueField];\n                if (typeof value === 'string') {\n                    return patternMatched(pattern, value);\n                }\n                if (typeof value === 'number') {\n                    return patternMatched(pattern, String(value));\n                }\n                return false;\n            };\n        });\n        const filteredOptionsRef = computed(() => {\n            if (props.remote) {\n                return compitableOptionsRef.value;\n            }\n            else {\n                const { value: localOptions } = localOptionsRef;\n                const { value: pattern } = patternRef;\n                if (!pattern.length || !props.filterable) {\n                    return localOptions;\n                }\n                else {\n                    return filterOptions(localOptions, resolvedFilterRef.value, pattern, props.childrenField);\n                }\n            }\n        });\n        function getMergedOptions(values) {\n            const remote = props.remote;\n            const { value: memoValOptMap } = memoValOptMapRef;\n            const { value: valOptMap } = valOptMapRef;\n            const { value: wrappedFallbackOption } = wrappedFallbackOptionRef;\n            const options = [];\n            values.forEach((value) => {\n                if (valOptMap.has(value)) {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    options.push(valOptMap.get(value));\n                }\n                else if (remote && memoValOptMap.has(value)) {\n                    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                    options.push(memoValOptMap.get(value));\n                }\n                else if (wrappedFallbackOption) {\n                    const option = wrappedFallbackOption(value);\n                    if (option) {\n                        options.push(option);\n                    }\n                }\n            });\n            return options;\n        }\n        const selectedOptionsRef = computed(() => {\n            if (props.multiple) {\n                const { value: values } = mergedValueRef;\n                if (!Array.isArray(values))\n                    return [];\n                return getMergedOptions(values);\n            }\n            return null;\n        });\n        const selectedOptionRef = computed(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (!props.multiple && !Array.isArray(mergedValue)) {\n                if (mergedValue === null)\n                    return null;\n                return getMergedOptions([mergedValue])[0] || null;\n            }\n            return null;\n        });\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef, mergedStatusRef } = formItem;\n        function doUpdateValue(value, option) {\n            const { onChange, 'onUpdate:value': _onUpdateValue, onUpdateValue } = props;\n            const { nTriggerFormChange, nTriggerFormInput } = formItem;\n            if (onChange)\n                call(onChange, value, option);\n            if (onUpdateValue)\n                call(onUpdateValue, value, option);\n            if (_onUpdateValue) {\n                call(_onUpdateValue, value, option);\n            }\n            uncontrolledValueRef.value = value;\n            nTriggerFormChange();\n            nTriggerFormInput();\n        }\n        function doBlur(e) {\n            const { onBlur } = props;\n            const { nTriggerFormBlur } = formItem;\n            if (onBlur)\n                call(onBlur, e);\n            nTriggerFormBlur();\n        }\n        function doClear() {\n            const { onClear } = props;\n            if (onClear)\n                call(onClear);\n        }\n        function doFocus(e) {\n            const { onFocus } = props;\n            const { nTriggerFormFocus } = formItem;\n            if (onFocus)\n                call(onFocus, e);\n            nTriggerFormFocus();\n        }\n        function doSearch(value) {\n            const { onSearch } = props;\n            if (onSearch)\n                call(onSearch, value);\n        }\n        function doScroll(e) {\n            const { onScroll } = props;\n            if (onScroll)\n                call(onScroll, e);\n        }\n        // remote related methods\n        function updateMemorizedOptions() {\n            var _a;\n            const { remote, multiple } = props;\n            if (remote) {\n                const { value: memoValOptMap } = memoValOptMapRef;\n                if (multiple) {\n                    const { valueField } = props;\n                    (_a = selectedOptionsRef.value) === null || _a === void 0 ? void 0 : _a.forEach((option) => {\n                        memoValOptMap.set(option[valueField], option);\n                    });\n                }\n                else {\n                    const option = selectedOptionRef.value;\n                    if (option) {\n                        memoValOptMap.set(option[props.valueField], option);\n                    }\n                }\n            }\n        }\n        // menu related methods\n        function doUpdateShow(value) {\n            const { onUpdateShow, 'onUpdate:show': _onUpdateShow } = props;\n            if (onUpdateShow)\n                call(onUpdateShow, value);\n            if (_onUpdateShow)\n                call(_onUpdateShow, value);\n            uncontrolledShowRef.value = value;\n        }\n        function openMenu() {\n            if (!mergedDisabledRef.value) {\n                doUpdateShow(true);\n                uncontrolledShowRef.value = true;\n                if (props.filterable) {\n                    focusSelectionInput();\n                }\n            }\n        }\n        function closeMenu() {\n            doUpdateShow(false);\n        }\n        function handleMenuAfterLeave() {\n            patternRef.value = '';\n            beingCreatedOptionsRef.value = emptyArray;\n        }\n        const activeWithoutMenuOpenRef = ref(false);\n        function onTriggerInputFocus() {\n            if (props.filterable) {\n                activeWithoutMenuOpenRef.value = true;\n            }\n        }\n        function onTriggerInputBlur() {\n            if (props.filterable) {\n                activeWithoutMenuOpenRef.value = false;\n                if (!mergedShowRef.value) {\n                    handleMenuAfterLeave();\n                }\n            }\n        }\n        function handleTriggerClick() {\n            if (mergedDisabledRef.value)\n                return;\n            if (!mergedShowRef.value) {\n                openMenu();\n            }\n            else {\n                if (!props.filterable) {\n                    // already focused, don't need to return focus\n                    closeMenu();\n                }\n                else {\n                    focusSelectionInput();\n                }\n            }\n        }\n        function handleTriggerBlur(e) {\n            var _a, _b;\n            if ((_b = (_a = menuRef.value) === null || _a === void 0 ? void 0 : _a.selfRef) === null || _b === void 0 ? void 0 : _b.contains(e.relatedTarget)) {\n                return;\n            }\n            focusedRef.value = false;\n            doBlur(e);\n            // outside select, don't need to return focus\n            closeMenu();\n        }\n        function handleTriggerFocus(e) {\n            doFocus(e);\n            focusedRef.value = true;\n        }\n        function handleMenuFocus(e) {\n            focusedRef.value = true;\n        }\n        function handleMenuBlur(e) {\n            var _a;\n            if ((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.relatedTarget))\n                return;\n            focusedRef.value = false;\n            doBlur(e);\n            // outside select, don't need to return focus\n            closeMenu();\n        }\n        function handleMenuTabOut() {\n            var _a;\n            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            closeMenu();\n        }\n        function handleMenuClickOutside(e) {\n            var _a;\n            if (mergedShowRef.value) {\n                if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(getPreciseEventTarget(e)))) {\n                    // outside select, don't need to return focus\n                    closeMenu();\n                }\n            }\n        }\n        function createClearedMultipleSelectValue(value) {\n            if (!Array.isArray(value))\n                return [];\n            if (wrappedFallbackOptionRef.value) {\n                // if option has a fallback, I can't help user to clear some unknown value\n                return Array.from(value);\n            }\n            else {\n                // if there's no option fallback, unappeared options are treated as invalid\n                const { remote } = props;\n                const { value: valOptMap } = valOptMapRef;\n                if (remote) {\n                    const { value: memoValOptMap } = memoValOptMapRef;\n                    return value.filter((v) => valOptMap.has(v) || memoValOptMap.has(v));\n                }\n                else {\n                    return value.filter((v) => valOptMap.has(v));\n                }\n            }\n        }\n        function handleToggleByTmNode(tmNode) {\n            handleToggleByOption(tmNode.rawNode);\n        }\n        function handleToggleByOption(option) {\n            if (mergedDisabledRef.value)\n                return;\n            const { tag, remote, clearFilterAfterSelect, valueField } = props;\n            if (tag && !remote) {\n                const { value: beingCreatedOptions } = beingCreatedOptionsRef;\n                const beingCreatedOption = beingCreatedOptions[0] || null;\n                if (beingCreatedOption) {\n                    const createdOptions = createdOptionsRef.value;\n                    if (!createdOptions.length) {\n                        createdOptionsRef.value = [beingCreatedOption];\n                    }\n                    else {\n                        createdOptions.push(beingCreatedOption);\n                    }\n                    beingCreatedOptionsRef.value = emptyArray;\n                }\n            }\n            if (remote) {\n                memoValOptMapRef.value.set(option[valueField], option);\n            }\n            if (props.multiple) {\n                const changedValue = createClearedMultipleSelectValue(mergedValueRef.value);\n                const index = changedValue.findIndex((value) => value === option[valueField]);\n                if (~index) {\n                    changedValue.splice(index, 1);\n                    if (tag && !remote) {\n                        const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n                        if (~createdOptionIndex) {\n                            createdOptionsRef.value.splice(createdOptionIndex, 1);\n                            if (clearFilterAfterSelect)\n                                patternRef.value = '';\n                        }\n                    }\n                }\n                else {\n                    changedValue.push(option[valueField]);\n                    if (clearFilterAfterSelect)\n                        patternRef.value = '';\n                }\n                doUpdateValue(changedValue, getMergedOptions(changedValue));\n            }\n            else {\n                if (tag && !remote) {\n                    const createdOptionIndex = getCreatedOptionIndex(option[valueField]);\n                    if (~createdOptionIndex) {\n                        createdOptionsRef.value = [\n                            createdOptionsRef.value[createdOptionIndex]\n                        ];\n                    }\n                    else {\n                        createdOptionsRef.value = emptyArray;\n                    }\n                }\n                focusSelection();\n                closeMenu();\n                doUpdateValue(option[valueField], option);\n            }\n        }\n        function getCreatedOptionIndex(optionValue) {\n            const createdOptions = createdOptionsRef.value;\n            return createdOptions.findIndex((createdOption) => createdOption[props.valueField] === optionValue);\n        }\n        function handlePatternInput(e) {\n            if (!mergedShowRef.value) {\n                openMenu();\n            }\n            const { value } = e.target;\n            patternRef.value = value;\n            const { tag, remote } = props;\n            doSearch(value);\n            if (tag && !remote) {\n                if (!value) {\n                    beingCreatedOptionsRef.value = emptyArray;\n                    return;\n                }\n                const { onCreate } = props;\n                const optionBeingCreated = onCreate\n                    ? onCreate(value)\n                    : { [props.labelField]: value, [props.valueField]: value };\n                const { valueField } = props;\n                if (compitableOptionsRef.value.some((option) => option[valueField] === optionBeingCreated[valueField]) ||\n                    createdOptionsRef.value.some((option) => option[valueField] === optionBeingCreated[valueField])) {\n                    beingCreatedOptionsRef.value = emptyArray;\n                }\n                else {\n                    beingCreatedOptionsRef.value = [optionBeingCreated];\n                }\n            }\n        }\n        function handleClear(e) {\n            e.stopPropagation();\n            const { multiple } = props;\n            if (!multiple && props.filterable) {\n                closeMenu();\n            }\n            doClear();\n            if (multiple) {\n                doUpdateValue([], []);\n            }\n            else {\n                doUpdateValue(null, null);\n            }\n        }\n        function handleMenuMousedown(e) {\n            if (!happensIn(e, 'action') && !happensIn(e, 'empty'))\n                e.preventDefault();\n        }\n        // scroll events on menu\n        function handleMenuScroll(e) {\n            doScroll(e);\n        }\n        // keyboard events\n        // also for menu keydown\n        function handleKeydown(e) {\n            var _a, _b, _c, _d, _e;\n            switch (e.key) {\n                case ' ':\n                    if (props.filterable)\n                        break;\n                    else {\n                        e.preventDefault();\n                    }\n                // eslint-disable-next-line no-fallthrough\n                case 'Enter':\n                    if (!((_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.isCompositing)) {\n                        if (mergedShowRef.value) {\n                            const pendingTmNode = (_b = menuRef.value) === null || _b === void 0 ? void 0 : _b.getPendingTmNode();\n                            if (pendingTmNode) {\n                                handleToggleByTmNode(pendingTmNode);\n                            }\n                            else if (!props.filterable) {\n                                closeMenu();\n                                focusSelection();\n                            }\n                        }\n                        else {\n                            openMenu();\n                            if (props.tag && activeWithoutMenuOpenRef.value) {\n                                const beingCreatedOption = beingCreatedOptionsRef.value[0];\n                                if (beingCreatedOption) {\n                                    const optionValue = beingCreatedOption[props.valueField];\n                                    const { value: mergedValue } = mergedValueRef;\n                                    if (props.multiple) {\n                                        if (Array.isArray(mergedValue) &&\n                                            mergedValue.some((value) => value === optionValue)) {\n                                            // do nothing\n                                        }\n                                        else {\n                                            handleToggleByOption(beingCreatedOption);\n                                        }\n                                    }\n                                    else {\n                                        handleToggleByOption(beingCreatedOption);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                    e.preventDefault();\n                    break;\n                case 'ArrowUp':\n                    e.preventDefault();\n                    if (props.loading)\n                        return;\n                    if (mergedShowRef.value) {\n                        (_c = menuRef.value) === null || _c === void 0 ? void 0 : _c.prev();\n                    }\n                    break;\n                case 'ArrowDown':\n                    e.preventDefault();\n                    if (props.loading)\n                        return;\n                    if (mergedShowRef.value) {\n                        (_d = menuRef.value) === null || _d === void 0 ? void 0 : _d.next();\n                    }\n                    else {\n                        openMenu();\n                    }\n                    break;\n                case 'Escape':\n                    if (mergedShowRef.value) {\n                        markEventEffectPerformed(e);\n                        closeMenu();\n                    }\n                    (_e = triggerRef.value) === null || _e === void 0 ? void 0 : _e.focus();\n                    break;\n            }\n        }\n        function focusSelection() {\n            var _a;\n            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n        }\n        function focusSelectionInput() {\n            var _a;\n            (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focusInput();\n        }\n        function handleTriggerOrMenuResize() {\n            var _a;\n            if (!mergedShowRef.value)\n                return;\n            (_a = followerRef.value) === null || _a === void 0 ? void 0 : _a.syncPosition();\n        }\n        updateMemorizedOptions();\n        watch(toRef(props, 'options'), updateMemorizedOptions);\n        const exposedMethods = {\n            focus: () => {\n                var _a;\n                (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.focus();\n            },\n            blur: () => {\n                var _a;\n                (_a = triggerRef.value) === null || _a === void 0 ? void 0 : _a.blur();\n            }\n        };\n        const cssVarsRef = computed(() => {\n            const { self: { menuBoxShadow } } = themeRef.value;\n            return {\n                '--n-menu-box-shadow': menuBoxShadow\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('select', undefined, cssVarsRef, props)\n            : undefined;\n        return Object.assign(Object.assign({}, exposedMethods), { mergedStatus: mergedStatusRef, mergedClsPrefix: mergedClsPrefixRef, mergedBordered: mergedBorderedRef, namespace: namespaceRef, treeMate: treeMateRef, isMounted: useIsMounted(), triggerRef,\n            menuRef, pattern: patternRef, uncontrolledShow: uncontrolledShowRef, mergedShow: mergedShowRef, adjustedTo: useAdjustedTo(props), uncontrolledValue: uncontrolledValueRef, mergedValue: mergedValueRef, followerRef, localizedPlaceholder: localizedPlaceholderRef, selectedOption: selectedOptionRef, selectedOptions: selectedOptionsRef, mergedSize: mergedSizeRef, mergedDisabled: mergedDisabledRef, focused: focusedRef, activeWithoutMenuOpen: activeWithoutMenuOpenRef, inlineThemeDisabled,\n            onTriggerInputFocus,\n            onTriggerInputBlur,\n            handleTriggerOrMenuResize,\n            handleMenuFocus,\n            handleMenuBlur,\n            handleMenuTabOut,\n            handleTriggerClick, handleToggle: handleToggleByTmNode, handleDeleteOption: handleToggleByOption, handlePatternInput,\n            handleClear,\n            handleTriggerBlur,\n            handleTriggerFocus,\n            handleKeydown,\n            handleMenuAfterLeave,\n            handleMenuClickOutside,\n            handleMenuScroll, handleMenuKeydown: handleKeydown, handleMenuMousedown, mergedTheme: themeRef, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender });\n    },\n    render() {\n        return (h(\"div\", { class: `${this.mergedClsPrefix}-select` },\n            h(VBinder, null, {\n                default: () => [\n                    h(VTarget, null, {\n                        default: () => (h(NInternalSelection, { ref: \"triggerRef\", inlineThemeDisabled: this.inlineThemeDisabled, status: this.mergedStatus, inputProps: this.inputProps, clsPrefix: this.mergedClsPrefix, showArrow: this.showArrow, maxTagCount: this.maxTagCount, bordered: this.mergedBordered, active: this.activeWithoutMenuOpen || this.mergedShow, pattern: this.pattern, placeholder: this.localizedPlaceholder, selectedOption: this.selectedOption, selectedOptions: this.selectedOptions, multiple: this.multiple, renderTag: this.renderTag, renderLabel: this.renderLabel, filterable: this.filterable, clearable: this.clearable, disabled: this.mergedDisabled, size: this.mergedSize, theme: this.mergedTheme.peers.InternalSelection, labelField: this.labelField, valueField: this.valueField, themeOverrides: this.mergedTheme.peerOverrides.InternalSelection, loading: this.loading, focused: this.focused, onClick: this.handleTriggerClick, onDeleteOption: this.handleDeleteOption, onPatternInput: this.handlePatternInput, onClear: this.handleClear, onBlur: this.handleTriggerBlur, onFocus: this.handleTriggerFocus, onKeydown: this.handleKeydown, onPatternBlur: this.onTriggerInputBlur, onPatternFocus: this.onTriggerInputFocus, onResize: this.handleTriggerOrMenuResize }, {\n                            arrow: () => { var _a, _b; return [(_b = (_a = this.$slots).arrow) === null || _b === void 0 ? void 0 : _b.call(_a)]; }\n                        }))\n                    }),\n                    h(VFollower, { ref: \"followerRef\", show: this.mergedShow, to: this.adjustedTo, teleportDisabled: this.adjustedTo === useAdjustedTo.tdkey, containerClass: this.namespace, width: this.consistentMenuWidth ? 'target' : undefined, minWidth: \"target\", placement: this.placement }, {\n                        default: () => (h(Transition, { name: \"fade-in-scale-up-transition\", appear: this.isMounted, onAfterLeave: this.handleMenuAfterLeave }, {\n                            default: () => {\n                                var _a, _b, _c;\n                                if (!(this.mergedShow ||\n                                    this.displayDirective === 'show')) {\n                                    return null;\n                                }\n                                (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                                return withDirectives(h(NInternalSelectMenu, Object.assign({}, this.menuProps, { ref: \"menuRef\", onResize: this.handleTriggerOrMenuResize, inlineThemeDisabled: this.inlineThemeDisabled, virtualScroll: this.consistentMenuWidth && this.virtualScroll, class: [\n                                        `${this.mergedClsPrefix}-select-menu`,\n                                        this.themeClass,\n                                        (_b = this.menuProps) === null || _b === void 0 ? void 0 : _b.class\n                                    ], clsPrefix: this.mergedClsPrefix, focusable: true, labelField: this.labelField, valueField: this.valueField, autoPending: true, nodeProps: this.nodeProps, theme: this.mergedTheme.peers.InternalSelectMenu, themeOverrides: this.mergedTheme.peerOverrides\n                                        .InternalSelectMenu, treeMate: this.treeMate, multiple: this.multiple, size: \"medium\", renderOption: this.renderOption, renderLabel: this.renderLabel, value: this.mergedValue, style: [(_c = this.menuProps) === null || _c === void 0 ? void 0 : _c.style, this.cssVars], onToggle: this.handleToggle, onScroll: this.handleMenuScroll, onFocus: this.handleMenuFocus, onBlur: this.handleMenuBlur, onKeydown: this.handleMenuKeydown, onTabOut: this.handleMenuTabOut, onMousedown: this.handleMenuMousedown, show: this.mergedShow, showCheckmark: this.internalShowCheckmark, resetMenuOnOptionsChange: this.resetMenuOnOptionsChange }), {\n                                    empty: () => { var _a, _b; return [(_b = (_a = this.$slots).empty) === null || _b === void 0 ? void 0 : _b.call(_a)]; },\n                                    action: () => { var _a, _b; return [(_b = (_a = this.$slots).action) === null || _b === void 0 ? void 0 : _b.call(_a)]; }\n                                }), this.displayDirective === 'show'\n                                    ? [\n                                        [vShow, this.mergedShow],\n                                        [\n                                            clickoutside,\n                                            this.handleMenuClickOutside,\n                                            undefined,\n                                            { capture: true }\n                                        ]\n                                    ]\n                                    : [\n                                        [\n                                            clickoutside,\n                                            this.handleMenuClickOutside,\n                                            undefined,\n                                            { capture: true }\n                                        ]\n                                    ]);\n                            }\n                        }))\n                    })\n                ]\n            })));\n    }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}