{"ast":null,"code":"/* eslint-disable @typescript-eslint/consistent-type-assertions */\nimport { inject, computed, onBeforeMount } from 'vue';\nimport { merge } from 'lodash-es';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport globalStyle from '../_styles/global/index.cssr';\nimport { configProviderInjectionKey } from '../config-provider/src/context';\nimport { cssrAnchorMetaName } from './common';\nexport function createTheme(theme) {\n  return theme;\n}\n\nfunction useTheme(resolveId, mountId, style, defaultTheme, props, clsPrefixRef) {\n  const ssrAdapter = useSsrAdapter();\n  const NConfigProvider = inject(configProviderInjectionKey, null);\n\n  if (style) {\n    const mountStyle = () => {\n      const clsPrefix = clsPrefixRef === null || clsPrefixRef === void 0 ? void 0 : clsPrefixRef.value;\n      style.mount({\n        id: clsPrefix === undefined ? mountId : clsPrefix + mountId,\n        head: true,\n        props: {\n          bPrefix: clsPrefix ? `.${clsPrefix}-` : undefined\n        },\n        anchorMetaName: cssrAnchorMetaName,\n        ssr: ssrAdapter\n      });\n\n      if (!(NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.preflightStyleDisabled)) {\n        globalStyle.mount({\n          id: 'n-global',\n          head: true,\n          anchorMetaName: cssrAnchorMetaName,\n          ssr: ssrAdapter\n        });\n      }\n    };\n\n    if (ssrAdapter) {\n      mountStyle();\n    } else {\n      onBeforeMount(mountStyle);\n    }\n  }\n\n  const mergedThemeRef = computed(() => {\n    var _a; // keep props to make theme overrideable\n\n\n    const {\n      theme: {\n        common: selfCommon,\n        self,\n        peers = {}\n      } = {},\n      themeOverrides: selfOverrides = {},\n      builtinThemeOverrides: builtinOverrides = {}\n    } = props;\n    const {\n      common: selfCommonOverrides,\n      peers: peersOverrides\n    } = selfOverrides;\n    const {\n      common: globalCommon = undefined,\n      [resolveId]: {\n        common: globalSelfCommon = undefined,\n        self: globalSelf = undefined,\n        peers: globalPeers = {}\n      } = {}\n    } = (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeRef.value) || {};\n    const {\n      common: globalCommonOverrides = undefined,\n      [resolveId]: globalSelfOverrides = {}\n    } = (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeOverridesRef.value) || {};\n    const {\n      common: globalSelfCommonOverrides,\n      peers: globalPeersOverrides = {}\n    } = globalSelfOverrides;\n    const mergedCommon = merge({}, selfCommon || globalSelfCommon || globalCommon || defaultTheme.common, globalCommonOverrides, globalSelfCommonOverrides, selfCommonOverrides);\n    const mergedSelf = merge( // {}, executed every time, no need for empty obj\n    (_a = self || globalSelf || defaultTheme.self) === null || _a === void 0 ? void 0 : _a(mergedCommon), builtinOverrides, globalSelfOverrides, selfOverrides);\n    return {\n      common: mergedCommon,\n      self: mergedSelf,\n      peers: merge({}, defaultTheme.peers, globalPeers, peers),\n      peerOverrides: merge({}, builtinOverrides.peers, globalPeersOverrides, peersOverrides)\n    };\n  });\n  return mergedThemeRef;\n}\n\nuseTheme.props = {\n  theme: Object,\n  themeOverrides: Object,\n  builtinThemeOverrides: Object\n};\n/**\n * props.theme (Theme):\n * {\n *   common: CommonThemeVars,\n *   self(): ThemeVars,\n *   peers: { Component: Theme }\n * }\n * provider.theme:\n * {\n *   common: CommonThemeVars,\n *   Button: Theme\n *   ...\n * }\n * defaultTheme:\n * {\n *   common: CommonThemeVars,\n *   self(): ThemeVars,\n *   peers: { Component: Theme }\n * }\n *\n * props.themeOverrides (ThemeOverrides):\n * {\n *   common: CommonThemeVars,\n *   peers: { Component: ThemeOverrides },\n *   ...ThemeVars\n * }\n * provider.themeOverrides:\n * {\n *   common: CommonThemeVars,\n *   Component: ThemeOverrides\n *   ...\n * }\n *\n * mergedTheme:\n * {\n *   common: CommonThemeVars,\n *   self: ThemeVars,\n *   peers: { Component: Theme },\n *   overrides: { Component: ThemeOverrides }\n * }\n */\n\nexport default useTheme;","map":{"version":3,"names":["inject","computed","onBeforeMount","merge","useSsrAdapter","globalStyle","configProviderInjectionKey","cssrAnchorMetaName","createTheme","theme","useTheme","resolveId","mountId","style","defaultTheme","props","clsPrefixRef","ssrAdapter","NConfigProvider","mountStyle","clsPrefix","value","mount","id","undefined","head","bPrefix","anchorMetaName","ssr","preflightStyleDisabled","mergedThemeRef","_a","common","selfCommon","self","peers","themeOverrides","selfOverrides","builtinThemeOverrides","builtinOverrides","selfCommonOverrides","peersOverrides","globalCommon","globalSelfCommon","globalSelf","globalPeers","globalCommonOverrides","globalSelfOverrides","mergedThemeOverridesRef","globalSelfCommonOverrides","globalPeersOverrides","mergedCommon","mergedSelf","peerOverrides","Object"],"sources":["D:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/_mixins/use-theme.js"],"sourcesContent":["/* eslint-disable @typescript-eslint/consistent-type-assertions */\nimport { inject, computed, onBeforeMount } from 'vue';\nimport { merge } from 'lodash-es';\nimport { useSsrAdapter } from '@css-render/vue3-ssr';\nimport globalStyle from '../_styles/global/index.cssr';\nimport { configProviderInjectionKey } from '../config-provider/src/context';\nimport { cssrAnchorMetaName } from './common';\nexport function createTheme(theme) {\n    return theme;\n}\nfunction useTheme(resolveId, mountId, style, defaultTheme, props, clsPrefixRef) {\n    const ssrAdapter = useSsrAdapter();\n    const NConfigProvider = inject(configProviderInjectionKey, null);\n    if (style) {\n        const mountStyle = () => {\n            const clsPrefix = clsPrefixRef === null || clsPrefixRef === void 0 ? void 0 : clsPrefixRef.value;\n            style.mount({\n                id: clsPrefix === undefined ? mountId : clsPrefix + mountId,\n                head: true,\n                props: {\n                    bPrefix: clsPrefix ? `.${clsPrefix}-` : undefined\n                },\n                anchorMetaName: cssrAnchorMetaName,\n                ssr: ssrAdapter\n            });\n            if (!(NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.preflightStyleDisabled)) {\n                globalStyle.mount({\n                    id: 'n-global',\n                    head: true,\n                    anchorMetaName: cssrAnchorMetaName,\n                    ssr: ssrAdapter\n                });\n            }\n        };\n        if (ssrAdapter) {\n            mountStyle();\n        }\n        else {\n            onBeforeMount(mountStyle);\n        }\n    }\n    const mergedThemeRef = computed(() => {\n        var _a;\n        // keep props to make theme overrideable\n        const { theme: { common: selfCommon, self, peers = {} } = {}, themeOverrides: selfOverrides = {}, builtinThemeOverrides: builtinOverrides = {} } = props;\n        const { common: selfCommonOverrides, peers: peersOverrides } = selfOverrides;\n        const { common: globalCommon = undefined, [resolveId]: { common: globalSelfCommon = undefined, self: globalSelf = undefined, peers: globalPeers = {} } = {} } = (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeRef.value) || {};\n        const { common: globalCommonOverrides = undefined, [resolveId]: globalSelfOverrides = {} } = (NConfigProvider === null || NConfigProvider === void 0 ? void 0 : NConfigProvider.mergedThemeOverridesRef.value) || {};\n        const { common: globalSelfCommonOverrides, peers: globalPeersOverrides = {} } = globalSelfOverrides;\n        const mergedCommon = merge({}, selfCommon || globalSelfCommon || globalCommon || defaultTheme.common, globalCommonOverrides, globalSelfCommonOverrides, selfCommonOverrides);\n        const mergedSelf = merge(\n        // {}, executed every time, no need for empty obj\n        (_a = (self || globalSelf || defaultTheme.self)) === null || _a === void 0 ? void 0 : _a(mergedCommon), builtinOverrides, globalSelfOverrides, selfOverrides);\n        return {\n            common: mergedCommon,\n            self: mergedSelf,\n            peers: merge({}, defaultTheme.peers, globalPeers, peers),\n            peerOverrides: merge({}, builtinOverrides.peers, globalPeersOverrides, peersOverrides)\n        };\n    });\n    return mergedThemeRef;\n}\nuseTheme.props = {\n    theme: Object,\n    themeOverrides: Object,\n    builtinThemeOverrides: Object\n};\n/**\n * props.theme (Theme):\n * {\n *   common: CommonThemeVars,\n *   self(): ThemeVars,\n *   peers: { Component: Theme }\n * }\n * provider.theme:\n * {\n *   common: CommonThemeVars,\n *   Button: Theme\n *   ...\n * }\n * defaultTheme:\n * {\n *   common: CommonThemeVars,\n *   self(): ThemeVars,\n *   peers: { Component: Theme }\n * }\n *\n * props.themeOverrides (ThemeOverrides):\n * {\n *   common: CommonThemeVars,\n *   peers: { Component: ThemeOverrides },\n *   ...ThemeVars\n * }\n * provider.themeOverrides:\n * {\n *   common: CommonThemeVars,\n *   Component: ThemeOverrides\n *   ...\n * }\n *\n * mergedTheme:\n * {\n *   common: CommonThemeVars,\n *   self: ThemeVars,\n *   peers: { Component: Theme },\n *   overrides: { Component: ThemeOverrides }\n * }\n */\nexport default useTheme;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}