{"ast":null,"code":"import { depx } from 'seemly';\nimport { formatLength } from '../../_utils';\nexport const SELECTION_COL_WIDTH = 40;\nexport const EXPAND_COL_WIDTH = 40;\nexport function getNumberColWidth(col) {\n  if (col.type === 'selection') {\n    return col.width === undefined ? SELECTION_COL_WIDTH : depx(col.width);\n  }\n\n  if (col.type === 'expand') {\n    return col.width === undefined ? EXPAND_COL_WIDTH : depx(col.width);\n  }\n\n  if ('children' in col) return undefined;\n\n  if (typeof col.width === 'string') {\n    return depx(col.width);\n  }\n\n  return col.width;\n}\nexport function getStringColWidth(col) {\n  var _a, _b;\n\n  if (col.type === 'selection') {\n    return formatLength((_a = col.width) !== null && _a !== void 0 ? _a : SELECTION_COL_WIDTH);\n  }\n\n  if (col.type === 'expand') {\n    return formatLength((_b = col.width) !== null && _b !== void 0 ? _b : EXPAND_COL_WIDTH);\n  }\n\n  if ('children' in col) {\n    return undefined;\n  }\n\n  return formatLength(col.width);\n}\nexport function getColKey(col) {\n  if (col.type === 'selection') return '__n_selection__';\n  if (col.type === 'expand') return '__n_expand__';\n  return col.key;\n}\nexport function createShallowClonedObject(object) {\n  if (!object) return object;\n\n  if (typeof object === 'object') {\n    return Object.assign({}, object);\n  }\n\n  return object;\n}\nexport function getFlagOfOrder(order) {\n  if (order === 'ascend') return 1;else if (order === 'descend') return -1;\n  return 0;\n}\nexport function createCustomWidthStyle(column) {\n  const width = getStringColWidth(column);\n  return {\n    width,\n    minWidth: formatLength(column.minWidth) || width\n  };\n}\nexport function createRowClassName(row, index, rowClassName) {\n  if (typeof rowClassName === 'function') return rowClassName(row, index);\n  return rowClassName || '';\n} // for compatibility\n// If column.filterOptionValues or column.defaultFilterOptionValues is set, use\n// array value\n\nexport function shouldUseArrayInSingleMode(column) {\n  return column.filterOptionValues !== undefined || column.filterOptionValue === undefined && column.defaultFilterOptionValues !== undefined;\n}\nexport function isColumnSortable(column) {\n  if ('children' in column) return false;\n  return !!column.sorter;\n}\nexport function isColumnFilterable(column) {\n  if ('children' in column) return false;\n  return !!column.filter && (!!column.filterOptions || !!column.renderFilterMenu);\n}\n\nfunction getNextOrderOf(order) {\n  if (!order) return 'descend';else if (order === 'descend') return 'ascend';\n  return false;\n}\n\nexport function createNextSorter(column, currentSortState) {\n  if (column.sorter === undefined) return null;\n\n  if (currentSortState === null || currentSortState.columnKey !== column.key) {\n    return {\n      columnKey: column.key,\n      sorter: column.sorter,\n      order: getNextOrderOf(false)\n    };\n  } else {\n    return Object.assign(Object.assign({}, currentSortState), {\n      order: getNextOrderOf(currentSortState.order)\n    });\n  }\n}\nexport function isColumnSorting(column, mergedSortState) {\n  return mergedSortState.find(state => state.columnKey === column.key && state.order) !== undefined;\n}","map":{"version":3,"names":["depx","formatLength","SELECTION_COL_WIDTH","EXPAND_COL_WIDTH","getNumberColWidth","col","type","width","undefined","getStringColWidth","_a","_b","getColKey","key","createShallowClonedObject","object","Object","assign","getFlagOfOrder","order","createCustomWidthStyle","column","minWidth","createRowClassName","row","index","rowClassName","shouldUseArrayInSingleMode","filterOptionValues","filterOptionValue","defaultFilterOptionValues","isColumnSortable","sorter","isColumnFilterable","filter","filterOptions","renderFilterMenu","getNextOrderOf","createNextSorter","currentSortState","columnKey","isColumnSorting","mergedSortState","find","state"],"sources":["E:/VCode/SHC社区管理系统/shc_community_manager_system/node_modules/naive-ui/es/data-table/src/utils.js"],"sourcesContent":["import { depx } from 'seemly';\nimport { formatLength } from '../../_utils';\nexport const SELECTION_COL_WIDTH = 40;\nexport const EXPAND_COL_WIDTH = 40;\nexport function getNumberColWidth(col) {\n    if (col.type === 'selection') {\n        return col.width === undefined ? SELECTION_COL_WIDTH : depx(col.width);\n    }\n    if (col.type === 'expand') {\n        return col.width === undefined ? EXPAND_COL_WIDTH : depx(col.width);\n    }\n    if ('children' in col)\n        return undefined;\n    if (typeof col.width === 'string') {\n        return depx(col.width);\n    }\n    return col.width;\n}\nexport function getStringColWidth(col) {\n    var _a, _b;\n    if (col.type === 'selection') {\n        return formatLength((_a = col.width) !== null && _a !== void 0 ? _a : SELECTION_COL_WIDTH);\n    }\n    if (col.type === 'expand') {\n        return formatLength((_b = col.width) !== null && _b !== void 0 ? _b : EXPAND_COL_WIDTH);\n    }\n    if ('children' in col) {\n        return undefined;\n    }\n    return formatLength(col.width);\n}\nexport function getColKey(col) {\n    if (col.type === 'selection')\n        return '__n_selection__';\n    if (col.type === 'expand')\n        return '__n_expand__';\n    return col.key;\n}\nexport function createShallowClonedObject(object) {\n    if (!object)\n        return object;\n    if (typeof object === 'object') {\n        return Object.assign({}, object);\n    }\n    return object;\n}\nexport function getFlagOfOrder(order) {\n    if (order === 'ascend')\n        return 1;\n    else if (order === 'descend')\n        return -1;\n    return 0;\n}\nexport function createCustomWidthStyle(column) {\n    const width = getStringColWidth(column);\n    return {\n        width,\n        minWidth: formatLength(column.minWidth) || width\n    };\n}\nexport function createRowClassName(row, index, rowClassName) {\n    if (typeof rowClassName === 'function')\n        return rowClassName(row, index);\n    return rowClassName || '';\n}\n// for compatibility\n// If column.filterOptionValues or column.defaultFilterOptionValues is set, use\n// array value\nexport function shouldUseArrayInSingleMode(column) {\n    return (column.filterOptionValues !== undefined ||\n        (column.filterOptionValue === undefined &&\n            column.defaultFilterOptionValues !== undefined));\n}\nexport function isColumnSortable(column) {\n    if ('children' in column)\n        return false;\n    return !!column.sorter;\n}\nexport function isColumnFilterable(column) {\n    if ('children' in column)\n        return false;\n    return (!!column.filter && (!!column.filterOptions || !!column.renderFilterMenu));\n}\nfunction getNextOrderOf(order) {\n    if (!order)\n        return 'descend';\n    else if (order === 'descend')\n        return 'ascend';\n    return false;\n}\nexport function createNextSorter(column, currentSortState) {\n    if (column.sorter === undefined)\n        return null;\n    if (currentSortState === null || currentSortState.columnKey !== column.key) {\n        return {\n            columnKey: column.key,\n            sorter: column.sorter,\n            order: getNextOrderOf(false)\n        };\n    }\n    else {\n        return Object.assign(Object.assign({}, currentSortState), { order: getNextOrderOf(currentSortState.order) });\n    }\n}\nexport function isColumnSorting(column, mergedSortState) {\n    return (mergedSortState.find((state) => state.columnKey === column.key && state.order) !== undefined);\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}