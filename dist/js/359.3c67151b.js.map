{"version":3,"file":"js/359.3c67151b.js","mappings":"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","sources":["webpack://shc_community_manager_system/./node_modules/naive-ui/es/form/src/styles/form.cssr.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/form/src/Form.js","webpack://shc_community_manager_system/../../src/util.ts","webpack://shc_community_manager_system/../../src/rule/required.ts","webpack://shc_community_manager_system/../../src/rule/url.ts","webpack://shc_community_manager_system/../../src/rule/whitespace.ts","webpack://shc_community_manager_system/../../src/rule/type.ts","webpack://shc_community_manager_system/../../src/rule/range.ts","webpack://shc_community_manager_system/../../src/rule/enum.ts","webpack://shc_community_manager_system/../../src/rule/pattern.ts","webpack://shc_community_manager_system/../../src/rule/index.ts","webpack://shc_community_manager_system/../../src/validator/string.ts","webpack://shc_community_manager_system/../../src/validator/method.ts","webpack://shc_community_manager_system/../../src/validator/number.ts","webpack://shc_community_manager_system/../../src/validator/boolean.ts","webpack://shc_community_manager_system/../../src/validator/regexp.ts","webpack://shc_community_manager_system/../../src/validator/integer.ts","webpack://shc_community_manager_system/../../src/validator/float.ts","webpack://shc_community_manager_system/../../src/validator/array.ts","webpack://shc_community_manager_system/../../src/validator/object.ts","webpack://shc_community_manager_system/../../src/validator/enum.ts","webpack://shc_community_manager_system/../../src/validator/pattern.ts","webpack://shc_community_manager_system/../../src/validator/date.ts","webpack://shc_community_manager_system/../../src/validator/required.ts","webpack://shc_community_manager_system/../../src/validator/type.ts","webpack://shc_community_manager_system/../../src/validator/any.ts","webpack://shc_community_manager_system/../../src/validator/index.ts","webpack://shc_community_manager_system/../../src/messages.ts","webpack://shc_community_manager_system/../../src/index.ts","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_utils/composable/use-collection.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/form/src/utils.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_styles/transitions/fade-down.cssr.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/form/src/styles/form-item.cssr.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/form/src/FormItem.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/form/src/context.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/message/src/use-message.js","webpack://shc_community_manager_system/./node_modules/vue-loader/dist/exportHelper.js"],"sourcesContent":["import { c, cB, cM } from '../../../_utils/cssr';\nexport default cB('form', [cM('inline', `\n width: 100%;\n display: inline-flex;\n align-items: flex-start;\n align-content: space-around;\n `, [cB('form-item', {\n  width: 'auto',\n  marginRight: '18px'\n}, [c('&:last-child', {\n  marginRight: 0\n})])])]);","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { h, defineComponent, provide, ref } from 'vue';\nimport { useConfig, useTheme } from '../../_mixins';\nimport { formLight } from '../styles';\nimport style from './styles/form.cssr';\nimport { keysOf } from '../../_utils';\nimport { formInjectionKey, formItemInstsInjectionKey } from './context';\nexport const formProps = Object.assign(Object.assign({}, useTheme.props), { inline: Boolean, labelWidth: [Number, String], labelAlign: String, labelPlacement: {\n        type: String,\n        default: 'top'\n    }, model: {\n        type: Object,\n        default: () => { }\n    }, rules: Object, disabled: Boolean, size: String, showRequireMark: {\n        type: Boolean,\n        default: undefined\n    }, requireMarkPlacement: String, showFeedback: {\n        type: Boolean,\n        default: true\n    }, onSubmit: {\n        type: Function,\n        default: (e) => e.preventDefault()\n    }, showLabel: {\n        type: Boolean,\n        default: undefined\n    }, validateMessages: Object });\nexport default defineComponent({\n    name: 'Form',\n    props: formProps,\n    setup(props) {\n        const { mergedClsPrefixRef } = useConfig(props);\n        useTheme('Form', '-form', style, formLight, props, mergedClsPrefixRef);\n        // from path to form-item\n        const formItems = {};\n        // for label-width = 'auto'\n        const maxChildLabelWidthRef = ref(undefined);\n        const deriveMaxChildLabelWidth = (currentWidth) => {\n            const currentMaxChildLabelWidth = maxChildLabelWidthRef.value;\n            if (currentMaxChildLabelWidth === undefined ||\n                currentWidth >= currentMaxChildLabelWidth) {\n                maxChildLabelWidthRef.value = currentWidth;\n            }\n        };\n        function validate(validateCallback, shouldRuleBeApplied = () => true) {\n            return __awaiter(this, void 0, void 0, function* () {\n                return yield new Promise((resolve, reject) => {\n                    const formItemValidationPromises = [];\n                    for (const key of keysOf(formItems)) {\n                        const formItemInstances = formItems[key];\n                        for (const formItemInstance of formItemInstances) {\n                            if (formItemInstance.path) {\n                                formItemValidationPromises.push(formItemInstance.internalValidate(null, shouldRuleBeApplied));\n                            }\n                        }\n                    }\n                    void Promise.all(formItemValidationPromises).then((results) => {\n                        if (results.some((result) => !result.valid)) {\n                            const errors = results\n                                .filter((result) => result.errors)\n                                .map((result) => result.errors);\n                            if (validateCallback) {\n                                validateCallback(errors);\n                            }\n                            reject(errors);\n                        }\n                        else {\n                            if (validateCallback)\n                                validateCallback();\n                            resolve();\n                        }\n                    });\n                });\n            });\n        }\n        function restoreValidation() {\n            for (const key of keysOf(formItems)) {\n                const formItemInstances = formItems[key];\n                for (const formItemInstance of formItemInstances) {\n                    formItemInstance.restoreValidation();\n                }\n            }\n        }\n        provide(formInjectionKey, {\n            props,\n            maxChildLabelWidthRef,\n            deriveMaxChildLabelWidth\n        });\n        provide(formItemInstsInjectionKey, { formItems });\n        const formExposedMethod = {\n            validate,\n            restoreValidation\n        };\n        return Object.assign(formExposedMethod, {\n            mergedClsPrefix: mergedClsPrefixRef\n        });\n    },\n    render() {\n        const { mergedClsPrefix } = this;\n        return (h(\"form\", { class: [\n                `${mergedClsPrefix}-form`,\n                this.inline && `${mergedClsPrefix}-form--inline`\n            ], onSubmit: this.onSubmit }, this.$slots));\n    }\n});\n","/* eslint no-console:0 */\n\nimport {\n  ValidateError,\n  ValidateOption,\n  RuleValuePackage,\n  InternalRuleItem,\n  SyncErrorType,\n  RuleType,\n  Value,\n  Values,\n} from './interface';\n\nconst formatRegExp = /%[sdj%]/g;\n\ndeclare var ASYNC_VALIDATOR_NO_WARNING;\n\nexport let warning: (type: string, errors: SyncErrorType[]) => void = () => {};\n\n// don't print warning message when in production env or node runtime\nif (\n  typeof process !== 'undefined' &&\n  process.env &&\n  process.env.NODE_ENV !== 'production' &&\n  typeof window !== 'undefined' &&\n  typeof document !== 'undefined'\n) {\n  warning = (type, errors) => {\n    if (\n      typeof console !== 'undefined' &&\n      console.warn &&\n      typeof ASYNC_VALIDATOR_NO_WARNING === 'undefined'\n    ) {\n      if (errors.every(e => typeof e === 'string')) {\n        console.warn(type, errors);\n      }\n    }\n  };\n}\n\nexport function convertFieldsError(\n  errors: ValidateError[],\n): Record<string, ValidateError[]> {\n  if (!errors || !errors.length) return null;\n  const fields = {};\n  errors.forEach(error => {\n    const field = error.field;\n    fields[field] = fields[field] || [];\n    fields[field].push(error);\n  });\n  return fields;\n}\n\nexport function format(\n  template: ((...args: any[]) => string) | string,\n  ...args: any[]\n): string {\n  let i = 0;\n  const len = args.length;\n  if (typeof template === 'function') {\n    return template.apply(null, args);\n  }\n  if (typeof template === 'string') {\n    let str = template.replace(formatRegExp, x => {\n      if (x === '%%') {\n        return '%';\n      }\n      if (i >= len) {\n        return x;\n      }\n      switch (x) {\n        case '%s':\n          return String(args[i++]);\n        case '%d':\n          return (Number(args[i++]) as unknown) as string;\n        case '%j':\n          try {\n            return JSON.stringify(args[i++]);\n          } catch (_) {\n            return '[Circular]';\n          }\n          break;\n        default:\n          return x;\n      }\n    });\n    return str;\n  }\n  return template;\n}\n\nfunction isNativeStringType(type: string) {\n  return (\n    type === 'string' ||\n    type === 'url' ||\n    type === 'hex' ||\n    type === 'email' ||\n    type === 'date' ||\n    type === 'pattern'\n  );\n}\n\nexport function isEmptyValue(value: Value, type?: string) {\n  if (value === undefined || value === null) {\n    return true;\n  }\n  if (type === 'array' && Array.isArray(value) && !value.length) {\n    return true;\n  }\n  if (isNativeStringType(type) && typeof value === 'string' && !value) {\n    return true;\n  }\n  return false;\n}\n\nexport function isEmptyObject(obj: object) {\n  return Object.keys(obj).length === 0;\n}\n\nfunction asyncParallelArray(\n  arr: RuleValuePackage[],\n  func: ValidateFunc,\n  callback: (errors: ValidateError[]) => void,\n) {\n  const results: ValidateError[] = [];\n  let total = 0;\n  const arrLength = arr.length;\n\n  function count(errors: ValidateError[]) {\n    results.push(...(errors || []));\n    total++;\n    if (total === arrLength) {\n      callback(results);\n    }\n  }\n\n  arr.forEach(a => {\n    func(a, count);\n  });\n}\n\nfunction asyncSerialArray(\n  arr: RuleValuePackage[],\n  func: ValidateFunc,\n  callback: (errors: ValidateError[]) => void,\n) {\n  let index = 0;\n  const arrLength = arr.length;\n\n  function next(errors: ValidateError[]) {\n    if (errors && errors.length) {\n      callback(errors);\n      return;\n    }\n    const original = index;\n    index = index + 1;\n    if (original < arrLength) {\n      func(arr[original], next);\n    } else {\n      callback([]);\n    }\n  }\n\n  next([]);\n}\n\nfunction flattenObjArr(objArr: Record<string, RuleValuePackage[]>) {\n  const ret: RuleValuePackage[] = [];\n  Object.keys(objArr).forEach(k => {\n    ret.push(...(objArr[k] || []));\n  });\n  return ret;\n}\n\nexport class AsyncValidationError extends Error {\n  errors: ValidateError[];\n  fields: Record<string, ValidateError[]>;\n\n  constructor(\n    errors: ValidateError[],\n    fields: Record<string, ValidateError[]>,\n  ) {\n    super('Async Validation Error');\n    this.errors = errors;\n    this.fields = fields;\n  }\n}\n\ntype ValidateFunc = (\n  data: RuleValuePackage,\n  doIt: (errors: ValidateError[]) => void,\n) => void;\n\nexport function asyncMap(\n  objArr: Record<string, RuleValuePackage[]>,\n  option: ValidateOption,\n  func: ValidateFunc,\n  callback: (errors: ValidateError[]) => void,\n  source: Values,\n): Promise<Values> {\n  if (option.first) {\n    const pending = new Promise<Values>((resolve, reject) => {\n      const next = (errors: ValidateError[]) => {\n        callback(errors);\n        return errors.length\n          ? reject(new AsyncValidationError(errors, convertFieldsError(errors)))\n          : resolve(source);\n      };\n      const flattenArr = flattenObjArr(objArr);\n      asyncSerialArray(flattenArr, func, next);\n    });\n    pending.catch(e => e);\n    return pending;\n  }\n  const firstFields =\n    option.firstFields === true\n      ? Object.keys(objArr)\n      : option.firstFields || [];\n\n  const objArrKeys = Object.keys(objArr);\n  const objArrLength = objArrKeys.length;\n  let total = 0;\n  const results: ValidateError[] = [];\n  const pending = new Promise<Values>((resolve, reject) => {\n    const next = (errors: ValidateError[]) => {\n      results.push.apply(results, errors);\n      total++;\n      if (total === objArrLength) {\n        callback(results);\n        return results.length\n          ? reject(\n              new AsyncValidationError(results, convertFieldsError(results)),\n            )\n          : resolve(source);\n      }\n    };\n    if (!objArrKeys.length) {\n      callback(results);\n      resolve(source);\n    }\n    objArrKeys.forEach(key => {\n      const arr = objArr[key];\n      if (firstFields.indexOf(key) !== -1) {\n        asyncSerialArray(arr, func, next);\n      } else {\n        asyncParallelArray(arr, func, next);\n      }\n    });\n  });\n  pending.catch(e => e);\n  return pending;\n}\n\nfunction isErrorObj(\n  obj: ValidateError | string | (() => string),\n): obj is ValidateError {\n  return !!(obj && (obj as ValidateError).message !== undefined);\n}\n\nfunction getValue(value: Values, path: string[]) {\n  let v = value;\n  for (let i = 0; i < path.length; i++) {\n    if (v == undefined) {\n      return v;\n    }\n    v = v[path[i]];\n  }\n  return v;\n}\n\nexport function complementError(rule: InternalRuleItem, source: Values) {\n  return (oe: ValidateError | (() => string) | string): ValidateError => {\n    let fieldValue;\n    if (rule.fullFields) {\n      fieldValue = getValue(source, rule.fullFields);\n    } else {\n      fieldValue = source[(oe as any).field || rule.fullField];\n    }\n    if (isErrorObj(oe)) {\n      oe.field = oe.field || rule.fullField;\n      oe.fieldValue = fieldValue;\n      return oe;\n    }\n    return {\n      message: typeof oe === 'function' ? oe() : oe,\n      fieldValue,\n      field: ((oe as unknown) as ValidateError).field || rule.fullField,\n    };\n  };\n}\n\nexport function deepMerge<T extends object>(target: T, source: Partial<T>): T {\n  if (source) {\n    for (const s in source) {\n      if (source.hasOwnProperty(s)) {\n        const value = source[s];\n        if (typeof value === 'object' && typeof target[s] === 'object') {\n          target[s] = {\n            ...target[s],\n            ...value,\n          };\n        } else {\n          target[s] = value;\n        }\n      }\n    }\n  }\n  return target;\n}\n","import { ExecuteRule } from '../interface';\nimport { format, isEmptyValue } from '../util';\n\nconst required: ExecuteRule = (rule, value, source, errors, options, type) => {\n  if (\n    rule.required &&\n    (!source.hasOwnProperty(rule.field) ||\n      isEmptyValue(value, type || rule.type))\n  ) {\n    errors.push(format(options.messages.required, rule.fullField));\n  }\n};\n\nexport default required;\n","// https://github.com/kevva/url-regex/blob/master/index.js\nlet urlReg: RegExp;\n\nexport default () => {\n  if (urlReg) {\n    return urlReg;\n  }\n\n  const word = '[a-fA-F\\\\d:]';\n  const b = options =>\n    options && options.includeBoundaries\n      ? `(?:(?<=\\\\s|^)(?=${word})|(?<=${word})(?=\\\\s|$))`\n      : '';\n\n  const v4 =\n    '(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)(?:\\\\.(?:25[0-5]|2[0-4]\\\\d|1\\\\d\\\\d|[1-9]\\\\d|\\\\d)){3}';\n\n  const v6seg = '[a-fA-F\\\\d]{1,4}';\n  const v6 = `\n(?:\n(?:${v6seg}:){7}(?:${v6seg}|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8\n(?:${v6seg}:){6}(?:${v4}|:${v6seg}|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4\n(?:${v6seg}:){5}(?::${v4}|(?::${v6seg}){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4\n(?:${v6seg}:){4}(?:(?::${v6seg}){0,1}:${v4}|(?::${v6seg}){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4\n(?:${v6seg}:){3}(?:(?::${v6seg}){0,2}:${v4}|(?::${v6seg}){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4\n(?:${v6seg}:){2}(?:(?::${v6seg}){0,3}:${v4}|(?::${v6seg}){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4\n(?:${v6seg}:){1}(?:(?::${v6seg}){0,4}:${v4}|(?::${v6seg}){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4\n(?::(?:(?::${v6seg}){0,5}:${v4}|(?::${v6seg}){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4\n)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1\n`\n    .replace(/\\s*\\/\\/.*$/gm, '')\n    .replace(/\\n/g, '')\n    .trim();\n\n  // Pre-compile only the exact regexes because adding a global flag make regexes stateful\n  const v46Exact = new RegExp(`(?:^${v4}$)|(?:^${v6}$)`);\n  const v4exact = new RegExp(`^${v4}$`);\n  const v6exact = new RegExp(`^${v6}$`);\n\n  const ip = options =>\n    options && options.exact\n      ? v46Exact\n      : new RegExp(\n          `(?:${b(options)}${v4}${b(options)})|(?:${b(options)}${v6}${b(\n            options,\n          )})`,\n          'g',\n        );\n\n  ip.v4 = (options?) =>\n    options && options.exact\n      ? v4exact\n      : new RegExp(`${b(options)}${v4}${b(options)}`, 'g');\n  ip.v6 = (options?) =>\n    options && options.exact\n      ? v6exact\n      : new RegExp(`${b(options)}${v6}${b(options)}`, 'g');\n\n  const protocol = `(?:(?:[a-z]+:)?//)`;\n  const auth = '(?:\\\\S+(?::\\\\S*)?@)?';\n  const ipv4 = ip.v4().source;\n  const ipv6 = ip.v6().source;\n  const host = '(?:(?:[a-z\\\\u00a1-\\\\uffff0-9][-_]*)*[a-z\\\\u00a1-\\\\uffff0-9]+)';\n  const domain =\n    '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*';\n  const tld = `(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))`;\n  const port = '(?::\\\\d{2,5})?';\n  const path = '(?:[/?#][^\\\\s\"]*)?';\n  const regex = `(?:${protocol}|www\\\\.)${auth}(?:localhost|${ipv4}|${ipv6}|${host}${domain}${tld})${port}${path}`;\n  urlReg = new RegExp(`(?:^${regex}$)`, 'i');\n  return urlReg;\n};\n","import { ExecuteRule } from '../interface';\nimport { format } from '../util';\n\n/**\n *  Rule for validating whitespace.\n *\n *  @param rule The validation rule.\n *  @param value The value of the field on the source object.\n *  @param source The source object being validated.\n *  @param errors An array of errors that this rule may add\n *  validation errors to.\n *  @param options The validation options.\n *  @param options.messages The validation messages.\n */\nconst whitespace: ExecuteRule = (rule, value, source, errors, options) => {\n  if (/^\\s+$/.test(value) || value === '') {\n    errors.push(format(options.messages.whitespace, rule.fullField));\n  }\n};\n\nexport default whitespace;\n","import { ExecuteRule, Value } from '../interface';\nimport { format } from '../util';\nimport required from './required';\nimport getUrlRegex from './url';\n/* eslint max-len:0 */\n\nconst pattern = {\n  // http://emailregex.com/\n  email: /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+\\.)+[a-zA-Z\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]{2,}))$/,\n  // url: new RegExp(\n  //   '^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\\\S+(?::\\\\S*)?@)?(?:(?:(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}(?:\\\\.(?:[0-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))|(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]+-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]+-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,})))|localhost)(?::\\\\d{2,5})?(?:(/|\\\\?|#)[^\\\\s]*)?$',\n  //   'i',\n  // ),\n  hex: /^#?([a-f0-9]{6}|[a-f0-9]{3})$/i,\n};\n\nconst types = {\n  integer(value: Value) {\n    return types.number(value) && parseInt(value, 10) === value;\n  },\n  float(value: Value) {\n    return types.number(value) && !types.integer(value);\n  },\n  array(value: Value) {\n    return Array.isArray(value);\n  },\n  regexp(value: Value) {\n    if (value instanceof RegExp) {\n      return true;\n    }\n    try {\n      return !!new RegExp(value);\n    } catch (e) {\n      return false;\n    }\n  },\n  date(value: Value) {\n    return (\n      typeof value.getTime === 'function' &&\n      typeof value.getMonth === 'function' &&\n      typeof value.getYear === 'function' &&\n      !isNaN(value.getTime())\n    );\n  },\n  number(value: Value) {\n    if (isNaN(value)) {\n      return false;\n    }\n    return typeof value === 'number';\n  },\n  object(value: Value) {\n    return typeof value === 'object' && !types.array(value);\n  },\n  method(value: Value) {\n    return typeof value === 'function';\n  },\n  email(value: Value) {\n    return (\n      typeof value === 'string' &&\n      value.length <= 320 &&\n      !!value.match(pattern.email)\n    );\n  },\n  url(value: Value) {\n    return (\n      typeof value === 'string' &&\n      value.length <= 2048 &&\n      !!value.match(getUrlRegex())\n    );\n  },\n  hex(value: Value) {\n    return typeof value === 'string' && !!value.match(pattern.hex);\n  },\n};\n\nconst type: ExecuteRule = (rule, value, source, errors, options) => {\n  if (rule.required && value === undefined) {\n    required(rule, value, source, errors, options);\n    return;\n  }\n  const custom = [\n    'integer',\n    'float',\n    'array',\n    'regexp',\n    'object',\n    'method',\n    'email',\n    'number',\n    'date',\n    'url',\n    'hex',\n  ];\n  const ruleType = rule.type;\n  if (custom.indexOf(ruleType) > -1) {\n    if (!types[ruleType](value)) {\n      errors.push(\n        format(options.messages.types[ruleType], rule.fullField, rule.type),\n      );\n    }\n    // straight typeof check\n  } else if (ruleType && typeof value !== rule.type) {\n    errors.push(\n      format(options.messages.types[ruleType], rule.fullField, rule.type),\n    );\n  }\n};\n\nexport default type;\n","import { ExecuteRule } from '../interface';\nimport { format } from '../util';\n\nconst range: ExecuteRule = (rule, value, source, errors, options) => {\n  const len = typeof rule.len === 'number';\n  const min = typeof rule.min === 'number';\n  const max = typeof rule.max === 'number';\n  // U+010000U+10FFFFSupplementary Plane\n  const spRegexp = /[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g;\n  let val = value;\n  let key = null;\n  const num = typeof value === 'number';\n  const str = typeof value === 'string';\n  const arr = Array.isArray(value);\n  if (num) {\n    key = 'number';\n  } else if (str) {\n    key = 'string';\n  } else if (arr) {\n    key = 'array';\n  }\n  // if the value is not of a supported type for range validation\n  // the validation rule rule should use the\n  // type property to also test for a particular type\n  if (!key) {\n    return false;\n  }\n  if (arr) {\n    val = value.length;\n  }\n  if (str) {\n    // U+010000lengthbug\"\".lenght !== 3\n    val = value.replace(spRegexp, '_').length;\n  }\n  if (len) {\n    if (val !== rule.len) {\n      errors.push(format(options.messages[key].len, rule.fullField, rule.len));\n    }\n  } else if (min && !max && val < rule.min) {\n    errors.push(format(options.messages[key].min, rule.fullField, rule.min));\n  } else if (max && !min && val > rule.max) {\n    errors.push(format(options.messages[key].max, rule.fullField, rule.max));\n  } else if (min && max && (val < rule.min || val > rule.max)) {\n    errors.push(\n      format(options.messages[key].range, rule.fullField, rule.min, rule.max),\n    );\n  }\n};\n\nexport default range;\n","import { ExecuteRule } from '../interface';\nimport { format } from '../util';\n\nconst ENUM = 'enum' as const;\n\nconst enumerable: ExecuteRule = (rule, value, source, errors, options) => {\n  rule[ENUM] = Array.isArray(rule[ENUM]) ? rule[ENUM] : [];\n  if (rule[ENUM].indexOf(value) === -1) {\n    errors.push(\n      format(options.messages[ENUM], rule.fullField, rule[ENUM].join(', ')),\n    );\n  }\n};\n\nexport default enumerable;\n","import { ExecuteRule } from '../interface';\nimport { format } from '../util';\n\nconst pattern: ExecuteRule = (rule, value, source, errors, options) => {\n  if (rule.pattern) {\n    if (rule.pattern instanceof RegExp) {\n      // if a RegExp instance is passed, reset `lastIndex` in case its `global`\n      // flag is accidentally set to `true`, which in a validation scenario\n      // is not necessary and the result might be misleading\n      rule.pattern.lastIndex = 0;\n      if (!rule.pattern.test(value)) {\n        errors.push(\n          format(\n            options.messages.pattern.mismatch,\n            rule.fullField,\n            value,\n            rule.pattern,\n          ),\n        );\n      }\n    } else if (typeof rule.pattern === 'string') {\n      const _pattern = new RegExp(rule.pattern);\n      if (!_pattern.test(value)) {\n        errors.push(\n          format(\n            options.messages.pattern.mismatch,\n            rule.fullField,\n            value,\n            rule.pattern,\n          ),\n        );\n      }\n    }\n  }\n};\n\nexport default pattern;\n","import required from './required';\nimport whitespace from './whitespace';\nimport type from './type';\nimport range from './range';\nimport enumRule from './enum';\nimport pattern from './pattern';\n\nexport default {\n  required,\n  whitespace,\n  type,\n  range,\n  enum: enumRule,\n  pattern,\n};\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule';\nimport { isEmptyValue } from '../util';\n\nconst string: ExecuteValidator = (rule, value, callback, source, options) => {\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  if (validate) {\n    if (isEmptyValue(value, 'string') && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options, 'string');\n    if (!isEmptyValue(value, 'string')) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n      rules.pattern(rule, value, source, errors, options);\n      if (rule.whitespace === true) {\n        rules.whitespace(rule, value, source, errors, options);\n      }\n    }\n  }\n  callback(errors);\n};\n\nexport default string;\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule';\nimport { isEmptyValue } from '../util';\n\nconst method: ExecuteValidator = (rule, value, callback, source, options) => {\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n};\n\nexport default method;\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule';\nimport { isEmptyValue } from '../util';\n\nconst number: ExecuteValidator = (rule, value, callback, source, options) => {\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  if (validate) {\n    if (value === '') {\n      value = undefined;\n    }\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n};\n\nexport default number;\n","import { isEmptyValue } from '../util';\nimport rules from '../rule';\nimport { ExecuteValidator } from '../interface';\n\nconst boolean: ExecuteValidator = (rule, value, callback, source, options) => {\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n};\n\nexport default boolean;\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule';\nimport { isEmptyValue } from '../util';\n\nconst regexp: ExecuteValidator = (rule, value, callback, source, options) => {\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (!isEmptyValue(value)) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n};\n\nexport default regexp;\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule';\nimport { isEmptyValue } from '../util';\n\nconst integer: ExecuteValidator = (rule, value, callback, source, options) => {\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n};\n\nexport default integer;\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule';\nimport { isEmptyValue } from '../util';\n\nconst floatFn: ExecuteValidator = (rule, value, callback, source, options) => {\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n};\n\nexport default floatFn;\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule/index';\n\nconst array: ExecuteValidator = (rule, value, callback, source, options) => {\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  if (validate) {\n    if ((value === undefined || value === null) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options, 'array');\n    if (value !== undefined && value !== null) {\n      rules.type(rule, value, source, errors, options);\n      rules.range(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n};\n\nexport default array;\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule';\nimport { isEmptyValue } from '../util';\n\nconst object: ExecuteValidator = (rule, value, callback, source, options) => {\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n};\n\nexport default object;\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule';\nimport { isEmptyValue } from '../util';\n\nconst ENUM = 'enum' as const;\n\nconst enumerable: ExecuteValidator = (\n  rule,\n  value,\n  callback,\n  source,\n  options,\n) => {\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (value !== undefined) {\n      rules[ENUM](rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n};\n\nexport default enumerable;\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule';\nimport { isEmptyValue } from '../util';\n\nconst pattern: ExecuteValidator = (rule, value, callback, source, options) => {\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  if (validate) {\n    if (isEmptyValue(value, 'string') && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (!isEmptyValue(value, 'string')) {\n      rules.pattern(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n};\n\nexport default pattern;\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule';\nimport { isEmptyValue } from '../util';\n\nconst date: ExecuteValidator = (rule, value, callback, source, options) => {\n  // console.log('integer rule called %j', rule);\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  // console.log('validate on %s value', value);\n  if (validate) {\n    if (isEmptyValue(value, 'date') && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n    if (!isEmptyValue(value, 'date')) {\n      let dateObject;\n\n      if (value instanceof Date) {\n        dateObject = value;\n      } else {\n        dateObject = new Date(value);\n      }\n\n      rules.type(rule, dateObject, source, errors, options);\n      if (dateObject) {\n        rules.range(rule, dateObject.getTime(), source, errors, options);\n      }\n    }\n  }\n  callback(errors);\n};\n\nexport default date;\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule';\n\nconst required: ExecuteValidator = (rule, value, callback, source, options) => {\n  const errors: string[] = [];\n  const type = Array.isArray(value) ? 'array' : typeof value;\n  rules.required(rule, value, source, errors, options, type);\n  callback(errors);\n};\n\nexport default required;\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule';\nimport { isEmptyValue } from '../util';\n\nconst type: ExecuteValidator = (rule, value, callback, source, options) => {\n  const ruleType = rule.type;\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  if (validate) {\n    if (isEmptyValue(value, ruleType) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options, ruleType);\n    if (!isEmptyValue(value, ruleType)) {\n      rules.type(rule, value, source, errors, options);\n    }\n  }\n  callback(errors);\n};\n\nexport default type;\n","import { ExecuteValidator } from '../interface';\nimport rules from '../rule';\nimport { isEmptyValue } from '../util';\n\nconst any: ExecuteValidator = (rule, value, callback, source, options) => {\n  const errors: string[] = [];\n  const validate =\n    rule.required || (!rule.required && source.hasOwnProperty(rule.field));\n  if (validate) {\n    if (isEmptyValue(value) && !rule.required) {\n      return callback();\n    }\n    rules.required(rule, value, source, errors, options);\n  }\n  callback(errors);\n};\n\nexport default any;\n","import string from './string';\nimport method from './method';\nimport number from './number';\nimport boolean from './boolean';\nimport regexp from './regexp';\nimport integer from './integer';\nimport float from './float';\nimport array from './array';\nimport object from './object';\nimport enumValidator from './enum';\nimport pattern from './pattern';\nimport date from './date';\nimport required from './required';\nimport type from './type';\nimport any from './any';\n\nexport default {\n  string,\n  method,\n  number,\n  boolean,\n  regexp,\n  integer,\n  float,\n  array,\n  object,\n  enum: enumValidator,\n  pattern,\n  date,\n  url: type,\n  hex: type,\n  email: type,\n  required,\n  any,\n};\n","import { InternalValidateMessages } from './interface';\n\nexport function newMessages(): InternalValidateMessages {\n  return {\n    default: 'Validation error on field %s',\n    required: '%s is required',\n    enum: '%s must be one of %s',\n    whitespace: '%s cannot be empty',\n    date: {\n      format: '%s date %s is invalid for format %s',\n      parse: '%s date could not be parsed, %s is invalid ',\n      invalid: '%s date %s is invalid',\n    },\n    types: {\n      string: '%s is not a %s',\n      method: '%s is not a %s (function)',\n      array: '%s is not an %s',\n      object: '%s is not an %s',\n      number: '%s is not a %s',\n      date: '%s is not a %s',\n      boolean: '%s is not a %s',\n      integer: '%s is not an %s',\n      float: '%s is not a %s',\n      regexp: '%s is not a valid %s',\n      email: '%s is not a valid %s',\n      url: '%s is not a valid %s',\n      hex: '%s is not a valid %s',\n    },\n    string: {\n      len: '%s must be exactly %s characters',\n      min: '%s must be at least %s characters',\n      max: '%s cannot be longer than %s characters',\n      range: '%s must be between %s and %s characters',\n    },\n    number: {\n      len: '%s must equal %s',\n      min: '%s cannot be less than %s',\n      max: '%s cannot be greater than %s',\n      range: '%s must be between %s and %s',\n    },\n    array: {\n      len: '%s must be exactly %s in length',\n      min: '%s cannot be less than %s in length',\n      max: '%s cannot be greater than %s in length',\n      range: '%s must be between %s and %s in length',\n    },\n    pattern: {\n      mismatch: '%s value %s does not match pattern %s',\n    },\n    clone() {\n      const cloned = JSON.parse(JSON.stringify(this));\n      cloned.clone = this.clone;\n      return cloned;\n    },\n  };\n}\n\nexport const messages = newMessages();\n","import {\n  format,\n  complementError,\n  asyncMap,\n  warning,\n  deepMerge,\n  convertFieldsError,\n} from './util';\nimport validators from './validator/index';\nimport { messages as defaultMessages, newMessages } from './messages';\nimport {\n  InternalRuleItem,\n  InternalValidateMessages,\n  Rule,\n  RuleItem,\n  Rules,\n  ValidateCallback,\n  ValidateMessages,\n  ValidateOption,\n  Values,\n  RuleValuePackage,\n  ValidateError,\n  ValidateFieldsError,\n  SyncErrorType,\n  ValidateResult,\n} from './interface';\n\nexport * from './interface';\n\n/**\n *  Encapsulates a validation schema.\n *\n *  @param descriptor An object declaring validation rules\n *  for this schema.\n */\nclass Schema {\n  // ========================= Static =========================\n  static register = function register(type: string, validator) {\n    if (typeof validator !== 'function') {\n      throw new Error(\n        'Cannot register a validator by type, validator is not a function',\n      );\n    }\n    validators[type] = validator;\n  };\n\n  static warning = warning;\n\n  static messages = defaultMessages;\n\n  static validators = validators;\n\n  // ======================== Instance ========================\n  rules: Record<string, RuleItem[]> = null;\n  _messages: InternalValidateMessages = defaultMessages;\n\n  constructor(descriptor: Rules) {\n    this.define(descriptor);\n  }\n\n  define(rules: Rules) {\n    if (!rules) {\n      throw new Error('Cannot configure a schema with no rules');\n    }\n    if (typeof rules !== 'object' || Array.isArray(rules)) {\n      throw new Error('Rules must be an object');\n    }\n    this.rules = {};\n\n    Object.keys(rules).forEach(name => {\n      const item: Rule = rules[name];\n      this.rules[name] = Array.isArray(item) ? item : [item];\n    });\n  }\n\n  messages(messages?: ValidateMessages) {\n    if (messages) {\n      this._messages = deepMerge(newMessages(), messages);\n    }\n    return this._messages;\n  }\n\n  validate(\n    source: Values,\n    option?: ValidateOption,\n    callback?: ValidateCallback,\n  ): Promise<Values>;\n  validate(source: Values, callback: ValidateCallback): Promise<Values>;\n  validate(source: Values): Promise<Values>;\n\n  validate(source_: Values, o: any = {}, oc: any = () => {}): Promise<Values> {\n    let source: Values = source_;\n    let options: ValidateOption = o;\n    let callback: ValidateCallback = oc;\n    if (typeof options === 'function') {\n      callback = options;\n      options = {};\n    }\n    if (!this.rules || Object.keys(this.rules).length === 0) {\n      if (callback) {\n        callback(null, source);\n      }\n      return Promise.resolve(source);\n    }\n\n    function complete(results: (ValidateError | ValidateError[])[]) {\n      let errors: ValidateError[] = [];\n      let fields: ValidateFieldsError = {};\n\n      function add(e: ValidateError | ValidateError[]) {\n        if (Array.isArray(e)) {\n          errors = errors.concat(...e);\n        } else {\n          errors.push(e);\n        }\n      }\n\n      for (let i = 0; i < results.length; i++) {\n        add(results[i]);\n      }\n      if (!errors.length) {\n        callback(null, source);\n      } else {\n        fields = convertFieldsError(errors);\n        (callback as (\n          errors: ValidateError[],\n          fields: ValidateFieldsError,\n        ) => void)(errors, fields);\n      }\n    }\n\n    if (options.messages) {\n      let messages = this.messages();\n      if (messages === defaultMessages) {\n        messages = newMessages();\n      }\n      deepMerge(messages, options.messages);\n      options.messages = messages;\n    } else {\n      options.messages = this.messages();\n    }\n\n    const series: Record<string, RuleValuePackage[]> = {};\n    const keys = options.keys || Object.keys(this.rules);\n    keys.forEach(z => {\n      const arr = this.rules[z];\n      let value = source[z];\n      arr.forEach(r => {\n        let rule: InternalRuleItem = r;\n        if (typeof rule.transform === 'function') {\n          if (source === source_) {\n            source = { ...source };\n          }\n          value = source[z] = rule.transform(value);\n        }\n        if (typeof rule === 'function') {\n          rule = {\n            validator: rule,\n          };\n        } else {\n          rule = { ...rule };\n        }\n\n        // Fill validator. Skip if nothing need to validate\n        rule.validator = this.getValidationMethod(rule);\n        if (!rule.validator) {\n          return;\n        }\n\n        rule.field = z;\n        rule.fullField = rule.fullField || z;\n        rule.type = this.getType(rule);\n        series[z] = series[z] || [];\n        series[z].push({\n          rule,\n          value,\n          source,\n          field: z,\n        });\n      });\n    });\n    const errorFields = {};\n    return asyncMap(\n      series,\n      options,\n      (data, doIt) => {\n        const rule = data.rule;\n        let deep =\n          (rule.type === 'object' || rule.type === 'array') &&\n          (typeof rule.fields === 'object' ||\n            typeof rule.defaultField === 'object');\n        deep = deep && (rule.required || (!rule.required && data.value));\n        rule.field = data.field;\n\n        function addFullField(key: string, schema: RuleItem) {\n          return {\n            ...schema,\n            fullField: `${rule.fullField}.${key}`,\n            fullFields: rule.fullFields ? [...rule.fullFields, key] : [key],\n          };\n        }\n\n        function cb(e: SyncErrorType | SyncErrorType[] = []) {\n          let errorList = Array.isArray(e) ? e : [e];\n          if (!options.suppressWarning && errorList.length) {\n            Schema.warning('async-validator:', errorList);\n          }\n          if (errorList.length && rule.message !== undefined) {\n            errorList = [].concat(rule.message);\n          }\n\n          // Fill error info\n          let filledErrors = errorList.map(complementError(rule, source));\n\n          if (options.first && filledErrors.length) {\n            errorFields[rule.field] = 1;\n            return doIt(filledErrors);\n          }\n          if (!deep) {\n            doIt(filledErrors);\n          } else {\n            // if rule is required but the target object\n            // does not exist fail at the rule level and don't\n            // go deeper\n            if (rule.required && !data.value) {\n              if (rule.message !== undefined) {\n                filledErrors = []\n                  .concat(rule.message)\n                  .map(complementError(rule, source));\n              } else if (options.error) {\n                filledErrors = [\n                  options.error(\n                    rule,\n                    format(options.messages.required, rule.field),\n                  ),\n                ];\n              }\n              return doIt(filledErrors);\n            }\n\n            let fieldsSchema: Record<string, Rule> = {};\n            if (rule.defaultField) {\n              Object.keys(data.value).map(key => {\n                fieldsSchema[key] = rule.defaultField;\n              });\n            }\n            fieldsSchema = {\n              ...fieldsSchema,\n              ...data.rule.fields,\n            };\n\n            const paredFieldsSchema: Record<string, RuleItem[]> = {};\n\n            Object.keys(fieldsSchema).forEach(field => {\n              const fieldSchema = fieldsSchema[field];\n              const fieldSchemaList = Array.isArray(fieldSchema)\n                ? fieldSchema\n                : [fieldSchema];\n              paredFieldsSchema[field] = fieldSchemaList.map(\n                addFullField.bind(null, field),\n              );\n            });\n            const schema = new Schema(paredFieldsSchema);\n            schema.messages(options.messages);\n            if (data.rule.options) {\n              data.rule.options.messages = options.messages;\n              data.rule.options.error = options.error;\n            }\n            schema.validate(data.value, data.rule.options || options, errs => {\n              const finalErrors = [];\n              if (filledErrors && filledErrors.length) {\n                finalErrors.push(...filledErrors);\n              }\n              if (errs && errs.length) {\n                finalErrors.push(...errs);\n              }\n              doIt(finalErrors.length ? finalErrors : null);\n            });\n          }\n        }\n\n        let res: ValidateResult;\n        if (rule.asyncValidator) {\n          res = rule.asyncValidator(rule, data.value, cb, data.source, options);\n        } else if (rule.validator) {\n          try {\n            res = rule.validator(rule, data.value, cb, data.source, options);\n          } catch (error) {\n            console.error?.(error);\n            // rethrow to report error\n            if (!options.suppressValidatorError) {\n              setTimeout(() => {\n                throw error;\n              }, 0);\n            }\n            cb(error.message);\n          }\n          if (res === true) {\n            cb();\n          } else if (res === false) {\n            cb(\n              typeof rule.message === 'function'\n                ? rule.message(rule.fullField || rule.field)\n                : rule.message || `${rule.fullField || rule.field} fails`,\n            );\n          } else if (res instanceof Array) {\n            cb(res);\n          } else if (res instanceof Error) {\n            cb(res.message);\n          }\n        }\n        if (res && (res as Promise<void>).then) {\n          (res as Promise<void>).then(\n            () => cb(),\n            e => cb(e),\n          );\n        }\n      },\n      results => {\n        complete(results);\n      },\n      source,\n    );\n  }\n\n  getType(rule: InternalRuleItem) {\n    if (rule.type === undefined && rule.pattern instanceof RegExp) {\n      rule.type = 'pattern';\n    }\n    if (\n      typeof rule.validator !== 'function' &&\n      rule.type &&\n      !validators.hasOwnProperty(rule.type)\n    ) {\n      throw new Error(format('Unknown rule type %s', rule.type));\n    }\n    return rule.type || 'string';\n  }\n\n  getValidationMethod(rule: InternalRuleItem) {\n    if (typeof rule.validator === 'function') {\n      return rule.validator;\n    }\n    const keys = Object.keys(rule);\n    const messageIndex = keys.indexOf('message');\n    if (messageIndex !== -1) {\n      keys.splice(messageIndex, 1);\n    }\n    if (keys.length === 1 && keys[0] === 'required') {\n      return validators.required;\n    }\n    return validators[this.getType(rule)] || undefined;\n  }\n}\n\nexport default Schema;\n","import { watch, onMounted, inject, getCurrentInstance, onBeforeUnmount } from 'vue';\n// injection.collection {\n//   key1: [insta, instb]\n//   key2: [instc]\n// }\nexport function useInjectionInstanceCollection(injectionName, collectionKey, registerKeyRef) {\n    var _a;\n    const injection = inject(injectionName, null);\n    if (injection === null)\n        return;\n    const vm = (_a = getCurrentInstance()) === null || _a === void 0 ? void 0 : _a.proxy;\n    watch(registerKeyRef, registerInstance);\n    registerInstance(registerKeyRef.value);\n    onBeforeUnmount(() => {\n        registerInstance(undefined, registerKeyRef.value);\n    });\n    function registerInstance(key, oldKey) {\n        const collection = injection[collectionKey];\n        if (oldKey !== undefined)\n            removeInstance(collection, oldKey);\n        if (key !== undefined)\n            addInstance(collection, key);\n    }\n    function removeInstance(collection, key) {\n        if (!collection[key])\n            collection[key] = [];\n        collection[key].splice(collection[key].findIndex((instance) => instance === vm), 1);\n    }\n    function addInstance(collection, key) {\n        if (!collection[key])\n            collection[key] = [];\n        if (!~collection[key].findIndex((instance) => instance === vm)) {\n            collection[key].push(vm);\n        }\n    }\n}\n// injection.collection {\n//   key1: [insta.value, instb.value]\n//   key2: [instc.value]\n// }\nexport function useInjectionCollection(injectionName, collectionKey, valueRef) {\n    const injection = inject(injectionName, null);\n    if (injection === null)\n        return;\n    if (!(collectionKey in injection)) {\n        injection[collectionKey] = [];\n    }\n    injection[collectionKey].push(valueRef.value);\n    watch(valueRef, (value, prevValue) => {\n        const collectionArray = injection[collectionKey];\n        const index = collectionArray.findIndex((collectionValue) => collectionValue === prevValue);\n        if (~index)\n            collectionArray.splice(index, 1);\n        collectionArray.push(value);\n    });\n    onBeforeUnmount(() => {\n        const collectionArray = injection[collectionKey];\n        const index = collectionArray.findIndex((collectionValue) => collectionValue === valueRef.value);\n        if (~index)\n            collectionArray.splice(index, 1);\n    });\n}\n// injection.collection {\n//   key1: [insta.$el, instb.$el]\n//   key2: [instc.$el]\n// }\nexport function useInjectionElementCollection(injectionName, collectionKey, getElement) {\n    const injection = inject(injectionName, null);\n    if (injection === null)\n        return;\n    if (!(collectionKey in injection)) {\n        injection[collectionKey] = [];\n    }\n    onMounted(() => {\n        const el = getElement();\n        if (!el)\n            return;\n        injection[collectionKey].push(el);\n    });\n    onBeforeUnmount(() => {\n        const collectionArray = injection[collectionKey];\n        const element = getElement();\n        const index = collectionArray.findIndex((collectionElement) => collectionElement === element);\n        if (~index)\n            collectionArray.splice(index, 1);\n    });\n}\n","import { inject, computed, ref } from 'vue';\nimport { get } from 'lodash-es';\nimport { formInjectionKey } from './context';\nimport { formatLength } from '../../_utils';\nexport function formItemSize(props) {\n    const NForm = inject(formInjectionKey, null);\n    return {\n        mergedSize: computed(() => {\n            if (props.size !== undefined)\n                return props.size;\n            if ((NForm === null || NForm === void 0 ? void 0 : NForm.props.size) !== undefined)\n                return NForm.props.size;\n            return 'medium';\n        })\n    };\n}\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function formItemMisc(props) {\n    const NForm = inject(formInjectionKey, null);\n    const mergedLabelPlacementRef = computed(() => {\n        const { labelPlacement } = props;\n        if (labelPlacement !== undefined)\n            return labelPlacement;\n        if (NForm === null || NForm === void 0 ? void 0 : NForm.props.labelPlacement)\n            return NForm.props.labelPlacement;\n        return 'top';\n    });\n    const isAutoLabelWidthRef = computed(() => {\n        return (mergedLabelPlacementRef.value === 'left' &&\n            (props.labelWidth === 'auto' || (NForm === null || NForm === void 0 ? void 0 : NForm.props.labelWidth) === 'auto'));\n    });\n    const mergedLabelWidthRef = computed(() => {\n        if (mergedLabelPlacementRef.value === 'top')\n            return;\n        const { labelWidth } = props;\n        if (labelWidth !== undefined && labelWidth !== 'auto') {\n            return formatLength(labelWidth);\n        }\n        if (isAutoLabelWidthRef.value) {\n            const autoComputedWidth = NForm === null || NForm === void 0 ? void 0 : NForm.maxChildLabelWidthRef.value;\n            if (autoComputedWidth !== undefined) {\n                return formatLength(autoComputedWidth);\n            }\n            else {\n                return undefined;\n            }\n        }\n        if ((NForm === null || NForm === void 0 ? void 0 : NForm.props.labelWidth) !== undefined) {\n            return formatLength(NForm.props.labelWidth);\n        }\n        return undefined;\n    });\n    const mergedLabelAlignRef = computed(() => {\n        const { labelAlign } = props;\n        if (labelAlign)\n            return labelAlign;\n        if (NForm === null || NForm === void 0 ? void 0 : NForm.props.labelAlign)\n            return NForm.props.labelAlign;\n        return undefined;\n    });\n    const mergedLabelStyleRef = computed(() => {\n        var _a;\n        return [\n            (_a = props.labelProps) === null || _a === void 0 ? void 0 : _a.style,\n            props.labelStyle,\n            {\n                width: mergedLabelWidthRef.value\n            }\n        ];\n    });\n    const mergedShowRequireMarkRef = computed(() => {\n        const { showRequireMark } = props;\n        if (showRequireMark !== undefined)\n            return showRequireMark;\n        return NForm === null || NForm === void 0 ? void 0 : NForm.props.showRequireMark;\n    });\n    const mergedRequireMarkPlacementRef = computed(() => {\n        const { requireMarkPlacement } = props;\n        if (requireMarkPlacement !== undefined)\n            return requireMarkPlacement;\n        return (NForm === null || NForm === void 0 ? void 0 : NForm.props.requireMarkPlacement) || 'right';\n    });\n    const validationErroredRef = ref(false);\n    const mergedValidationStatusRef = computed(() => {\n        const { validationStatus } = props;\n        if (validationStatus !== undefined)\n            return validationStatus;\n        if (validationErroredRef.value)\n            return 'error';\n        return undefined;\n    });\n    const mergedShowFeedbackRef = computed(() => {\n        const { showFeedback } = props;\n        if (showFeedback !== undefined)\n            return showFeedback;\n        if ((NForm === null || NForm === void 0 ? void 0 : NForm.props.showFeedback) !== undefined)\n            return NForm.props.showFeedback;\n        return true;\n    });\n    const mergedShowLabelRef = computed(() => {\n        const { showLabel } = props;\n        if (showLabel !== undefined)\n            return showLabel;\n        if ((NForm === null || NForm === void 0 ? void 0 : NForm.props.showLabel) !== undefined)\n            return NForm.props.showLabel;\n        return true;\n    });\n    return {\n        validationErrored: validationErroredRef,\n        mergedLabelStyle: mergedLabelStyleRef,\n        mergedLabelPlacement: mergedLabelPlacementRef,\n        mergedLabelAlign: mergedLabelAlignRef,\n        mergedShowRequireMark: mergedShowRequireMarkRef,\n        mergedRequireMarkPlacement: mergedRequireMarkPlacementRef,\n        mergedValidationStatus: mergedValidationStatusRef,\n        mergedShowFeedback: mergedShowFeedbackRef,\n        mergedShowLabel: mergedShowLabelRef,\n        isAutoLabelWidth: isAutoLabelWidthRef\n    };\n}\n// eslint-disable-next-line @typescript-eslint/explicit-function-return-type\nexport function formItemRule(props) {\n    const NForm = inject(formInjectionKey, null);\n    const compatibleRulePathRef = computed(() => {\n        const { rulePath } = props;\n        if (rulePath !== undefined)\n            return rulePath;\n        const { path } = props;\n        if (path !== undefined)\n            return path;\n        return undefined;\n    });\n    const mergedRulesRef = computed(() => {\n        const rules = [];\n        const { rule } = props;\n        if (rule !== undefined) {\n            if (Array.isArray(rule))\n                rules.push(...rule);\n            else\n                rules.push(rule);\n        }\n        if (NForm) {\n            const { rules: formRules } = NForm.props;\n            const { value: rulePath } = compatibleRulePathRef;\n            if (formRules !== undefined && rulePath !== undefined) {\n                const formRule = get(formRules, rulePath);\n                if (formRule !== undefined) {\n                    if (Array.isArray(formRule)) {\n                        rules.push(...formRule);\n                    }\n                    else {\n                        // terminate object must be a form item rule\n                        rules.push(formRule);\n                    }\n                }\n            }\n        }\n        return rules;\n    });\n    const hasRequiredRuleRef = computed(() => {\n        return mergedRulesRef.value.some((rule) => rule.required);\n    });\n    // deprecated\n    const mergedRequiredRef = computed(() => {\n        return hasRequiredRuleRef.value || props.required;\n    });\n    return {\n        mergedRules: mergedRulesRef,\n        mergedRequired: mergedRequiredRef\n    };\n}\n","import { c } from '../../_utils/cssr';\nimport commonVariables from '../common/_common';\nconst {\n  cubicBezierEaseInOut\n} = commonVariables;\nexport function fadeDownTransition({\n  name = 'fade-down',\n  fromOffset = '-4px',\n  enterDuration = '.3s',\n  leaveDuration = '.3s',\n  enterCubicBezier = cubicBezierEaseInOut,\n  leaveCubicBezier = cubicBezierEaseInOut\n} = {}) {\n  return [c(`&.${name}-transition-enter-from, &.${name}-transition-leave-to`, {\n    opacity: 0,\n    transform: `translateY(${fromOffset})`\n  }), c(`&.${name}-transition-enter-to, &.${name}-transition-leave-from`, {\n    opacity: 1,\n    transform: 'translateY(0)'\n  }), c(`&.${name}-transition-leave-active`, {\n    transition: `opacity ${leaveDuration} ${leaveCubicBezier}, transform ${leaveDuration} ${leaveCubicBezier}`\n  }), c(`&.${name}-transition-enter-active`, {\n    transition: `opacity ${enterDuration} ${enterCubicBezier}, transform ${enterDuration} ${enterCubicBezier}`\n  })];\n}","import { cB, cE, cM, c } from '../../../_utils/cssr';\nimport { fadeDownTransition } from '../../../_styles/transitions/fade-down.cssr'; // vars:\n// --n-line-height\n// --n-blank-height\n// --n-feedback-padding\n// --n-feedback-font-size\n// --n-label-font-size-left\n// --n-label-font-size-top\n// --n-label-height\n// --n-label-padding\n// --n-asterisk-color\n// --n-label-text-color\n// --n-bezier\n// --n-feedback-text-color\n// --n-feedback-text-color-warning\n// --n-feedback-text-color-error\n// --n-label-text-align\n// --n-label-padding\n\nexport default cB('form-item', `\n display: grid;\n line-height: var(--n-line-height);\n`, [cB('form-item-label', `\n grid-area: label;\n align-items: center;\n line-height: 1.25;\n text-align: var(--n-label-text-align);\n font-size: var(--n-label-font-size);\n min-height: var(--n-label-height);\n padding: var(--n-label-padding);\n color: var(--n-label-text-color);\n transition: color .3s var(--n-bezier);\n box-sizing: border-box;\n `, [cE('asterisk', `\n white-space: nowrap;\n user-select: none;\n -webkit-user-select: none;\n color: var(--n-asterisk-color);\n transition: color .3s var(--n-bezier);\n `), cE('asterisk-placeholder', `\n grid-area: mark;\n user-select: none;\n -webkit-user-select: none;\n visibility: hidden; \n `)]), cB('form-item-blank', `\n grid-area: blank;\n min-height: var(--n-blank-height);\n `), cM('auto-label-width', [cB('form-item-label', 'white-space: nowrap;')]), cM('left-labelled', `\n grid-template-areas:\n \"label blank\"\n \"label feedback\";\n grid-template-columns: auto minmax(0, 1fr);\n grid-template-rows: auto 1fr;\n align-items: start;\n `, [cB('form-item-label', `\n display: grid;\n grid-template-columns: 1fr auto;\n min-height: var(--n-blank-height);\n height: auto;\n box-sizing: border-box;\n flex-shrink: 0;\n flex-grow: 0;\n `, [cM('left-mark', `\n grid-template-areas:\n \"mark text\"\n \". text\";\n `), cM('right-mark', `\n grid-template-areas: \n \"text mark\"\n \"text .\";\n `), cM('right-hanging-mark', `\n grid-template-areas: \n \"text mark\"\n \"text .\";\n `), cE('text', `\n grid-area: text; \n `), cE('asterisk', `\n grid-area: mark; \n align-self: end;\n `)])]), cM('top-labelled', `\n grid-template-areas:\n \"label\"\n \"blank\"\n \"feedback\";\n grid-template-rows: minmax(var(--n-label-height), auto) 1fr;\n grid-template-columns: minmax(0, 100%);\n `, [cM('no-label', `\n grid-template-areas:\n \"blank\"\n \"feedback\";\n grid-template-rows: 1fr;\n `), cB('form-item-label', `\n display: flex;\n align-items: flex-start;\n justify-content: var(--n-label-text-align);\n `)]), cB('form-item-blank', `\n box-sizing: border-box;\n display: flex;\n align-items: center;\n position: relative;\n `), cB('form-item-feedback-wrapper', `\n grid-area: feedback;\n box-sizing: border-box;\n min-height: var(--n-feedback-height);\n font-size: var(--n-feedback-font-size);\n line-height: 1.25;\n transform-origin: top left;\n `, [c('&:not(:empty)', `\n padding: var(--n-feedback-padding);\n `), cB('form-item-feedback', {\n  transition: 'color .3s var(--n-bezier)',\n  color: 'var(--n-feedback-text-color)'\n}, [cM('warning', {\n  color: 'var(--n-feedback-text-color-warning)'\n}), cM('error', {\n  color: 'var(--n-feedback-text-color-error)'\n}), fadeDownTransition({\n  fromOffset: '-3px',\n  enterDuration: '.3s',\n  leaveDuration: '.2s'\n})])])]);","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { h, defineComponent, computed, toRef, ref, provide, inject, watch, Transition, onMounted } from 'vue';\nimport Schema from 'async-validator';\nimport { get } from 'lodash-es';\nimport { createId } from 'seemly';\nimport { formItemInjectionKey } from '../../_mixins/use-form-item';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { warn, createKey, useInjectionInstanceCollection, keysOf, resolveWrappedSlot } from '../../_utils';\nimport { formLight } from '../styles';\nimport { formItemMisc, formItemSize, formItemRule } from './utils';\nimport { formInjectionKey, formItemInstsInjectionKey } from './context';\nimport style from './styles/form-item.cssr';\nexport const formItemProps = Object.assign(Object.assign({}, useTheme.props), { label: String, labelWidth: [Number, String], labelStyle: [String, Object], labelAlign: String, labelPlacement: String, path: String, first: Boolean, rulePath: String, required: Boolean, showRequireMark: {\n        type: Boolean,\n        default: undefined\n    }, requireMarkPlacement: String, showFeedback: {\n        type: Boolean,\n        default: undefined\n    }, rule: [Object, Array], size: String, ignorePathChange: Boolean, validationStatus: String, feedback: String, showLabel: {\n        type: Boolean,\n        default: undefined\n    }, labelProps: Object });\nexport const formItemPropKeys = keysOf(formItemProps);\n// wrap sync validator\nfunction wrapValidator(validator, async) {\n    return (...args) => {\n        try {\n            const validateResult = validator(...args);\n            if ((!async &&\n                (typeof validateResult === 'boolean' ||\n                    validateResult instanceof Error ||\n                    Array.isArray(validateResult))) || // Error[]\n                (validateResult === null || validateResult === void 0 ? void 0 : validateResult.then)) {\n                return validateResult;\n            }\n            else if (validateResult === undefined) {\n                return true;\n            }\n            else {\n                warn('form-item/validate', `You return a ${typeof validateResult} ` +\n                    'typed value in the validator method, which is not recommended. Please use ' +\n                    (async ? '`Promise`' : '`boolean`, `Error` or `Promise`') +\n                    ' typed value instead.');\n                return true;\n            }\n        }\n        catch (err) {\n            warn('form-item/validate', 'An error is catched in the validation, ' +\n                \"so the validation won't be done. Your callback in `validate` method of \" +\n                \"`n-form` or `n-form-item` won't be called in this validation.\");\n            console.error(err);\n            // If returns undefined, async-validator won't trigger callback\n            // so the result will be abandoned, which means not true and not false\n            return undefined;\n        }\n    };\n}\nexport default defineComponent({\n    name: 'FormItem',\n    props: formItemProps,\n    setup(props) {\n        useInjectionInstanceCollection(formItemInstsInjectionKey, 'formItems', toRef(props, 'path'));\n        const { mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n        const NForm = inject(formInjectionKey, null);\n        const formItemSizeRefs = formItemSize(props);\n        const formItemMiscRefs = formItemMisc(props);\n        const { validationErrored: validationErroredRef } = formItemMiscRefs;\n        const { mergedRequired: mergedRequiredRef, mergedRules: mergedRulesRef } = formItemRule(props);\n        const { mergedSize: mergedSizeRef } = formItemSizeRefs;\n        const { mergedLabelPlacement: labelPlacementRef, mergedLabelAlign: labelTextAlignRef } = formItemMiscRefs;\n        const renderExplainsRef = ref([]);\n        const feedbackIdRef = ref(createId());\n        const mergedDisabledRef = NForm\n            ? toRef(NForm.props, 'disabled')\n            : ref(false);\n        const themeRef = useTheme('Form', '-form-item', style, formLight, props, mergedClsPrefixRef);\n        watch(toRef(props, 'path'), () => {\n            if (props.ignorePathChange)\n                return;\n            restoreValidation();\n        });\n        function restoreValidation() {\n            renderExplainsRef.value = [];\n            validationErroredRef.value = false;\n            if (props.feedback) {\n                feedbackIdRef.value = createId();\n            }\n        }\n        function handleContentBlur() {\n            void internalValidate('blur');\n        }\n        function handleContentChange() {\n            void internalValidate('change');\n        }\n        function handleContentFocus() {\n            void internalValidate('focus');\n        }\n        function handleContentInput() {\n            void internalValidate('input');\n        }\n        function validate(options, callback) {\n            return __awaiter(this, void 0, void 0, function* () {\n                /** the following code is for compatibility */\n                let trigger;\n                let validateCallback;\n                let shouldRuleBeApplied;\n                let asyncValidatorOptions;\n                if (typeof options === 'string') {\n                    trigger = options;\n                    validateCallback = callback;\n                }\n                else if (options !== null && typeof options === 'object') {\n                    trigger = options.trigger;\n                    validateCallback = options.callback;\n                    shouldRuleBeApplied = options.shouldRuleBeApplied;\n                    asyncValidatorOptions = options.options;\n                }\n                return yield new Promise((resolve, reject) => {\n                    void internalValidate(trigger, shouldRuleBeApplied, asyncValidatorOptions).then(({ valid, errors }) => {\n                        if (valid) {\n                            if (validateCallback) {\n                                validateCallback();\n                            }\n                            resolve();\n                        }\n                        else {\n                            if (validateCallback) {\n                                validateCallback(errors);\n                            }\n                            reject(errors);\n                        }\n                    });\n                });\n            });\n        }\n        const internalValidate = (trigger = null, shouldRuleBeApplied = () => true, options = {\n            suppressWarning: true\n        }) => __awaiter(this, void 0, void 0, function* () {\n            const { path } = props;\n            if (!options) {\n                options = {};\n            }\n            else {\n                if (!options.first)\n                    options.first = props.first;\n            }\n            const { value: rules } = mergedRulesRef;\n            const value = NForm ? get(NForm.props.model, path || '') : undefined;\n            const messageRenderers = {};\n            const originalMessageRendersMessage = {};\n            const activeRules = (!trigger\n                ? rules\n                : rules.filter((rule) => {\n                    if (Array.isArray(rule.trigger)) {\n                        return rule.trigger.includes(trigger);\n                    }\n                    else {\n                        return rule.trigger === trigger;\n                    }\n                }))\n                .filter(shouldRuleBeApplied)\n                .map((rule, i) => {\n                const shallowClonedRule = Object.assign({}, rule);\n                if (shallowClonedRule.validator) {\n                    shallowClonedRule.validator = wrapValidator(shallowClonedRule.validator, false);\n                }\n                if (shallowClonedRule.asyncValidator) {\n                    shallowClonedRule.asyncValidator = wrapValidator(shallowClonedRule.asyncValidator, true);\n                }\n                if (shallowClonedRule.renderMessage) {\n                    const rendererKey = `__renderMessage__${i}`;\n                    originalMessageRendersMessage[rendererKey] =\n                        shallowClonedRule.message;\n                    shallowClonedRule.message = rendererKey;\n                    messageRenderers[rendererKey] = shallowClonedRule.renderMessage;\n                }\n                return shallowClonedRule;\n            });\n            if (!activeRules.length) {\n                return {\n                    valid: true\n                };\n            }\n            const mergedPath = path !== null && path !== void 0 ? path : '__n_no_path__';\n            const validator = new Schema({ [mergedPath]: activeRules });\n            const { validateMessages } = (NForm === null || NForm === void 0 ? void 0 : NForm.props) || {};\n            if (validateMessages) {\n                validator.messages(validateMessages);\n            }\n            return yield new Promise((resolve) => {\n                void validator.validate({ [mergedPath]: value }, options, (errors) => {\n                    if (errors === null || errors === void 0 ? void 0 : errors.length) {\n                        renderExplainsRef.value = errors.map((error) => {\n                            const transformedMessage = (error === null || error === void 0 ? void 0 : error.message) || '';\n                            return {\n                                key: transformedMessage,\n                                render: () => {\n                                    if (transformedMessage.startsWith('__renderMessage__')) {\n                                        return messageRenderers[transformedMessage]();\n                                    }\n                                    return transformedMessage;\n                                }\n                            };\n                        });\n                        errors.forEach((error) => {\n                            var _a;\n                            if ((_a = error.message) === null || _a === void 0 ? void 0 : _a.startsWith('__renderMessage__')) {\n                                error.message = originalMessageRendersMessage[error.message];\n                            }\n                        });\n                        validationErroredRef.value = true;\n                        resolve({\n                            valid: false,\n                            errors\n                        });\n                    }\n                    else {\n                        restoreValidation();\n                        resolve({\n                            valid: true\n                        });\n                    }\n                });\n            });\n        });\n        provide(formItemInjectionKey, {\n            path: toRef(props, 'path'),\n            disabled: mergedDisabledRef,\n            mergedSize: formItemSizeRefs.mergedSize,\n            mergedValidationStatus: formItemMiscRefs.mergedValidationStatus,\n            restoreValidation,\n            handleContentBlur,\n            handleContentChange,\n            handleContentFocus,\n            handleContentInput\n        });\n        const exposedRef = {\n            validate,\n            restoreValidation,\n            internalValidate\n        };\n        const labelElementRef = ref(null);\n        onMounted(() => {\n            if (!formItemMiscRefs.isAutoLabelWidth.value)\n                return;\n            const labelElement = labelElementRef.value;\n            if (labelElement !== null) {\n                const memoizedWhitespace = labelElement.style.whiteSpace;\n                labelElement.style.whiteSpace = 'nowrap';\n                labelElement.style.width = '';\n                NForm === null || NForm === void 0 ? void 0 : NForm.deriveMaxChildLabelWidth(Number(getComputedStyle(labelElement).width.slice(0, -2)));\n                labelElement.style.whiteSpace = memoizedWhitespace;\n            }\n        });\n        const cssVarsRef = computed(() => {\n            var _a;\n            const { value: size } = mergedSizeRef;\n            const { value: labelPlacement } = labelPlacementRef;\n            const direction = labelPlacement === 'top' ? 'vertical' : 'horizontal';\n            const { common: { cubicBezierEaseInOut }, self: { labelTextColor, asteriskColor, lineHeight, feedbackTextColor, feedbackTextColorWarning, feedbackTextColorError, feedbackPadding, [createKey('labelHeight', size)]: labelHeight, [createKey('blankHeight', size)]: blankHeight, [createKey('feedbackFontSize', size)]: feedbackFontSize, [createKey('feedbackHeight', size)]: feedbackHeight, [createKey('labelPadding', direction)]: labelPadding, [createKey('labelTextAlign', direction)]: labelTextAlign, [createKey(createKey('labelFontSize', labelPlacement), size)]: labelFontSize } } = themeRef.value;\n            let mergedLabelTextAlign = (_a = labelTextAlignRef.value) !== null && _a !== void 0 ? _a : labelTextAlign;\n            if (labelPlacement === 'top') {\n                mergedLabelTextAlign =\n                    mergedLabelTextAlign === 'right' ? 'flex-end' : 'flex-start';\n            }\n            const cssVars = {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-line-height': lineHeight,\n                '--n-blank-height': blankHeight,\n                '--n-label-font-size': labelFontSize,\n                '--n-label-text-align': mergedLabelTextAlign,\n                '--n-label-height': labelHeight,\n                '--n-label-padding': labelPadding,\n                '--n-asterisk-color': asteriskColor,\n                '--n-label-text-color': labelTextColor,\n                '--n-feedback-padding': feedbackPadding,\n                '--n-feedback-font-size': feedbackFontSize,\n                '--n-feedback-height': feedbackHeight,\n                '--n-feedback-text-color': feedbackTextColor,\n                '--n-feedback-text-color-warning': feedbackTextColorWarning,\n                '--n-feedback-text-color-error': feedbackTextColorError\n            };\n            return cssVars;\n        });\n        const themeClassHandle = useThemeClass('form-item', computed(() => {\n            var _a;\n            return `${mergedSizeRef.value[0]}${labelPlacementRef.value[0]}${((_a = labelTextAlignRef.value) === null || _a === void 0 ? void 0 : _a[0]) || ''}`;\n        }), cssVarsRef, props);\n        return Object.assign(Object.assign(Object.assign(Object.assign({ labelElementRef, mergedClsPrefix: mergedClsPrefixRef, mergedRequired: mergedRequiredRef, feedbackId: feedbackIdRef, renderExplains: renderExplainsRef }, formItemMiscRefs), formItemSizeRefs), exposedRef), { cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender });\n    },\n    render() {\n        const { $slots, mergedClsPrefix, mergedShowLabel, mergedShowRequireMark, mergedRequireMarkPlacement, onRender } = this;\n        const renderedShowRequireMark = mergedShowRequireMark !== undefined\n            ? mergedShowRequireMark\n            : this.mergedRequired;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        const renderLabel = () => {\n            const labelText = this.$slots.label ? this.$slots.label() : this.label;\n            if (!labelText)\n                return null;\n            const textNode = (h(\"span\", { class: `${mergedClsPrefix}-form-item-label__text` }, labelText));\n            const markNode = renderedShowRequireMark ? (h(\"span\", { class: `${mergedClsPrefix}-form-item-label__asterisk` }, mergedRequireMarkPlacement !== 'left' ? '\\u00A0*' : '*\\u00A0')) : (mergedRequireMarkPlacement === 'right-hanging' && (h(\"span\", { class: `${mergedClsPrefix}-form-item-label__asterisk-placeholder` }, '\\u00A0*')));\n            const { labelProps } = this;\n            return (h(\"label\", Object.assign({}, labelProps, { class: [\n                    labelProps === null || labelProps === void 0 ? void 0 : labelProps.class,\n                    `${mergedClsPrefix}-form-item-label`,\n                    `${mergedClsPrefix}-form-item-label--${mergedRequireMarkPlacement}-mark`\n                ], style: this.mergedLabelStyle, ref: \"labelElementRef\" }), mergedRequireMarkPlacement === 'left'\n                ? [markNode, textNode]\n                : [textNode, markNode]));\n        };\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-form-item`,\n                this.themeClass,\n                `${mergedClsPrefix}-form-item--${this.mergedSize}-size`,\n                `${mergedClsPrefix}-form-item--${this.mergedLabelPlacement}-labelled`,\n                this.isAutoLabelWidth &&\n                    `${mergedClsPrefix}-form-item--auto-label-width`,\n                !mergedShowLabel && `${mergedClsPrefix}-form-item--no-label`\n            ], style: this.cssVars },\n            mergedShowLabel && renderLabel(),\n            h(\"div\", { class: [\n                    `${mergedClsPrefix}-form-item-blank`,\n                    this.mergedValidationStatus &&\n                        `${mergedClsPrefix}-form-item-blank--${this.mergedValidationStatus}`\n                ] }, $slots),\n            this.mergedShowFeedback ? (h(\"div\", { key: this.feedbackId, class: `${mergedClsPrefix}-form-item-feedback-wrapper` },\n                h(Transition, { name: \"fade-down-transition\", mode: \"out-in\" }, {\n                    default: () => {\n                        const { mergedValidationStatus } = this;\n                        return resolveWrappedSlot($slots.feedback, (children) => {\n                            var _a;\n                            const { feedback } = this;\n                            const feedbackNodes = children || feedback ? (h(\"div\", { key: \"__feedback__\", class: `${mergedClsPrefix}-form-item-feedback__line` }, children || feedback)) : this.renderExplains.length ? ((_a = this.renderExplains) === null || _a === void 0 ? void 0 : _a.map(({ key, render }) => (h(\"div\", { key: key, class: `${mergedClsPrefix}-form-item-feedback__line` }, render())))) : null;\n                            return feedbackNodes ? (mergedValidationStatus === 'warning' ? (h(\"div\", { key: \"controlled-warning\", class: `${mergedClsPrefix}-form-item-feedback ${mergedClsPrefix}-form-item-feedback--warning` }, feedbackNodes)) : mergedValidationStatus === 'error' ? (h(\"div\", { key: \"controlled-error\", class: `${mergedClsPrefix}-form-item-feedback ${mergedClsPrefix}-form-item-feedback--error` }, feedbackNodes)) : mergedValidationStatus === 'success' ? (h(\"div\", { key: \"controlled-success\", class: `${mergedClsPrefix}-form-item-feedback ${mergedClsPrefix}-form-item-feedback--success` }, feedbackNodes)) : (h(\"div\", { key: \"controlled-default\", class: `${mergedClsPrefix}-form-item-feedback` }, feedbackNodes))) : null;\n                        });\n                    }\n                }))) : null));\n    }\n});\n","import { createInjectionKey } from '../../_utils';\nexport const formInjectionKey = createInjectionKey('n-form');\nexport const formItemInstsInjectionKey = createInjectionKey('n-form-item-insts');\n","import { inject } from 'vue';\nimport { throwError } from '../../_utils';\nimport { messageApiInjectionKey } from './context';\nexport function useMessage() {\n    const api = inject(messageApiInjectionKey, null);\n    if (api === null) {\n        throwError('use-message', 'No outer <n-message-provider /> founded. See prerequisite in https://www.naiveui.com/en-US/os-theme/components/message for more details. If you want to use `useMessage` outside setup, please check https://www.naiveui.com/zh-CN/os-theme/components/message#Q-&-A.');\n    }\n    return api;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n"],"names":["cB","cM","width","marginRight","c","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","then","apply","formProps","Object","assign","useTheme","inline","Boolean","labelWidth","Number","String","labelAlign","labelPlacement","type","default","model","rules","disabled","size","showRequireMark","undefined","requireMarkPlacement","showFeedback","onSubmit","Function","preventDefault","showLabel","validateMessages","defineComponent","name","props","setup","mergedClsPrefixRef","useConfig","style","formLight","formItems","maxChildLabelWidthRef","ref","deriveMaxChildLabelWidth","currentWidth","currentMaxChildLabelWidth","validate","validateCallback","shouldRuleBeApplied","this","formItemValidationPromises","key","keysOf","formItemInstances","formItemInstance","path","push","internalValidate","all","results","some","valid","errors","filter","map","restoreValidation","provide","formInjectionKey","formItemInstsInjectionKey","formExposedMethod","mergedClsPrefix","render","h","class","$slots","formatRegExp","warning","convertFieldsError","length","fields","forEach","error","field","format","template","args","arguments","i","len","str","replace","x","JSON","stringify","_","isNativeStringType","isEmptyValue","Array","isArray","asyncParallelArray","arr","func","callback","total","arrLength","count","a","asyncSerialArray","index","original","flattenObjArr","objArr","ret","keys","k","AsyncValidationError","_this","_inheritsLoose","Error","asyncMap","option","source","first","pending","flattenArr","firstFields","objArrKeys","objArrLength","indexOf","isErrorObj","obj","message","getValue","v","complementError","rule","oe","fieldValue","fullFields","fullField","deepMerge","target","s","hasOwnProperty","urlReg","required","options","messages","whitespace","test","word","b","includeBoundaries","v4","v6seg","v6","trim","v46Exact","RegExp","v4exact","v6exact","ip","exact","protocol","auth","ipv4","ipv6","host","domain","tld","port","regex","pattern","email","hex","types","integer","number","parseInt","array","regexp","date","getTime","getMonth","getYear","isNaN","object","method","match","url","getUrlRegex","custom","ruleType","range","min","max","spRegexp","val","num","ENUM","enumerable","join","lastIndex","mismatch","_pattern","enum","enumRule","string","boolean","floatFn","dateObject","Date","any","float","enumValidator","newMessages","parse","invalid","clone","cloned","Schema","descriptor","_messages","defaultMessages","define","item","source_","o","oc","complete","add","concat","series","z","_this2","r","transform","validator","getValidationMethod","getType","errorFields","data","doIt","res","deep","defaultField","addFullField","schema","cb","errorList","suppressWarning","filledErrors","fieldsSchema","paredFieldsSchema","fieldSchema","fieldSchemaList","bind","errs","finalErrors","asyncValidator","console","suppressValidatorError","setTimeout","validators","messageIndex","splice","register","useInjectionInstanceCollection","injectionName","collectionKey","registerKeyRef","_a","injection","inject","vm","getCurrentInstance","proxy","registerInstance","oldKey","collection","removeInstance","addInstance","findIndex","instance","watch","onBeforeUnmount","formItemSize","NForm","mergedSize","computed","formItemMisc","mergedLabelPlacementRef","isAutoLabelWidthRef","mergedLabelWidthRef","formatLength","autoComputedWidth","mergedLabelAlignRef","mergedLabelStyleRef","labelProps","labelStyle","mergedShowRequireMarkRef","mergedRequireMarkPlacementRef","validationErroredRef","mergedValidationStatusRef","validationStatus","mergedShowFeedbackRef","mergedShowLabelRef","validationErrored","mergedLabelStyle","mergedLabelPlacement","mergedLabelAlign","mergedShowRequireMark","mergedRequireMarkPlacement","mergedValidationStatus","mergedShowFeedback","mergedShowLabel","isAutoLabelWidth","formItemRule","compatibleRulePathRef","rulePath","mergedRulesRef","formRules","formRule","get","hasRequiredRuleRef","mergedRequiredRef","mergedRules","mergedRequired","cubicBezierEaseInOut","commonVariables","fadeDownTransition","fromOffset","enterDuration","leaveDuration","enterCubicBezier","leaveCubicBezier","opacity","transition","cE","color","formItemProps","label","ignorePathChange","feedback","wrapValidator","async","validateResult","warn","err","toRef","inlineThemeDisabled","formItemSizeRefs","formItemMiscRefs","mergedSizeRef","labelPlacementRef","labelTextAlignRef","renderExplainsRef","feedbackIdRef","createId","mergedDisabledRef","themeRef","handleContentBlur","handleContentChange","handleContentFocus","handleContentInput","trigger","asyncValidatorOptions","messageRenderers","originalMessageRendersMessage","activeRules","includes","shallowClonedRule","renderMessage","rendererKey","mergedPath","transformedMessage","startsWith","formItemInjectionKey","exposedRef","labelElementRef","onMounted","labelElement","memoizedWhitespace","whiteSpace","getComputedStyle","slice","cssVarsRef","direction","common","self","labelTextColor","asteriskColor","lineHeight","feedbackTextColor","feedbackTextColorWarning","feedbackTextColorError","feedbackPadding","createKey","labelHeight","blankHeight","feedbackFontSize","feedbackHeight","labelPadding","labelTextAlign","labelFontSize","mergedLabelTextAlign","cssVars","themeClassHandle","useThemeClass","feedbackId","renderExplains","themeClass","onRender","renderedShowRequireMark","renderLabel","labelText","textNode","markNode","Transition","mode","resolveWrappedSlot","children","feedbackNodes","createInjectionKey","useMessage","api","messageApiInjectionKey","throwError","exports","sfc","__vccOpts"],"sourceRoot":""}