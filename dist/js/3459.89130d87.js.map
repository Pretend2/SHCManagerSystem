{"version":3,"file":"js/3459.89130d87.js","mappings":"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","sources":["webpack://shc_community_manager_system/./node_modules/@vicons/fluent/es/Add16Regular.js","webpack://shc_community_manager_system/./node_modules/@vicons/fluent/es/ArrowClockwise16Regular.js","webpack://shc_community_manager_system/./node_modules/@vicons/fluent/es/Search16Regular.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/loading-bar/src/use-loading-bar.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/tree-select/src/interface.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_utils/vue/create-data-key.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_internal/icons/Switcher.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/tree/src/interface.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/tree/src/TreeNodeSwitcher.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/tree/src/TreeNodeCheckbox.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/tree/src/TreeNodeContent.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/tree/src/dnd.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/tree/src/utils.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/tree/src/TreeNode.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/tree/src/keyboard.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/tree/src/MotionWrapper.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/tree/src/styles/index.cssr.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/tree/src/Tree.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_internal/icons/Remove.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_internal/icons/Add.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/input-number/styles/light.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/input-number/src/utils.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/input-number/src/styles/input-number.cssr.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/input-number/src/InputNumber.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/switch/styles/light.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/switch/src/styles/index.cssr.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/switch/src/Switch.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/upload/src/interface.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/upload/src/UploadDragger.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/upload/src/utils.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/upload/src/UploadTrigger.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_internal/icons/Attach.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_internal/icons/Trash.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_internal/icons/Cancel.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_internal/icons/Retry.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_internal/icons/Download.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_utils/env/is-native-lazy-load.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/image/src/interface.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/image/src/utils.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_internal/icons/RotateCounterclockwise.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_internal/icons/RotateClockwise.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_internal/icons/ResizeSmall.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_internal/icons/ZoomOut.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/_internal/icons/ZoomIn.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/image/styles/light.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/image/src/icons.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/image/src/styles/index.cssr.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/image/src/ImagePreview.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/image/src/ImageGroup.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/image/src/Image.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/progress/src/styles/index.cssr.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/progress/src/Line.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/progress/src/Circle.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/progress/src/MultipleCircle.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/progress/src/Progress.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/upload/src/UploadProgress.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/upload/src/icons.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/upload/src/UploadFile.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/upload/src/UploadFileList.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/upload/src/styles/index.cssr.js","webpack://shc_community_manager_system/./node_modules/naive-ui/es/upload/src/Upload.js","webpack://shc_community_manager_system/./node_modules/@vicons/fluent/es/Edit16Regular.js","webpack://shc_community_manager_system/./node_modules/@vicons/fluent/es/Delete16Regular.js","webpack://shc_community_manager_system/./src/hook/real_estate/housingmanagement/buildingHook.js","webpack://shc_community_manager_system/./src/hook/real_estate/housingmanagement/apartmentHook.js","webpack://shc_community_manager_system/./src/hook/real_estate/housingmanagement/housingHook.js","webpack://shc_community_manager_system/./src/hook/real_estate/housingmanagement/importPropertyHook.js","webpack://shc_community_manager_system/./src/layout/real_estate/HousingManagementLayout.vue","webpack://shc_community_manager_system/./src/layout/real_estate/HousingManagementLayout.vue?e927"],"sourcesContent":["import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 16 16'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'g',\n  {\n    fill: 'none'\n  },\n  [\n    /*#__PURE__*/ _createElementVNode('path', {\n      d: 'M8 2.5a.5.5 0 0 0-1 0V7H2.5a.5.5 0 0 0 0 1H7v4.5a.5.5 0 0 0 1 0V8h4.5a.5.5 0 0 0 0-1H8V2.5z',\n      fill: 'currentColor'\n    })\n  ],\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = [_hoisted_2]\nexport default defineComponent({\n  name: 'Add16Regular',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_3)\n  }\n})\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 16 16'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'g',\n  {\n    fill: 'none'\n  },\n  [\n    /*#__PURE__*/ _createElementVNode('path', {\n      d: 'M3 8a5 5 0 0 1 9-3H9.5a.5.5 0 0 0 0 1h3a.5.5 0 0 0 .5-.5v-.657V2.5a.5.5 0 0 0-1 0v1.028A6 6 0 1 0 14 8a.5.5 0 0 0-1 0A5 5 0 0 1 3 8z',\n      fill: 'currentColor'\n    })\n  ],\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = [_hoisted_2]\nexport default defineComponent({\n  name: 'ArrowClockwise16Regular',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_3)\n  }\n})\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 16 16'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'g',\n  {\n    fill: 'none'\n  },\n  [\n    /*#__PURE__*/ _createElementVNode('path', {\n      d: 'M9.309 10.016a4.5 4.5 0 1 1 .707-.707l3.838 3.837a.5.5 0 0 1-.708.708L9.31 10.016zM10 6.5a3.5 3.5 0 1 0-7 0a3.5 3.5 0 0 0 7 0z',\n      fill: 'currentColor'\n    })\n  ],\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = [_hoisted_2]\nexport default defineComponent({\n  name: 'Search16Regular',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_3)\n  }\n})\n","import { inject } from 'vue';\nimport { loadingBarApiInjectionKey } from './context';\nimport { throwError } from '../../_utils';\nexport function useLoadingBar() {\n    const loadingBar = inject(loadingBarApiInjectionKey, null);\n    if (loadingBar === null) {\n        throwError('use-loading-bar', 'No outer <n-loading-bar-provider /> founded.');\n    }\n    return loadingBar;\n}\n","import { createInjectionKey } from '../../_utils';\nexport const treeSelectInjectionKey = createInjectionKey('n-tree-select');\n","export function createDataKey(key) {\n    return typeof key === 'string' ? `s-${key}` : `n-${key}`;\n}\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Switcher',\n    render() {\n        return (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 32\" },\n            h(\"path\", { d: \"M12 8l10 8l-10 8z\" })));\n    }\n});\n","import { createInjectionKey } from '../../_utils';\nexport const treeInjectionKey = createInjectionKey('n-tree');\n","import { h, defineComponent, inject } from 'vue';\nimport { SwitcherIcon } from '../../_internal/icons';\nimport { NIconSwitchTransition, NBaseLoading, NBaseIcon } from '../../_internal';\nimport { treeInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'NTreeSwitcher',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        expanded: Boolean,\n        hide: Boolean,\n        loading: Boolean,\n        onClick: Function\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const { renderSwitcherIconRef } = inject(treeInjectionKey, null);\n        return () => {\n            const { clsPrefix } = props;\n            return (h(\"span\", { \"data-switcher\": true, class: [\n                    `${clsPrefix}-tree-node-switcher`,\n                    {\n                        [`${clsPrefix}-tree-node-switcher--expanded`]: props.expanded,\n                        [`${clsPrefix}-tree-node-switcher--hide`]: props.hide\n                    }\n                ], onClick: props.onClick },\n                h(\"div\", { class: `${clsPrefix}-tree-node-switcher__icon` },\n                    h(NIconSwitchTransition, null, {\n                        default: () => {\n                            if (props.loading) {\n                                return (h(NBaseLoading, { clsPrefix: clsPrefix, key: \"loading\", radius: 85, strokeWidth: 20 }));\n                            }\n                            const { value: renderSwitcherIcon } = renderSwitcherIconRef;\n                            return renderSwitcherIcon ? (renderSwitcherIcon()) : (h(NBaseIcon, { clsPrefix: clsPrefix, key: \"switcher\" }, { default: () => h(SwitcherIcon, null) }));\n                        }\n                    }))));\n        };\n    }\n});\n","import { h, defineComponent, inject } from 'vue';\nimport { NCheckbox } from '../../checkbox';\nimport { treeInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'NTreeNodeCheckbox',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        right: Boolean,\n        focusable: Boolean,\n        disabled: Boolean,\n        checked: Boolean,\n        indeterminate: Boolean,\n        onCheck: Function\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const NTree = inject(treeInjectionKey);\n        function doCheck(value) {\n            const { onCheck } = props;\n            if (onCheck)\n                return onCheck(value);\n        }\n        function handleUpdateValue(value) {\n            if (props.indeterminate) {\n                doCheck(false);\n            }\n            else {\n                doCheck(value);\n            }\n        }\n        return {\n            handleUpdateValue,\n            mergedTheme: NTree.mergedThemeRef\n        };\n    },\n    render() {\n        const { clsPrefix, mergedTheme, checked, indeterminate, disabled, focusable, handleUpdateValue } = this;\n        return (h(\"span\", { class: [\n                `${clsPrefix}-tree-node-checkbox`,\n                this.right && `${clsPrefix}-tree-node-checkbox--right`\n            ], \"data-checkbox\": true },\n            h(NCheckbox, { focusable: focusable, disabled: disabled, theme: mergedTheme.peers.Checkbox, themeOverrides: mergedTheme.peerOverrides.Checkbox, checked: checked, indeterminate: indeterminate, onUpdateChecked: handleUpdateValue })));\n    }\n});\n","import { h, defineComponent, ref, inject } from 'vue';\nimport { render } from '../../_utils';\nimport { treeInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'TreeNodeContent',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        disabled: Boolean,\n        checked: Boolean,\n        selected: Boolean,\n        onClick: Function,\n        onDragstart: Function,\n        tmNode: {\n            type: Object,\n            required: true\n        },\n        nodeProps: Object\n    },\n    setup(props) {\n        const { renderLabelRef, renderPrefixRef, renderSuffixRef, labelFieldRef } = \n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        inject(treeInjectionKey);\n        const selfRef = ref(null);\n        function doClick(e) {\n            const { onClick } = props;\n            if (onClick)\n                onClick(e);\n        }\n        function handleClick(e) {\n            doClick(e);\n        }\n        return {\n            selfRef,\n            renderLabel: renderLabelRef,\n            renderPrefix: renderPrefixRef,\n            renderSuffix: renderSuffixRef,\n            labelField: labelFieldRef,\n            handleClick\n        };\n    },\n    render() {\n        const { clsPrefix, labelField, nodeProps, checked = false, selected = false, renderLabel, renderPrefix, renderSuffix, handleClick, onDragstart, tmNode: { rawNode, rawNode: { prefix, suffix, [labelField]: label } } } = this;\n        return (h(\"span\", Object.assign({}, nodeProps, { ref: \"selfRef\", class: [`${clsPrefix}-tree-node-content`, nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps.class], onClick: handleClick, draggable: onDragstart === undefined ? undefined : true, onDragstart: onDragstart }),\n            renderPrefix || prefix ? (h(\"div\", { class: `${clsPrefix}-tree-node-content__prefix` }, renderPrefix\n                ? renderPrefix({\n                    option: rawNode,\n                    selected,\n                    checked\n                })\n                : render(prefix))) : null,\n            h(\"div\", { class: `${clsPrefix}-tree-node-content__text` }, renderLabel\n                ? renderLabel({\n                    option: rawNode,\n                    selected,\n                    checked\n                })\n                : render(label)),\n            renderSuffix || suffix ? (h(\"div\", { class: `${clsPrefix}-tree-node-content__suffix` }, renderSuffix\n                ? renderSuffix({\n                    option: rawNode,\n                    selected,\n                    checked\n                })\n                : render(suffix))) : null));\n    }\n});\n","import { h } from 'vue';\nexport function renderDropMark({ position, offsetLevel, indent, el }) {\n    const style = {\n        position: 'absolute',\n        boxSizing: 'border-box',\n        right: 0\n    };\n    if (position === 'inside') {\n        style.left = 0;\n        style.top = 0;\n        style.bottom = 0;\n        style.borderRadius = 'inherit';\n        style.boxShadow = 'inset 0 0 0 2px var(--n-drop-mark-color)';\n    }\n    else {\n        const cssPosition = position === 'before' ? 'top' : 'bottom';\n        style[cssPosition] = 0;\n        // The left prop should be modified when tree's style is changed\n        // Maybe it is possible to use content left\n        style.left = `${el.offsetLeft + 6 - offsetLevel * indent}px`;\n        style.height = '2px';\n        style.backgroundColor = 'var(--n-drop-mark-color)';\n        style.transformOrigin = cssPosition;\n        style.borderRadius = '1px';\n        style.transform =\n            position === 'before' ? 'translateY(-4px)' : 'translateY(4px)';\n    }\n    return h(\"div\", { style: style });\n}\nexport function defaultAllowDrop({ dropPosition, node }) {\n    if (node.isLeaf === false)\n        return true;\n    if (node.children) {\n        return true;\n    }\n    return dropPosition !== 'inside';\n}\n","import { isBrowser } from '../../_utils';\nexport function isNodeDisabled(node, disabledField) {\n    return !!node.rawNode[disabledField];\n}\nfunction traverse(nodes, childrenField, callback, callbackAfter) {\n    nodes === null || nodes === void 0 ? void 0 : nodes.forEach((node) => {\n        callback(node);\n        traverse(node[childrenField], childrenField, callback, callbackAfter);\n        callbackAfter(node);\n    });\n}\nexport function keysWithFilter(nodes, pattern, keyField, childrenField, filter) {\n    const keys = new Set();\n    const highlightKeySet = new Set();\n    const path = [];\n    traverse(nodes, childrenField, (node) => {\n        path.push(node);\n        if (filter(pattern, node)) {\n            highlightKeySet.add(node[keyField]);\n            for (let i = path.length - 2; i >= 0; --i) {\n                if (!keys.has(path[i][keyField])) {\n                    keys.add(path[i][keyField]);\n                }\n                else {\n                    return;\n                }\n            }\n        }\n    }, () => {\n        path.pop();\n    });\n    return {\n        expandedKeys: Array.from(keys),\n        highlightKeySet\n    };\n}\nconst emptyImage = null;\nif (isBrowser && Image) {\n    const emptyImage = new Image();\n    emptyImage.src =\n        'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n}\nexport { emptyImage };\nexport function filterTree(tree, filter, pattern, keyField, childrenField) {\n    const visitedTailKeys = new Set();\n    const visitedNonTailKeys = new Set();\n    const highlightKeySet = new Set();\n    const expandedKeys = [];\n    const filteredTree = [];\n    const path = [];\n    function visit(t) {\n        t.forEach((n) => {\n            path.push(n);\n            if (filter(pattern, n)) {\n                visitedTailKeys.add(n[keyField]);\n                highlightKeySet.add(n[keyField]);\n                for (let i = path.length - 2; i >= 0; --i) {\n                    const key = path[i][keyField];\n                    if (!visitedNonTailKeys.has(key)) {\n                        visitedNonTailKeys.add(key);\n                        if (visitedTailKeys.has(key)) {\n                            visitedTailKeys.delete(key);\n                        }\n                    }\n                    else {\n                        break;\n                    }\n                }\n            }\n            const children = n[childrenField];\n            if (children) {\n                visit(children);\n            }\n            path.pop();\n        });\n    }\n    visit(tree);\n    function build(t, sibs) {\n        t.forEach((n) => {\n            const key = n[keyField];\n            const isVisitedTail = visitedTailKeys.has(key);\n            const isVisitedNonTail = visitedNonTailKeys.has(key);\n            if (!isVisitedTail && !isVisitedNonTail)\n                return;\n            const children = n[childrenField];\n            if (children) {\n                if (isVisitedTail) {\n                    // If it is visited path tail, use origin node\n                    sibs.push(n);\n                }\n                else {\n                    // It it is not visited path tail, use cloned node\n                    expandedKeys.push(key);\n                    const clonedNode = Object.assign(Object.assign({}, n), { [childrenField]: [] });\n                    sibs.push(clonedNode);\n                    build(children, clonedNode[childrenField]);\n                }\n            }\n            else {\n                sibs.push(n);\n            }\n        });\n    }\n    build(tree, filteredTree);\n    return {\n        filteredTree,\n        highlightKeySet,\n        expandedKeys\n    };\n}\n","import { h, inject, computed, defineComponent, ref, onMounted } from 'vue';\nimport { useMemo } from 'vooks';\nimport { happensIn, repeat } from 'seemly';\nimport { createDataKey } from '../../_utils';\nimport NTreeNodeSwitcher from './TreeNodeSwitcher';\nimport NTreeNodeCheckbox from './TreeNodeCheckbox';\nimport NTreeNodeContent from './TreeNodeContent';\nimport { treeInjectionKey } from './interface';\nimport { renderDropMark } from './dnd';\nimport { isNodeDisabled } from './utils';\nconst TreeNode = defineComponent({\n    name: 'TreeNode',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        tmNode: {\n            type: Object,\n            required: true\n        }\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const NTree = inject(treeInjectionKey);\n        const { droppingNodeParentRef, droppingMouseNodeRef, draggingNodeRef, droppingPositionRef, droppingOffsetLevelRef, nodePropsRef, indentRef, blockLineRef, checkboxPlacementRef, checkOnClickRef, disabledFieldRef } = NTree;\n        const checkboxDisabledRef = useMemo(() => !!props.tmNode.rawNode.checkboxDisabled);\n        const nodeIsDisabledRef = useMemo(() => {\n            return isNodeDisabled(props.tmNode, disabledFieldRef.value);\n        });\n        const disabledRef = useMemo(() => NTree.disabledRef.value || nodeIsDisabledRef.value);\n        const resolvedNodePropsRef = computed(() => {\n            const { value: nodeProps } = nodePropsRef;\n            if (!nodeProps)\n                return undefined;\n            return nodeProps({ option: props.tmNode.rawNode });\n        });\n        // used for drag and drop\n        const contentInstRef = ref(null);\n        // must be non-reactive\n        const contentElRef = { value: null };\n        onMounted(() => {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            contentElRef.value = contentInstRef.value.$el;\n        });\n        function handleSwitcherClick() {\n            const { tmNode } = props;\n            if (!tmNode.isLeaf && !tmNode.shallowLoaded) {\n                if (!NTree.loadingKeysRef.value.has(tmNode.key)) {\n                    NTree.loadingKeysRef.value.add(tmNode.key);\n                }\n                else {\n                    return;\n                }\n                const { onLoadRef: { value: onLoad } } = NTree;\n                if (onLoad) {\n                    void onLoad(tmNode.rawNode)\n                        .then(() => {\n                        NTree.handleSwitcherClick(tmNode);\n                    })\n                        .finally(() => {\n                        NTree.loadingKeysRef.value.delete(tmNode.key);\n                    });\n                }\n            }\n            else {\n                NTree.handleSwitcherClick(tmNode);\n            }\n        }\n        const selectableRef = useMemo(() => !nodeIsDisabledRef.value &&\n            NTree.selectableRef.value &&\n            (NTree.internalTreeSelect\n                ? NTree.mergedCheckStrategyRef.value !== 'child' ||\n                    (NTree.multipleRef.value && NTree.cascadeRef.value) ||\n                    props.tmNode.isLeaf\n                : true));\n        const checkableRef = useMemo(() => NTree.checkableRef.value &&\n            (NTree.cascadeRef.value ||\n                NTree.mergedCheckStrategyRef.value !== 'child' ||\n                props.tmNode.isLeaf));\n        const checkedRef = useMemo(() => NTree.displayedCheckedKeysRef.value.includes(props.tmNode.key));\n        const mergedCheckOnClickRef = useMemo(() => {\n            const { value: checkable } = checkableRef;\n            if (!checkable)\n                return false;\n            const { value: checkOnClick } = checkOnClickRef;\n            if (typeof checkOnClick === 'boolean') {\n                return checkOnClick;\n            }\n            return checkOnClick(props.tmNode.rawNode);\n        });\n        function _handleClick(e) {\n            const { value: expandOnClick } = NTree.expandOnClickRef;\n            const { value: selectable } = selectableRef;\n            const { value: mergedCheckOnClick } = mergedCheckOnClickRef;\n            if (!selectable && !expandOnClick && !mergedCheckOnClick)\n                return;\n            if (happensIn(e, 'checkbox') || happensIn(e, 'switcher'))\n                return;\n            const { tmNode } = props;\n            if (selectable) {\n                NTree.handleSelect(tmNode);\n            }\n            if (expandOnClick && !tmNode.isLeaf) {\n                handleSwitcherClick();\n            }\n            if (mergedCheckOnClick) {\n                handleCheck(!checkedRef.value);\n            }\n        }\n        function handleContentClick(e) {\n            var _a, _b;\n            if (blockLineRef.value)\n                return;\n            if (!disabledRef.value)\n                _handleClick(e);\n            (_b = (_a = resolvedNodePropsRef.value) === null || _a === void 0 ? void 0 : _a.onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        }\n        function handleLineClick(e) {\n            var _a, _b;\n            if (!blockLineRef.value)\n                return;\n            if (!disabledRef.value) {\n                _handleClick(e);\n            }\n            (_b = (_a = resolvedNodePropsRef.value) === null || _a === void 0 ? void 0 : _a.onClick) === null || _b === void 0 ? void 0 : _b.call(_a, e);\n        }\n        function handleCheck(checked) {\n            NTree.handleCheck(props.tmNode, checked);\n        }\n        // Dnd\n        function handleDragStart(e) {\n            NTree.handleDragStart({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDragEnter(e) {\n            if (e.currentTarget !== e.target) {\n                return;\n            }\n            NTree.handleDragEnter({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDragOver(e) {\n            e.preventDefault(); // if not prevent, drop event won't be fired...\n            NTree.handleDragOver({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDragEnd(e) {\n            NTree.handleDragEnd({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDragLeave(e) {\n            if (e.currentTarget !== e.target) {\n                return;\n            }\n            NTree.handleDragLeave({\n                event: e,\n                node: props.tmNode\n            });\n        }\n        function handleDrop(e) {\n            e.preventDefault();\n            if (droppingPositionRef.value !== null) {\n                NTree.handleDrop({\n                    event: e,\n                    node: props.tmNode,\n                    dropPosition: droppingPositionRef.value\n                });\n            }\n        }\n        return {\n            showDropMark: useMemo(() => {\n                const { value: draggingNode } = draggingNodeRef;\n                if (!draggingNode)\n                    return;\n                const { value: droppingPosition } = droppingPositionRef;\n                if (!droppingPosition)\n                    return;\n                const { value: droppingMouseNode } = droppingMouseNodeRef;\n                if (!droppingMouseNode) {\n                    return;\n                }\n                const { tmNode } = props;\n                if (tmNode.key === droppingMouseNode.key)\n                    return true;\n                return false;\n            }),\n            showDropMarkAsParent: useMemo(() => {\n                const { value: droppingNodeParent } = droppingNodeParentRef;\n                if (!droppingNodeParent)\n                    return false;\n                const { tmNode } = props;\n                const { value: droppingPosition } = droppingPositionRef;\n                if (droppingPosition === 'before' || droppingPosition === 'after') {\n                    return droppingNodeParent.key === tmNode.key;\n                }\n                return false;\n            }),\n            pending: useMemo(() => NTree.pendingNodeKeyRef.value === props.tmNode.key),\n            loading: useMemo(() => NTree.loadingKeysRef.value.has(props.tmNode.key)),\n            highlight: useMemo(() => {\n                var _a;\n                return (_a = NTree.highlightKeySetRef.value) === null || _a === void 0 ? void 0 : _a.has(props.tmNode.key);\n            }),\n            checked: checkedRef,\n            indeterminate: useMemo(() => NTree.displayedIndeterminateKeysRef.value.includes(props.tmNode.key)),\n            selected: useMemo(() => NTree.mergedSelectedKeysRef.value.includes(props.tmNode.key)),\n            expanded: useMemo(() => NTree.mergedExpandedKeysRef.value.includes(props.tmNode.key)),\n            disabled: disabledRef,\n            checkable: checkableRef,\n            mergedCheckOnClick: mergedCheckOnClickRef,\n            checkboxDisabled: checkboxDisabledRef,\n            selectable: selectableRef,\n            expandOnClick: NTree.expandOnClickRef,\n            internalScrollable: NTree.internalScrollableRef,\n            draggable: NTree.draggableRef,\n            blockLine: blockLineRef,\n            nodeProps: resolvedNodePropsRef,\n            checkboxFocusable: NTree.internalCheckboxFocusableRef,\n            droppingPosition: droppingPositionRef,\n            droppingOffsetLevel: droppingOffsetLevelRef,\n            indent: indentRef,\n            checkboxPlacement: checkboxPlacementRef,\n            contentInstRef,\n            contentElRef,\n            handleCheck,\n            handleDrop,\n            handleDragStart,\n            handleDragEnter,\n            handleDragOver,\n            handleDragEnd,\n            handleDragLeave,\n            handleLineClick,\n            handleContentClick,\n            handleSwitcherClick\n        };\n    },\n    render() {\n        const { tmNode, clsPrefix, checkable, expandOnClick, selectable, selected, checked, highlight, draggable, blockLine, indent, disabled, pending, internalScrollable, nodeProps, checkboxPlacement } = this;\n        // drag start not inside\n        // it need to be append to node itself, not wrapper\n        const dragEventHandlers = draggable && !disabled\n            ? {\n                onDragenter: this.handleDragEnter,\n                onDragleave: this.handleDragLeave,\n                onDragend: this.handleDragEnd,\n                onDrop: this.handleDrop,\n                onDragover: this.handleDragOver\n            }\n            : undefined;\n        // In non virtual mode, there's no evidence that which element should be\n        // scrolled to, so we need data-key to query the target element.\n        const dataKey = internalScrollable ? createDataKey(tmNode.key) : undefined;\n        const checkboxOnRight = checkboxPlacement === 'right';\n        const checkboxNode = checkable ? (h(NTreeNodeCheckbox, { right: checkboxOnRight, focusable: this.checkboxFocusable, disabled: disabled || this.checkboxDisabled, clsPrefix: clsPrefix, checked: this.checked, indeterminate: this.indeterminate, onCheck: this.handleCheck })) : null;\n        return (h(\"div\", Object.assign({ class: `${clsPrefix}-tree-node-wrapper` }, dragEventHandlers),\n            h(\"div\", Object.assign({}, (blockLine ? nodeProps : undefined), { class: [\n                    `${clsPrefix}-tree-node`,\n                    {\n                        [`${clsPrefix}-tree-node--selected`]: selected,\n                        [`${clsPrefix}-tree-node--checkable`]: checkable,\n                        [`${clsPrefix}-tree-node--highlight`]: highlight,\n                        [`${clsPrefix}-tree-node--pending`]: pending,\n                        [`${clsPrefix}-tree-node--disabled`]: disabled,\n                        [`${clsPrefix}-tree-node--selectable`]: selectable,\n                        [`${clsPrefix}-tree-node--clickable`]: selectable || expandOnClick || this.mergedCheckOnClick\n                    },\n                    nodeProps === null || nodeProps === void 0 ? void 0 : nodeProps.class\n                ], \"data-key\": dataKey, draggable: draggable && blockLine, onClick: this.handleLineClick, onDragstart: draggable && blockLine && !disabled\n                    ? this.handleDragStart\n                    : undefined }),\n                repeat(tmNode.level, h(\"div\", { class: `${clsPrefix}-tree-node-indent` },\n                    h(\"div\", { style: { width: `${indent}px` } }))),\n                h(NTreeNodeSwitcher, { clsPrefix: clsPrefix, expanded: this.expanded, loading: this.loading, hide: tmNode.isLeaf, onClick: this.handleSwitcherClick }),\n                !checkboxOnRight ? checkboxNode : null,\n                h(NTreeNodeContent, { ref: \"contentInstRef\", clsPrefix: clsPrefix, checked: checked, selected: selected, onClick: this.handleContentClick, nodeProps: blockLine ? undefined : nodeProps, onDragstart: draggable && !blockLine && !disabled\n                        ? this.handleDragStart\n                        : undefined, tmNode: tmNode }),\n                draggable\n                    ? this.showDropMark\n                        ? renderDropMark({\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            el: this.contentElRef.value,\n                            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                            position: this.droppingPosition,\n                            offsetLevel: this.droppingOffsetLevel,\n                            indent\n                        })\n                        : this.showDropMarkAsParent\n                            ? renderDropMark({\n                                // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                                el: this.contentElRef.value,\n                                position: 'inside',\n                                offsetLevel: this.droppingOffsetLevel,\n                                indent\n                            })\n                            : null\n                    : null,\n                checkboxOnRight ? checkboxNode : null)));\n    }\n});\nexport default TreeNode;\n","import { inject, ref } from 'vue';\nimport { treeSelectInjectionKey } from '../../tree-select/src/interface';\nexport function useKeyboard({ props, fNodesRef, mergedExpandedKeysRef, mergedSelectedKeysRef, handleSelect, handleSwitcherClick }) {\n    const { value: mergedSelectedKeys } = mergedSelectedKeysRef;\n    // If it's used in tree-select, make it take over pending state\n    const treeSelectInjection = inject(treeSelectInjectionKey, null);\n    const pendingNodeKeyRef = treeSelectInjection\n        ? treeSelectInjection.pendingNodeKeyRef\n        : ref(mergedSelectedKeys.length\n            ? mergedSelectedKeys[mergedSelectedKeys.length - 1]\n            : null);\n    function handleKeydown(e) {\n        if (!props.keyboard)\n            return;\n        const { value: pendingNodeKey } = pendingNodeKeyRef;\n        if (pendingNodeKey === null) {\n            if (e.key === 'ArrowDown' || e.key === 'ArrowUp') {\n                e.preventDefault();\n            }\n            if (['ArrowDown', 'ArrowUp', 'ArrowLeft', 'ArrowRight'].includes(e.key)) {\n                if (pendingNodeKey === null) {\n                    const { value: fNodes } = fNodesRef;\n                    let fIndex = 0;\n                    while (fIndex < fNodes.length) {\n                        if (!fNodes[fIndex].disabled) {\n                            pendingNodeKeyRef.value = fNodes[fIndex].key;\n                            break;\n                        }\n                        fIndex += 1;\n                    }\n                }\n            }\n        }\n        else {\n            const { value: fNodes } = fNodesRef;\n            let fIndex = fNodes.findIndex((tmNode) => tmNode.key === pendingNodeKey);\n            if (!~fIndex)\n                return;\n            if (e.key === 'Enter') {\n                handleSelect(fNodes[fIndex]);\n            }\n            else if (e.key === 'ArrowDown') {\n                e.preventDefault();\n                fIndex += 1;\n                while (fIndex < fNodes.length) {\n                    if (!fNodes[fIndex].disabled) {\n                        pendingNodeKeyRef.value = fNodes[fIndex].key;\n                        break;\n                    }\n                    fIndex += 1;\n                }\n            }\n            else if (e.key === 'ArrowUp') {\n                e.preventDefault();\n                fIndex -= 1;\n                while (fIndex >= 0) {\n                    if (!fNodes[fIndex].disabled) {\n                        pendingNodeKeyRef.value = fNodes[fIndex].key;\n                        break;\n                    }\n                    fIndex -= 1;\n                }\n            }\n            else if (e.key === 'ArrowLeft') {\n                const pendingNode = fNodes[fIndex];\n                if (pendingNode.isLeaf ||\n                    !mergedExpandedKeysRef.value.includes(pendingNodeKey)) {\n                    const parentTmNode = pendingNode.getParent();\n                    if (parentTmNode) {\n                        pendingNodeKeyRef.value = parentTmNode.key;\n                    }\n                }\n                else {\n                    handleSwitcherClick(pendingNode);\n                }\n            }\n            else if (e.key === 'ArrowRight') {\n                const pendingNode = fNodes[fIndex];\n                if (pendingNode.isLeaf)\n                    return;\n                if (!mergedExpandedKeysRef.value.includes(pendingNodeKey)) {\n                    handleSwitcherClick(pendingNode);\n                }\n                else {\n                    // Tha same as ArrowDown\n                    fIndex += 1;\n                    while (fIndex < fNodes.length) {\n                        if (!fNodes[fIndex].disabled) {\n                            pendingNodeKeyRef.value = fNodes[fIndex].key;\n                            break;\n                        }\n                        fIndex += 1;\n                    }\n                }\n            }\n        }\n    }\n    return {\n        pendingNodeKeyRef,\n        handleKeydown\n    };\n}\n","import { h, defineComponent } from 'vue';\nimport { pxfy } from 'seemly';\nimport FadeInExpandTransition from '../../_internal/fade-in-expand-transition';\nimport TreeNode from './TreeNode';\nexport default defineComponent({\n    name: 'TreeMotionWrapper',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        height: Number,\n        nodes: {\n            type: Array,\n            required: true\n        },\n        mode: {\n            type: String,\n            required: true\n        },\n        onAfterEnter: {\n            type: Function,\n            required: true\n        }\n    },\n    render() {\n        const { clsPrefix } = this;\n        return (h(FadeInExpandTransition, { onAfterEnter: this.onAfterEnter, appear: true, reverse: this.mode === 'collapse' }, {\n            default: () => (h(\"div\", { class: [\n                    `${clsPrefix}-tree-motion-wrapper`,\n                    `${clsPrefix}-tree-motion-wrapper--${this.mode}`\n                ], style: {\n                    height: pxfy(this.height)\n                } }, this.nodes.map((node) => (h(TreeNode, { clsPrefix: clsPrefix, tmNode: node })))))\n        }));\n    }\n});\n","import { c, cB, cE, cM, cNotM } from '../../../_utils/cssr';\nimport { iconSwitchTransition } from '../../../_styles/transitions/icon-switch.cssr';\nimport { fadeInHeightExpandTransition } from '../../../_styles/transitions/fade-in-height-expand.cssr'; // vars:\n// --n-arrow-color\n// --n-bezier\n// --n-font-size\n// --n-node-border-radius\n// --n-node-color-active\n// --n-node-color-hover\n// --n-node-color-pressed\n// --n-node-text-color\n// --n-node-text-color-disabled\n\nexport default cB('tree', `\n font-size: var(--n-font-size);\n outline: none;\n`, [c('ul, li', `\n margin: 0;\n padding: 0;\n list-style: none;\n `), c('>', [cB('tree-node', [c('&:first-child', {\n  marginTop: 0\n})])]), cB('tree-node-indent', `\n flex-grow: 0;\n flex-shrink: 0;\n height: 0;\n `), cB('tree-motion-wrapper', [cM('expand', [fadeInHeightExpandTransition({\n  duration: '0.2s'\n})]), cM('collapse', [fadeInHeightExpandTransition({\n  duration: '0.2s',\n  reverse: true\n})])]), cB('tree-node-wrapper', `\n box-sizing: border-box;\n padding: 3px 0;\n `), cB('tree-node', `\n position: relative;\n display: flex;\n border-radius: var(--n-node-border-radius);\n transition: background-color .3s var(--n-bezier);\n `, [cM('highlight', [cB('tree-node-content', [cE('text', {\n  borderBottomColor: 'var(--n-node-text-color-disabled)'\n})])]), cM('disabled', [cB('tree-node-content', `\n color: var(--n-node-text-color-disabled);\n cursor: not-allowed;\n `)]), cNotM('disabled', [cM('clickable', [cB('tree-node-content', `\n cursor: pointer;\n `)])])]), cM('block-node', [cB('tree-node-content', `\n flex: 1;\n min-width: 0;\n `)]), cNotM('block-line', [cB('tree-node', [cNotM('disabled', [cB('tree-node-content', [c('&:hover', {\n  backgroundColor: 'var(--n-node-color-hover)'\n})]), cM('selectable', [cB('tree-node-content', [c('&:active', {\n  backgroundColor: 'var(--n-node-color-pressed)'\n})])]), cM('pending', [cB('tree-node-content', `\n background-color: var(--n-node-color-hover);\n `)]), cM('selected', [cB('tree-node-content', {\n  backgroundColor: 'var(--n-node-color-active)'\n})])])])]), cM('block-line', [cB('tree-node', [cNotM('disabled', [c('&:hover', {\n  backgroundColor: 'var(--n-node-color-hover)'\n}), cM('pending', `\n background-color: var(--n-node-color-hover);\n `), cM('selectable', [cNotM('selected', [c('&:active', {\n  backgroundColor: 'var(--n-node-color-pressed)'\n})])]), cM('selected', {\n  backgroundColor: 'var(--n-node-color-active)'\n})]), cM('disabled', `\n cursor: not-allowed;\n `)])]), cB('tree-node-switcher', `\n cursor: pointer;\n display: inline-flex;\n flex-shrink: 0;\n height: 24px;\n width: 24px;\n align-items: center;\n justify-content: center;\n transition: transform .15s var(--n-bezier);\n vertical-align: bottom;\n `, [cE('icon', `\n position: relative;\n height: 14px;\n width: 14px;\n display: flex;\n color: var(--n-arrow-color);\n transition: color .3s var(--n-bezier);\n font-size: 14px;\n `, [cB('icon', [iconSwitchTransition()]), cB('base-loading', `\n color: var(--n-loading-color);\n position: absolute;\n left: 0;\n top: 0;\n right: 0;\n bottom: 0;\n `, [iconSwitchTransition()]), cB('base-icon', [iconSwitchTransition()])]), cM('hide', {\n  visibility: 'hidden'\n}), cM('expanded', {\n  transform: 'rotate(90deg)'\n})]), cB('tree-node-checkbox', `\n display: inline-flex;\n height: 24px;\n width: 16px;\n vertical-align: bottom;\n align-items: center;\n justify-content: center;\n margin-right: 4px;\n `, [cM('right', 'margin-left: 4px;')]), cM('checkable', [cB('tree-node-content', `\n padding: 0 6px;\n `)]), cB('tree-node-content', `\n position: relative;\n display: inline-flex;\n align-items: center;\n min-height: 24px;\n box-sizing: border-box;\n line-height: 1.5;\n vertical-align: bottom;\n padding: 0 6px 0 4px;\n cursor: default;\n border-radius: var(--n-node-border-radius);\n text-decoration-color: #0000;\n text-decoration-line: underline;\n color: var(--n-node-text-color);\n transition:\n color .3s var(--n-bezier),\n text-decoration-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier),\n border-color .3s var(--n-bezier);\n `, [c('&:last-child', {\n  marginBottom: 0\n}), cE('prefix', `\n display: inline-flex;\n margin-right: 8px;\n `), cE('text', `\n border-bottom: 1px solid #0000;\n transition: border-color .3s var(--n-bezier);\n flex-grow: 1;\n max-width: 100%;\n `), cE('suffix', `\n display: inline-flex;\n `)]), cE('empty', 'margin: auto;')]);","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\nimport { h, ref, toRef, computed, defineComponent, provide, watch, nextTick, watchEffect, inject } from 'vue';\nimport { createTreeMate, flatten, createIndexGetter } from 'treemate';\nimport { useMergedState } from 'vooks';\nimport { VVirtualList } from 'vueuc';\nimport { getPadding } from 'seemly';\nimport { treeSelectInjectionKey } from '../../tree-select/src/interface';\nimport { useConfig, useTheme, useThemeClass, useRtl } from '../../_mixins';\nimport { call, createDataKey, resolveSlot, warn, warnOnce } from '../../_utils';\nimport { NxScrollbar } from '../../_internal';\nimport { treeLight } from '../styles';\nimport NTreeNode from './TreeNode';\nimport { keysWithFilter, emptyImage, filterTree, isNodeDisabled } from './utils';\nimport { useKeyboard } from './keyboard';\nimport { treeInjectionKey } from './interface';\nimport MotionWrapper from './MotionWrapper';\nimport { defaultAllowDrop } from './dnd';\nimport style from './styles/index.cssr';\nimport { NEmpty } from '../../empty';\n// TODO:\n// During expanding, some node are mis-applied with :active style\n// Async dnd has bug\nconst ITEM_SIZE = 30; // 24 + 3 + 3\nexport function createTreeMateOptions(keyField, childrenField, disabledField) {\n    return {\n        getIsGroup() {\n            return false;\n        },\n        getKey(node) {\n            return node[keyField];\n        },\n        getChildren(node) {\n            return node[childrenField];\n        },\n        getDisabled(node) {\n            return !!(node[disabledField] || node.checkboxDisabled);\n        }\n    };\n}\nexport const treeSharedProps = {\n    allowCheckingNotLoaded: Boolean,\n    filter: Function,\n    defaultExpandAll: Boolean,\n    expandedKeys: Array,\n    keyField: {\n        type: String,\n        default: 'key'\n    },\n    labelField: {\n        type: String,\n        default: 'label'\n    },\n    childrenField: {\n        type: String,\n        default: 'children'\n    },\n    disabledField: {\n        type: String,\n        default: 'disabled'\n    },\n    defaultExpandedKeys: {\n        type: Array,\n        default: () => []\n    },\n    indeterminateKeys: Array,\n    renderSwitcherIcon: Function,\n    onUpdateIndeterminateKeys: [Function, Array],\n    'onUpdate:indeterminateKeys': [Function, Array],\n    onUpdateExpandedKeys: [Function, Array],\n    'onUpdate:expandedKeys': [Function, Array]\n};\nexport const treeProps = Object.assign(Object.assign(Object.assign(Object.assign({}, useTheme.props), { accordion: Boolean, showIrrelevantNodes: { type: Boolean, default: true }, data: {\n        type: Array,\n        default: () => []\n    }, expandOnDragenter: {\n        type: Boolean,\n        default: true\n    }, expandOnClick: Boolean, checkOnClick: {\n        type: [Boolean, Function],\n        default: false\n    }, cancelable: {\n        type: Boolean,\n        default: true\n    }, checkable: Boolean, draggable: Boolean, blockNode: Boolean, blockLine: Boolean, disabled: Boolean, checkedKeys: Array, defaultCheckedKeys: {\n        type: Array,\n        default: () => []\n    }, selectedKeys: Array, defaultSelectedKeys: {\n        type: Array,\n        default: () => []\n    }, multiple: Boolean, pattern: {\n        type: String,\n        default: ''\n    }, onLoad: Function, cascade: Boolean, selectable: {\n        type: Boolean,\n        default: true\n    }, indent: {\n        type: Number,\n        default: 16\n    }, allowDrop: {\n        type: Function,\n        default: defaultAllowDrop\n    }, animated: {\n        type: Boolean,\n        default: true\n    }, checkboxPlacement: {\n        type: String,\n        default: 'left'\n    }, virtualScroll: Boolean, watchProps: Array, renderLabel: Function, renderPrefix: Function, renderSuffix: Function, nodeProps: Function, keyboard: {\n        type: Boolean,\n        default: true\n    }, onDragenter: [Function, Array], onDragleave: [Function, Array], onDragend: [Function, Array], onDragstart: [Function, Array], onDragover: [Function, Array], onDrop: [Function, Array], onUpdateCheckedKeys: [Function, Array], 'onUpdate:checkedKeys': [Function, Array], onUpdateSelectedKeys: [Function, Array], 'onUpdate:selectedKeys': [Function, Array] }), treeSharedProps), { \n    // internal props for tree-select\n    internalTreeSelect: Boolean, internalScrollable: Boolean, internalScrollablePadding: String, \n    // use it to display\n    internalRenderEmpty: Function, internalHighlightKeySet: Object, internalUnifySelectCheck: Boolean, internalCheckboxFocusable: {\n        type: Boolean,\n        default: true\n    }, internalFocusable: {\n        // Make tree-select take over keyboard operations\n        type: Boolean,\n        default: true\n    }, checkStrategy: {\n        type: String,\n        default: 'all'\n    }, \n    /**\n     * @deprecated\n     */\n    leafOnly: Boolean });\nexport default defineComponent({\n    name: 'Tree',\n    props: treeProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.leafOnly) {\n                    warnOnce('tree', '`leaf-only` is deprecated, please use `check-strategy=\"child\"` instead');\n                }\n            });\n        }\n        const { mergedClsPrefixRef, inlineThemeDisabled, mergedRtlRef } = useConfig(props);\n        const rtlEnabledRef = useRtl('Tree', mergedRtlRef, mergedClsPrefixRef);\n        const themeRef = useTheme('Tree', '-tree', style, treeLight, props, mergedClsPrefixRef);\n        const selfElRef = ref(null);\n        const scrollbarInstRef = ref(null);\n        const virtualListInstRef = ref(null);\n        function getScrollContainer() {\n            var _a;\n            return (_a = virtualListInstRef.value) === null || _a === void 0 ? void 0 : _a.listElRef;\n        }\n        function getScrollContent() {\n            var _a;\n            return (_a = virtualListInstRef.value) === null || _a === void 0 ? void 0 : _a.itemsElRef;\n        }\n        const filteredTreeInfoRef = computed(() => {\n            const { pattern } = props;\n            if (!pattern) {\n                return {\n                    filteredTree: props.data,\n                    highlightKeySet: null,\n                    expandedKeys: undefined\n                };\n            }\n            if (!pattern.length || !mergedFilterRef.value) {\n                return {\n                    filteredTree: props.data,\n                    highlightKeySet: null,\n                    expandedKeys: undefined\n                };\n            }\n            return filterTree(props.data, mergedFilterRef.value, pattern, props.keyField, props.childrenField);\n        });\n        // We don't expect data source to change so we just determine it once\n        const displayTreeMateRef = computed(() => createTreeMate(props.showIrrelevantNodes\n            ? props.data\n            : filteredTreeInfoRef.value.filteredTree, createTreeMateOptions(props.keyField, props.childrenField, props.disabledField)));\n        const treeSelectInjection = inject(treeSelectInjectionKey, null);\n        const dataTreeMateRef = props.internalTreeSelect\n            ? treeSelectInjection.dataTreeMate\n            : displayTreeMateRef;\n        const { watchProps } = props;\n        const uncontrolledCheckedKeysRef = ref([]);\n        if (watchProps === null || watchProps === void 0 ? void 0 : watchProps.includes('defaultCheckedKeys')) {\n            watchEffect(() => {\n                uncontrolledCheckedKeysRef.value = props.defaultCheckedKeys;\n            });\n        }\n        else {\n            uncontrolledCheckedKeysRef.value = props.defaultCheckedKeys;\n        }\n        const controlledCheckedKeysRef = toRef(props, 'checkedKeys');\n        const mergedCheckedKeysRef = useMergedState(controlledCheckedKeysRef, uncontrolledCheckedKeysRef);\n        const checkedStatusRef = computed(() => {\n            const value = dataTreeMateRef.value.getCheckedKeys(mergedCheckedKeysRef.value, {\n                cascade: props.cascade,\n                allowNotLoaded: props.allowCheckingNotLoaded\n            });\n            return value;\n        });\n        const mergedCheckStrategyRef = computed(() => props.leafOnly ? 'child' : props.checkStrategy);\n        const displayedCheckedKeysRef = computed(() => {\n            return checkedStatusRef.value.checkedKeys;\n        });\n        const displayedIndeterminateKeysRef = computed(() => {\n            const { indeterminateKeys } = props;\n            if (indeterminateKeys !== undefined)\n                return indeterminateKeys;\n            return checkedStatusRef.value.indeterminateKeys;\n        });\n        const uncontrolledSelectedKeysRef = ref([]);\n        if (watchProps === null || watchProps === void 0 ? void 0 : watchProps.includes('defaultSelectedKeys')) {\n            watchEffect(() => {\n                uncontrolledSelectedKeysRef.value = props.defaultSelectedKeys;\n            });\n        }\n        else {\n            uncontrolledSelectedKeysRef.value = props.defaultSelectedKeys;\n        }\n        const controlledSelectedKeysRef = toRef(props, 'selectedKeys');\n        const mergedSelectedKeysRef = useMergedState(controlledSelectedKeysRef, uncontrolledSelectedKeysRef);\n        const uncontrolledExpandedKeysRef = ref([]);\n        const initUncontrolledExpandedKeys = (keys) => {\n            uncontrolledExpandedKeysRef.value = props.defaultExpandAll\n                ? dataTreeMateRef.value.getNonLeafKeys()\n                : keys === undefined\n                    ? props.defaultExpandedKeys\n                    : keys;\n        };\n        if (watchProps === null || watchProps === void 0 ? void 0 : watchProps.includes('defaultExpandedKeys')) {\n            // if watching defaultExpandedKeys, we use access props.defaultExpandedKeys inside initiator\n            watchEffect(() => initUncontrolledExpandedKeys(undefined));\n        }\n        else {\n            // We by default watchEffect since if defaultExpandAll is true, we should remain tree expand if data changes\n            watchEffect(() => initUncontrolledExpandedKeys(props.defaultExpandedKeys));\n        }\n        const controlledExpandedKeysRef = toRef(props, 'expandedKeys');\n        const mergedExpandedKeysRef = useMergedState(controlledExpandedKeysRef, uncontrolledExpandedKeysRef);\n        const fNodesRef = computed(() => displayTreeMateRef.value.getFlattenedNodes(mergedExpandedKeysRef.value));\n        const { pendingNodeKeyRef, handleKeydown } = useKeyboard({\n            props,\n            mergedSelectedKeysRef,\n            fNodesRef,\n            mergedExpandedKeysRef,\n            handleSelect,\n            handleSwitcherClick\n        });\n        let expandTimerId = null;\n        let nodeKeyToBeExpanded = null;\n        const uncontrolledHighlightKeySetRef = ref(new Set());\n        const controlledHighlightKeySetRef = computed(() => {\n            return (props.internalHighlightKeySet ||\n                filteredTreeInfoRef.value.highlightKeySet);\n        });\n        const mergedHighlightKeySetRef = useMergedState(controlledHighlightKeySetRef, uncontrolledHighlightKeySetRef);\n        const loadingKeysRef = ref(new Set());\n        const expandedNonLoadingKeysRef = computed(() => {\n            return mergedExpandedKeysRef.value.filter((key) => !loadingKeysRef.value.has(key));\n        });\n        let dragStartX = 0;\n        const draggingNodeRef = ref(null);\n        const droppingNodeRef = ref(null);\n        const droppingMouseNodeRef = ref(null);\n        const droppingPositionRef = ref(null);\n        const droppingOffsetLevelRef = ref(0);\n        const droppingNodeParentRef = computed(() => {\n            const { value: droppingNode } = droppingNodeRef;\n            if (!droppingNode)\n                return null;\n            // May avoid overlap between line mark of first child & rect mark of parent\n            // if (droppingNode.isFirstChild && droppingPositionRef.value === 'before') {\n            //   return null\n            // }\n            return droppingNode.parent;\n        });\n        const mergedFilterRef = computed(() => {\n            const { filter } = props;\n            if (filter)\n                return filter;\n            const { labelField } = props;\n            return (pattern, node) => {\n                if (!pattern.length)\n                    return true;\n                const label = node[labelField];\n                if (typeof label === 'string') {\n                    return label.toLowerCase().includes(pattern.toLowerCase());\n                }\n                return false;\n            };\n        });\n        // shallow watch data\n        watch(toRef(props, 'data'), () => {\n            loadingKeysRef.value.clear();\n            pendingNodeKeyRef.value = null;\n            resetDndState();\n        }, {\n            deep: false\n        });\n        let expandAnimationDisabled = false;\n        const disableExpandAnimationForOneTick = () => {\n            expandAnimationDisabled = true;\n            void nextTick(() => {\n                expandAnimationDisabled = false;\n            });\n        };\n        let memoizedExpandedKeys;\n        watch(toRef(props, 'pattern'), (value, oldValue) => {\n            if (props.showIrrelevantNodes) {\n                memoizedExpandedKeys = undefined;\n                if (value) {\n                    const { expandedKeys: expandedKeysAfterChange, highlightKeySet } = keysWithFilter(props.data, props.pattern, props.keyField, props.childrenField, mergedFilterRef.value);\n                    uncontrolledHighlightKeySetRef.value = highlightKeySet;\n                    disableExpandAnimationForOneTick();\n                    doUpdateExpandedKeys(expandedKeysAfterChange, getOptionsByKeys(expandedKeysAfterChange));\n                }\n                else {\n                    uncontrolledHighlightKeySetRef.value = new Set();\n                }\n            }\n            else {\n                if (!value.length) {\n                    if (memoizedExpandedKeys !== undefined) {\n                        disableExpandAnimationForOneTick();\n                        doUpdateExpandedKeys(memoizedExpandedKeys, getOptionsByKeys(memoizedExpandedKeys));\n                    }\n                }\n                else {\n                    if (!oldValue.length) {\n                        memoizedExpandedKeys = mergedExpandedKeysRef.value;\n                    }\n                    const { expandedKeys } = filteredTreeInfoRef.value;\n                    if (expandedKeys !== undefined) {\n                        disableExpandAnimationForOneTick();\n                        doUpdateExpandedKeys(expandedKeys, getOptionsByKeys(expandedKeys));\n                    }\n                }\n            }\n        });\n        function triggerLoading(node) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const { onLoad } = props;\n                if (!onLoad) {\n                    if (process.env.NODE_ENV !== 'production') {\n                        warn('tree', 'There is unloaded node in data but props.onLoad is not specified.');\n                    }\n                    return yield Promise.resolve();\n                }\n                const { value: loadingKeys } = loadingKeysRef;\n                return yield new Promise((resolve) => {\n                    if (!loadingKeys.has(node.key)) {\n                        loadingKeys.add(node.key);\n                        onLoad(node.rawNode)\n                            .then(() => {\n                            loadingKeys.delete(node.key);\n                            resolve();\n                        })\n                            .catch((loadError) => {\n                            console.error(loadError);\n                            resetDragExpandState();\n                        });\n                    }\n                });\n            });\n        }\n        watchEffect(() => {\n            var _a;\n            const { value: displayTreeMate } = displayTreeMateRef;\n            if (!displayTreeMate)\n                return;\n            const { getNode } = displayTreeMate;\n            (_a = mergedExpandedKeysRef.value) === null || _a === void 0 ? void 0 : _a.forEach((key) => {\n                const node = getNode(key);\n                if (node && !node.shallowLoaded) {\n                    void triggerLoading(node);\n                }\n            });\n        });\n        // animation in progress\n        const aipRef = ref(false);\n        // animation flattened nodes\n        const afNodesRef = ref([]);\n        // Note: Since the virtual list depends on min height, if there's a node\n        // whose height starts from 0, the virtual list will have a wrong height\n        // during animation. This will seldom cause wired scrollbar status. It is\n        // fixable and need some changes in vueuc, I've no time so I just leave it\n        // here. Maybe the bug won't be fixed during the life time of the project.\n        watch(expandedNonLoadingKeysRef, (value, prevValue) => {\n            if (!props.animated || expandAnimationDisabled) {\n                void nextTick(syncScrollbar);\n                return;\n            }\n            const prevVSet = new Set(prevValue);\n            let addedKey = null;\n            let removedKey = null;\n            for (const expandedKey of value) {\n                if (!prevVSet.has(expandedKey)) {\n                    if (addedKey !== null)\n                        return; // multi expand, not triggered by click\n                    addedKey = expandedKey;\n                }\n            }\n            const currentVSet = new Set(value);\n            for (const expandedKey of prevValue) {\n                if (!currentVSet.has(expandedKey)) {\n                    if (removedKey !== null)\n                        return; // multi collapse, not triggered by click\n                    removedKey = expandedKey;\n                }\n            }\n            if (addedKey === null && removedKey === null) {\n                // 1. multi action, not triggered by click\n                // 2. no action, don't know what happened\n                return;\n            }\n            const { virtualScroll } = props;\n            const viewportHeight = (virtualScroll ? virtualListInstRef.value.listElRef : selfElRef.value).offsetHeight;\n            const viewportItemCount = Math.ceil(viewportHeight / ITEM_SIZE) + 1;\n            // play add animation\n            let baseExpandedKeys;\n            if (addedKey !== null) {\n                baseExpandedKeys = prevValue;\n            }\n            if (removedKey !== null) {\n                if (baseExpandedKeys === undefined) {\n                    baseExpandedKeys = value;\n                }\n                else {\n                    baseExpandedKeys = baseExpandedKeys.filter((key) => key !== removedKey);\n                }\n            }\n            aipRef.value = true;\n            afNodesRef.value =\n                displayTreeMateRef.value.getFlattenedNodes(baseExpandedKeys);\n            if (addedKey !== null) {\n                const expandedNodeIndex = afNodesRef.value.findIndex((node) => node.key === addedKey);\n                if (~expandedNodeIndex) {\n                    const children = // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n                     afNodesRef.value[expandedNodeIndex].children;\n                    // sometimes user will pass leaf keys in\n                    if (children) {\n                        const expandedChildren = flatten(children, value);\n                        afNodesRef.value.splice(expandedNodeIndex + 1, 0, {\n                            __motion: true,\n                            mode: 'expand',\n                            height: virtualScroll\n                                ? expandedChildren.length * ITEM_SIZE\n                                : undefined,\n                            nodes: virtualScroll\n                                ? expandedChildren.slice(0, viewportItemCount)\n                                : expandedChildren\n                        });\n                    }\n                }\n            }\n            if (removedKey !== null) {\n                const collapsedNodeIndex = afNodesRef.value.findIndex((node) => node.key === removedKey);\n                if (~collapsedNodeIndex) {\n                    const collapsedNodeChildren = afNodesRef.value[collapsedNodeIndex].children;\n                    // Sometime the whole tree is change, remove a key doesn't mean it is collapsed,\n                    // but maybe children removed\n                    if (!collapsedNodeChildren)\n                        return;\n                    // play remove animation\n                    aipRef.value = true;\n                    const collapsedChildren = flatten(collapsedNodeChildren, value);\n                    afNodesRef.value.splice(collapsedNodeIndex + 1, 0, {\n                        __motion: true,\n                        mode: 'collapse',\n                        height: virtualScroll\n                            ? collapsedChildren.length * ITEM_SIZE\n                            : undefined,\n                        nodes: virtualScroll\n                            ? collapsedChildren.slice(0, viewportItemCount)\n                            : collapsedChildren\n                    });\n                }\n            }\n        });\n        const getFIndexRef = computed(() => {\n            return createIndexGetter(fNodesRef.value);\n        });\n        const mergedFNodesRef = computed(() => {\n            if (aipRef.value)\n                return afNodesRef.value;\n            else\n                return fNodesRef.value;\n        });\n        function syncScrollbar() {\n            const { value: scrollbarInst } = scrollbarInstRef;\n            if (scrollbarInst)\n                scrollbarInst.sync();\n        }\n        function handleAfterEnter() {\n            aipRef.value = false;\n            if (props.virtualScroll) {\n                // If virtual scroll, we won't listen to resize during animation, so\n                // resize callback of virtual list won't be called and as a result\n                // scrollbar won't sync. We need to sync scrollbar manually.\n                void nextTick(syncScrollbar);\n            }\n        }\n        function getOptionsByKeys(keys) {\n            const { getNode } = dataTreeMateRef.value;\n            return keys.map((key) => { var _a; return ((_a = getNode(key)) === null || _a === void 0 ? void 0 : _a.rawNode) || null; });\n        }\n        function doUpdateExpandedKeys(value, option) {\n            const { 'onUpdate:expandedKeys': _onUpdateExpandedKeys, onUpdateExpandedKeys } = props;\n            uncontrolledExpandedKeysRef.value = value;\n            if (_onUpdateExpandedKeys) {\n                call(_onUpdateExpandedKeys, value, option);\n            }\n            if (onUpdateExpandedKeys) {\n                call(onUpdateExpandedKeys, value, option);\n            }\n        }\n        function doUpdateCheckedKeys(value, option) {\n            const { 'onUpdate:checkedKeys': _onUpdateCheckedKeys, onUpdateCheckedKeys } = props;\n            uncontrolledCheckedKeysRef.value = value;\n            if (onUpdateCheckedKeys) {\n                call(onUpdateCheckedKeys, value, option);\n            }\n            if (_onUpdateCheckedKeys) {\n                call(_onUpdateCheckedKeys, value, option);\n            }\n        }\n        function doUpdateIndeterminateKeys(value, option) {\n            const { 'onUpdate:indeterminateKeys': _onUpdateIndeterminateKeys, onUpdateIndeterminateKeys } = props;\n            if (_onUpdateIndeterminateKeys) {\n                call(_onUpdateIndeterminateKeys, value, option);\n            }\n            if (onUpdateIndeterminateKeys) {\n                call(onUpdateIndeterminateKeys, value, option);\n            }\n        }\n        function doUpdateSelectedKeys(value, option) {\n            const { 'onUpdate:selectedKeys': _onUpdateSelectedKeys, onUpdateSelectedKeys } = props;\n            uncontrolledSelectedKeysRef.value = value;\n            if (onUpdateSelectedKeys) {\n                call(onUpdateSelectedKeys, value, option);\n            }\n            if (_onUpdateSelectedKeys) {\n                call(_onUpdateSelectedKeys, value, option);\n            }\n        }\n        // Drag & Drop\n        function doDragEnter(info) {\n            const { onDragenter } = props;\n            if (onDragenter)\n                call(onDragenter, info);\n        }\n        function doDragLeave(info) {\n            const { onDragleave } = props;\n            if (onDragleave)\n                call(onDragleave, info);\n        }\n        function doDragEnd(info) {\n            const { onDragend } = props;\n            if (onDragend)\n                call(onDragend, info);\n        }\n        function doDragStart(info) {\n            const { onDragstart } = props;\n            if (onDragstart)\n                call(onDragstart, info);\n        }\n        function doDragOver(info) {\n            const { onDragover } = props;\n            if (onDragover)\n                call(onDragover, info);\n        }\n        function doDrop(info) {\n            const { onDrop } = props;\n            if (onDrop)\n                call(onDrop, info);\n        }\n        function resetDndState() {\n            resetDragState();\n            resetDropState();\n        }\n        function resetDragState() {\n            draggingNodeRef.value = null;\n        }\n        function resetDropState() {\n            droppingOffsetLevelRef.value = 0;\n            droppingNodeRef.value = null;\n            droppingMouseNodeRef.value = null;\n            droppingPositionRef.value = null;\n            resetDragExpandState();\n        }\n        function resetDragExpandState() {\n            if (expandTimerId) {\n                window.clearTimeout(expandTimerId);\n                expandTimerId = null;\n            }\n            nodeKeyToBeExpanded = null;\n        }\n        function handleCheck(node, checked) {\n            // We don't guard for leaf only since we have done it in view layer\n            if (props.disabled || isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            if (props.internalUnifySelectCheck && !props.multiple) {\n                handleSelect(node);\n                return;\n            }\n            const { checkedKeys, indeterminateKeys } = dataTreeMateRef.value[checked ? 'check' : 'uncheck'](node.key, displayedCheckedKeysRef.value, {\n                cascade: props.cascade,\n                checkStrategy: mergedCheckStrategyRef.value,\n                allowNotLoaded: props.allowCheckingNotLoaded\n            });\n            doUpdateCheckedKeys(checkedKeys, getOptionsByKeys(checkedKeys));\n            doUpdateIndeterminateKeys(indeterminateKeys, getOptionsByKeys(indeterminateKeys));\n        }\n        function toggleExpand(node) {\n            if (props.disabled)\n                return;\n            const { key } = node;\n            const { value: mergedExpandedKeys } = mergedExpandedKeysRef;\n            const index = mergedExpandedKeys.findIndex((expandNodeId) => expandNodeId === key);\n            if (~index) {\n                const expandedKeysAfterChange = Array.from(mergedExpandedKeys);\n                expandedKeysAfterChange.splice(index, 1);\n                doUpdateExpandedKeys(expandedKeysAfterChange, getOptionsByKeys(expandedKeysAfterChange));\n            }\n            else {\n                const nodeToBeExpanded = displayTreeMateRef.value.getNode(key);\n                if (!nodeToBeExpanded || nodeToBeExpanded.isLeaf) {\n                    return;\n                }\n                let nextKeys;\n                if (props.accordion) {\n                    const siblingKeySet = new Set(node.siblings.map(({ key }) => key));\n                    nextKeys = mergedExpandedKeys.filter((expandedKey) => {\n                        return !siblingKeySet.has(expandedKey);\n                    });\n                    nextKeys.push(key);\n                }\n                else {\n                    nextKeys = mergedExpandedKeys.concat(key);\n                }\n                doUpdateExpandedKeys(nextKeys, getOptionsByKeys(nextKeys));\n            }\n        }\n        function handleSwitcherClick(node) {\n            if (props.disabled || aipRef.value)\n                return;\n            toggleExpand(node);\n        }\n        function handleSelect(node) {\n            if (props.disabled || !props.selectable) {\n                return;\n            }\n            pendingNodeKeyRef.value = node.key;\n            if (props.internalUnifySelectCheck) {\n                const { value: { checkedKeys, indeterminateKeys } } = checkedStatusRef;\n                if (props.multiple) {\n                    handleCheck(node, !(checkedKeys.includes(node.key) ||\n                        indeterminateKeys.includes(node.key)));\n                }\n                else {\n                    doUpdateCheckedKeys([node.key], getOptionsByKeys([node.key]));\n                }\n            }\n            if (props.multiple) {\n                const selectedKeys = Array.from(mergedSelectedKeysRef.value);\n                const index = selectedKeys.findIndex((key) => key === node.key);\n                if (~index) {\n                    if (props.cancelable) {\n                        selectedKeys.splice(index, 1);\n                    }\n                }\n                else if (!~index) {\n                    selectedKeys.push(node.key);\n                }\n                doUpdateSelectedKeys(selectedKeys, getOptionsByKeys(selectedKeys));\n            }\n            else {\n                const selectedKeys = mergedSelectedKeysRef.value;\n                if (selectedKeys.includes(node.key)) {\n                    if (props.cancelable) {\n                        doUpdateSelectedKeys([], []);\n                    }\n                }\n                else {\n                    doUpdateSelectedKeys([node.key], getOptionsByKeys([node.key]));\n                }\n            }\n        }\n        function expandDragEnterNode(node) {\n            if (expandTimerId) {\n                window.clearTimeout(expandTimerId);\n                expandTimerId = null;\n            }\n            // Don't expand leaf node.\n            if (node.isLeaf)\n                return;\n            nodeKeyToBeExpanded = node.key;\n            const expand = () => {\n                if (nodeKeyToBeExpanded !== node.key)\n                    return;\n                const { value: droppingMouseNode } = droppingMouseNodeRef;\n                if (droppingMouseNode &&\n                    droppingMouseNode.key === node.key &&\n                    !mergedExpandedKeysRef.value.includes(node.key)) {\n                    const nextKeys = mergedExpandedKeysRef.value.concat(node.key);\n                    doUpdateExpandedKeys(nextKeys, getOptionsByKeys(nextKeys));\n                }\n                expandTimerId = null;\n                nodeKeyToBeExpanded = null;\n            };\n            if (!node.shallowLoaded) {\n                expandTimerId = window.setTimeout(() => {\n                    void triggerLoading(node).then(() => {\n                        expand();\n                    });\n                }, 1000);\n            }\n            else {\n                expandTimerId = window.setTimeout(() => {\n                    expand();\n                }, 1000);\n            }\n        }\n        // Dnd\n        function handleDragEnter({ event, node }) {\n            // node should be a tmNode\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            handleDragOver({ event, node }, false);\n            doDragEnter({ event, node: node.rawNode });\n        }\n        function handleDragLeave({ event, node }) {\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            doDragLeave({ event, node: node.rawNode });\n        }\n        function handleDragLeaveTree(e) {\n            if (e.target !== e.currentTarget)\n                return;\n            resetDropState();\n        }\n        // Dragend is ok, we don't need to add global listener to reset drag status\n        function handleDragEnd({ event, node }) {\n            resetDndState();\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            doDragEnd({ event, node: node.rawNode });\n        }\n        function handleDragStart({ event, node }) {\n            var _a;\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            // Most of time, the image will block user's view\n            emptyImage && ((_a = event.dataTransfer) === null || _a === void 0 ? void 0 : _a.setDragImage(emptyImage, 0, 0));\n            dragStartX = event.clientX;\n            draggingNodeRef.value = node;\n            doDragStart({ event, node: node.rawNode });\n        }\n        function handleDragOver({ event, node }, emit = true) {\n            var _a;\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            const { value: draggingNode } = draggingNodeRef;\n            if (!draggingNode)\n                return;\n            const { allowDrop, indent } = props;\n            if (emit)\n                doDragOver({ event, node: node.rawNode });\n            // Update dropping node\n            const el = event.currentTarget;\n            const { height: elOffsetHeight, top: elClientTop } = el.getBoundingClientRect();\n            const eventOffsetY = event.clientY - elClientTop;\n            let mousePosition;\n            const allowDropInside = allowDrop({\n                node: node.rawNode,\n                dropPosition: 'inside',\n                phase: 'drag'\n            });\n            if (allowDropInside) {\n                if (eventOffsetY <= 8) {\n                    mousePosition = 'before';\n                }\n                else if (eventOffsetY >= elOffsetHeight - 8) {\n                    mousePosition = 'after';\n                }\n                else {\n                    mousePosition = 'inside';\n                }\n            }\n            else {\n                if (eventOffsetY <= elOffsetHeight / 2) {\n                    mousePosition = 'before';\n                }\n                else {\n                    mousePosition = 'after';\n                }\n            }\n            const { value: getFindex } = getFIndexRef;\n            /** determine the drop position and drop node */\n            /** the dropping node needn't to be the mouse hovering node! */\n            /**\n             * if there is something i've learned from implementing a complex\n             * drag & drop. that is never write unit test before you really figure\n             * out what behavior is exactly you want.\n             */\n            let finalDropNode;\n            let finalDropPosition;\n            const hoverNodeFIndex = getFindex(node.key);\n            if (hoverNodeFIndex === null) {\n                resetDropState();\n                return;\n            }\n            let mouseAtExpandedNonLeafNode = false;\n            if (mousePosition === 'inside') {\n                finalDropNode = node;\n                finalDropPosition = 'inside';\n            }\n            else {\n                if (mousePosition === 'before') {\n                    if (node.isFirstChild) {\n                        finalDropNode = node;\n                        finalDropPosition = 'before';\n                    }\n                    else {\n                        finalDropNode = fNodesRef.value[hoverNodeFIndex - 1];\n                        finalDropPosition = 'after';\n                    }\n                }\n                else {\n                    finalDropNode = node;\n                    finalDropPosition = 'after';\n                }\n            }\n            // If the node is non-leaf and it is expanded, we don't allow it to\n            // drop after it and change it to drop before its next view sibling\n            if (!finalDropNode.isLeaf &&\n                mergedExpandedKeysRef.value.includes(finalDropNode.key)) {\n                mouseAtExpandedNonLeafNode = true;\n                if (finalDropPosition === 'after') {\n                    finalDropNode = fNodesRef.value[hoverNodeFIndex + 1];\n                    if (!finalDropNode) {\n                        // maybe there is no next view sibling when non-leaf node has no\n                        // children and it is the last node in the tree\n                        finalDropNode = node;\n                        finalDropPosition = 'inside';\n                    }\n                    else {\n                        finalDropPosition = 'before';\n                    }\n                }\n            }\n            const droppingMouseNode = finalDropNode;\n            droppingMouseNodeRef.value = droppingMouseNode;\n            // This is a speacial case, user is dragging a last child itself, so we\n            // only view it as they are trying to drop after it.\n            // There are some relevant codes in bailout 1's child branch.\n            // Also, the expand bailout should have a high priority. If it's non-leaf\n            // node and expanded, keep its origin drop position\n            if (!mouseAtExpandedNonLeafNode &&\n                draggingNode.isLastChild &&\n                draggingNode.key === finalDropNode.key) {\n                finalDropPosition = 'after';\n            }\n            if (finalDropPosition === 'after') {\n                let offset = dragStartX - event.clientX; // drag left => > 0\n                let offsetLevel = 0;\n                while (offset >= indent / 2 && // divide by 2 to make it easier to trigger\n                    finalDropNode.parent !== null &&\n                    finalDropNode.isLastChild &&\n                    offsetLevel < 1) {\n                    offset -= indent;\n                    offsetLevel += 1;\n                    finalDropNode = finalDropNode.parent;\n                }\n                droppingOffsetLevelRef.value = offsetLevel;\n            }\n            else {\n                droppingOffsetLevelRef.value = 0;\n            }\n            // Bailout 1\n            // Drag self into self\n            // Drag it into direct parent\n            if (draggingNode.contains(finalDropNode) ||\n                (finalDropPosition === 'inside' &&\n                    ((_a = draggingNode.parent) === null || _a === void 0 ? void 0 : _a.key) === finalDropNode.key)) {\n                if (draggingNode.key === droppingMouseNode.key &&\n                    draggingNode.key === finalDropNode.key) {\n                    // This is special case that we want ui to show a mark to guide user\n                    // to start dragging. Nor they will think nothing happens.\n                    // However this is an invalid drop, we need to guard it inside\n                    // handleDrop\n                }\n                else {\n                    resetDropState();\n                    return;\n                }\n            }\n            // Bailout 3\n            if (!allowDrop({\n                node: finalDropNode.rawNode,\n                dropPosition: finalDropPosition,\n                phase: 'drag'\n            })) {\n                resetDropState();\n                return;\n            }\n            if (draggingNode.key === finalDropNode.key) {\n                // don't expand when drag on itself\n                resetDragExpandState();\n            }\n            else {\n                if (nodeKeyToBeExpanded !== finalDropNode.key) {\n                    if (finalDropPosition === 'inside') {\n                        if (props.expandOnDragenter) {\n                            expandDragEnterNode(finalDropNode);\n                            // Bailout 4\n                            // not try to loading\n                            if (!finalDropNode.shallowLoaded &&\n                                nodeKeyToBeExpanded !== finalDropNode.key) {\n                                resetDndState();\n                                return;\n                            }\n                        }\n                        else {\n                            // Bailout 5\n                            // never expands on drag\n                            if (!finalDropNode.shallowLoaded) {\n                                resetDndState();\n                                return;\n                            }\n                        }\n                    }\n                    else {\n                        resetDragExpandState();\n                    }\n                }\n                else {\n                    if (finalDropPosition !== 'inside') {\n                        resetDragExpandState();\n                    }\n                }\n            }\n            droppingPositionRef.value = finalDropPosition;\n            droppingNodeRef.value = finalDropNode;\n        }\n        function handleDrop({ event, node, dropPosition }) {\n            if (!props.draggable ||\n                props.disabled ||\n                isNodeDisabled(node, props.disabledField)) {\n                return;\n            }\n            const { value: draggingNode } = draggingNodeRef;\n            const { value: droppingNode } = droppingNodeRef;\n            const { value: droppingPosition } = droppingPositionRef;\n            if (!draggingNode || !droppingNode || !droppingPosition) {\n                return;\n            }\n            // Bailout 1\n            if (!props.allowDrop({\n                node: droppingNode.rawNode,\n                dropPosition: droppingPosition,\n                phase: 'drag'\n            })) {\n                return;\n            }\n            // Bailout 2\n            // This is a special case to guard since we want ui to show the status\n            // but not to emit a event\n            if (draggingNode.key === droppingNode.key) {\n                return;\n            }\n            // Bailout 3\n            // insert before its next node\n            // insert after its prev node\n            if (droppingPosition === 'before') {\n                const nextNode = draggingNode.getNext({ includeDisabled: true });\n                if (nextNode) {\n                    if (nextNode.key === droppingNode.key) {\n                        resetDropState();\n                        return;\n                    }\n                }\n            }\n            if (droppingPosition === 'after') {\n                const prevNode = draggingNode.getPrev({ includeDisabled: true });\n                if (prevNode) {\n                    if (prevNode.key === droppingNode.key) {\n                        resetDropState();\n                        return;\n                    }\n                }\n            }\n            doDrop({\n                event,\n                node: droppingNode.rawNode,\n                dragNode: draggingNode.rawNode,\n                dropPosition\n            });\n            resetDndState();\n        }\n        function handleScroll() {\n            syncScrollbar();\n        }\n        function handleResize() {\n            syncScrollbar();\n        }\n        function handleFocusout(e) {\n            var _a;\n            if (props.virtualScroll || props.internalScrollable) {\n                const { value: scrollbarInst } = scrollbarInstRef;\n                if ((_a = scrollbarInst === null || scrollbarInst === void 0 ? void 0 : scrollbarInst.containerRef) === null || _a === void 0 ? void 0 : _a.contains(e.relatedTarget)) {\n                    return;\n                }\n                pendingNodeKeyRef.value = null;\n            }\n            else {\n                const { value: selfEl } = selfElRef;\n                if (selfEl === null || selfEl === void 0 ? void 0 : selfEl.contains(e.relatedTarget))\n                    return;\n                pendingNodeKeyRef.value = null;\n            }\n        }\n        watch(pendingNodeKeyRef, (value) => {\n            var _a, _b;\n            if (value === null)\n                return;\n            if (props.virtualScroll) {\n                (_a = virtualListInstRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo({ key: value });\n            }\n            else if (props.internalScrollable) {\n                const { value: scrollbarInst } = scrollbarInstRef;\n                if (scrollbarInst === null)\n                    return;\n                const targetEl = (_b = scrollbarInst.contentRef) === null || _b === void 0 ? void 0 : _b.querySelector(`[data-key=\"${createDataKey(value)}\"]`);\n                if (!targetEl)\n                    return;\n                scrollbarInst.scrollTo({\n                    el: targetEl\n                });\n            }\n        });\n        provide(treeInjectionKey, {\n            loadingKeysRef,\n            highlightKeySetRef: mergedHighlightKeySetRef,\n            displayedCheckedKeysRef,\n            displayedIndeterminateKeysRef,\n            mergedSelectedKeysRef,\n            mergedExpandedKeysRef,\n            mergedThemeRef: themeRef,\n            mergedCheckStrategyRef,\n            nodePropsRef: toRef(props, 'nodeProps'),\n            disabledRef: toRef(props, 'disabled'),\n            checkableRef: toRef(props, 'checkable'),\n            selectableRef: toRef(props, 'selectable'),\n            expandOnClickRef: toRef(props, 'expandOnClick'),\n            onLoadRef: toRef(props, 'onLoad'),\n            draggableRef: toRef(props, 'draggable'),\n            blockLineRef: toRef(props, 'blockLine'),\n            indentRef: toRef(props, 'indent'),\n            cascadeRef: toRef(props, 'cascade'),\n            checkOnClickRef: toRef(props, 'checkOnClick'),\n            checkboxPlacementRef: props.checkboxPlacement,\n            droppingMouseNodeRef,\n            droppingNodeParentRef,\n            draggingNodeRef,\n            droppingPositionRef,\n            droppingOffsetLevelRef,\n            fNodesRef,\n            pendingNodeKeyRef,\n            disabledFieldRef: toRef(props, 'disabledField'),\n            internalScrollableRef: toRef(props, 'internalScrollable'),\n            internalCheckboxFocusableRef: toRef(props, 'internalCheckboxFocusable'),\n            internalTreeSelect: props.internalTreeSelect,\n            renderLabelRef: toRef(props, 'renderLabel'),\n            renderPrefixRef: toRef(props, 'renderPrefix'),\n            renderSuffixRef: toRef(props, 'renderSuffix'),\n            renderSwitcherIconRef: toRef(props, 'renderSwitcherIcon'),\n            labelFieldRef: toRef(props, 'labelField'),\n            multipleRef: toRef(props, 'multiple'),\n            handleSwitcherClick,\n            handleDragEnd,\n            handleDragEnter,\n            handleDragLeave,\n            handleDragStart,\n            handleDrop,\n            handleDragOver,\n            handleSelect,\n            handleCheck\n        });\n        function scrollTo(options) {\n            var _a;\n            (_a = virtualListInstRef.value) === null || _a === void 0 ? void 0 : _a.scrollTo(options);\n        }\n        const exposedMethods = {\n            handleKeydown,\n            scrollTo\n        };\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut }, self: { fontSize, nodeBorderRadius, nodeColorHover, nodeColorPressed, nodeColorActive, arrowColor, loadingColor, nodeTextColor, nodeTextColorDisabled, dropMarkColor } } = themeRef.value;\n            return {\n                '--n-arrow-color': arrowColor,\n                '--n-loading-color': loadingColor,\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-font-size': fontSize,\n                '--n-node-border-radius': nodeBorderRadius,\n                '--n-node-color-active': nodeColorActive,\n                '--n-node-color-hover': nodeColorHover,\n                '--n-node-color-pressed': nodeColorPressed,\n                '--n-node-text-color': nodeTextColor,\n                '--n-node-text-color-disabled': nodeTextColorDisabled,\n                '--n-drop-mark-color': dropMarkColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('tree', undefined, cssVarsRef, props)\n            : undefined;\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedTheme: themeRef,\n            rtlEnabled: rtlEnabledRef,\n            fNodes: mergedFNodesRef,\n            aip: aipRef,\n            selfElRef,\n            virtualListInstRef,\n            scrollbarInstRef,\n            handleFocusout,\n            handleDragLeaveTree,\n            handleScroll,\n            getScrollContainer,\n            getScrollContent,\n            handleAfterEnter,\n            handleResize,\n            handleKeydown: exposedMethods.handleKeydown,\n            scrollTo: exposedMethods.scrollTo,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        var _a;\n        const { fNodes, internalRenderEmpty } = this;\n        if (!fNodes.length && internalRenderEmpty) {\n            return internalRenderEmpty();\n        }\n        const { mergedClsPrefix, blockNode, blockLine, draggable, disabled, internalFocusable, checkable, handleKeydown, rtlEnabled, handleFocusout } = this;\n        const mergedFocusable = internalFocusable && !disabled;\n        const tabindex = mergedFocusable ? '0' : undefined;\n        const treeClass = [\n            `${mergedClsPrefix}-tree`,\n            rtlEnabled && `${mergedClsPrefix}-tree--rtl`,\n            checkable && `${mergedClsPrefix}-tree--checkable`,\n            (blockLine || blockNode) && `${mergedClsPrefix}-tree--block-node`,\n            blockLine && `${mergedClsPrefix}-tree--block-line`\n        ];\n        const createNode = (tmNode) => {\n            return '__motion' in tmNode ? (h(MotionWrapper, { height: tmNode.height, nodes: tmNode.nodes, clsPrefix: mergedClsPrefix, mode: tmNode.mode, onAfterEnter: this.handleAfterEnter })) : (h(NTreeNode, { key: tmNode.key, tmNode: tmNode, clsPrefix: mergedClsPrefix }));\n        };\n        if (this.virtualScroll) {\n            const { mergedTheme, internalScrollablePadding } = this;\n            const padding = getPadding(internalScrollablePadding || '0');\n            return (h(NxScrollbar, { ref: \"scrollbarInstRef\", onDragleave: draggable ? this.handleDragLeaveTree : undefined, container: this.getScrollContainer, content: this.getScrollContent, class: treeClass, theme: mergedTheme.peers.Scrollbar, themeOverrides: mergedTheme.peerOverrides.Scrollbar, tabindex: tabindex, onKeydown: mergedFocusable ? handleKeydown : undefined, onFocusout: mergedFocusable ? handleFocusout : undefined }, {\n                default: () => {\n                    var _a;\n                    (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                    return (h(VVirtualList, { ref: \"virtualListInstRef\", items: this.fNodes, itemSize: ITEM_SIZE, ignoreItemResize: this.aip, paddingTop: padding.top, paddingBottom: padding.bottom, class: this.themeClass, style: [\n                            this.cssVars,\n                            {\n                                paddingLeft: padding.left,\n                                paddingRight: padding.right\n                            }\n                        ], onScroll: this.handleScroll, onResize: this.handleResize, showScrollbar: false, itemResizable: true }, {\n                        default: ({ item }) => createNode(item)\n                    }));\n                }\n            }));\n        }\n        const { internalScrollable } = this;\n        treeClass.push(this.themeClass);\n        (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n        if (internalScrollable) {\n            return (h(NxScrollbar, { class: treeClass, tabindex: tabindex, onKeydown: mergedFocusable ? handleKeydown : undefined, onFocusout: mergedFocusable ? handleFocusout : undefined, style: this.cssVars, contentStyle: { padding: this.internalScrollablePadding } }, {\n                default: () => (h(\"div\", { onDragleave: draggable ? this.handleDragLeaveTree : undefined, ref: \"selfElRef\" }, this.fNodes.map(createNode)))\n            }));\n        }\n        else {\n            return (h(\"div\", { class: treeClass, tabindex: tabindex, ref: \"selfElRef\", style: this.cssVars, onKeydown: mergedFocusable ? handleKeydown : undefined, onFocusout: mergedFocusable ? handleFocusout : undefined, onDragleave: draggable ? this.handleDragLeaveTree : undefined }, !fNodes.length\n                ? resolveSlot(this.$slots.empty, () => [\n                    h(NEmpty, { class: `${mergedClsPrefix}-tree__empty`, theme: this.mergedTheme.peers.Empty, themeOverrides: this.mergedTheme.peerOverrides.Empty })\n                ])\n                : fNodes.map(createNode)));\n        }\n    }\n});\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Remove',\n    render() {\n        return (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\" },\n            h(\"line\", { x1: \"400\", y1: \"256\", x2: \"112\", y2: \"256\", style: \"\\n        fill: none;\\n        stroke: currentColor;\\n        stroke-linecap: round;\\n        stroke-linejoin: round;\\n        stroke-width: 32px;\\n      \" })));\n    }\n});\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'Add',\n    render() {\n        return (h(\"svg\", { width: \"512\", height: \"512\", viewBox: \"0 0 512 512\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n            h(\"path\", { d: \"M256 112V400M400 256H112\", stroke: \"currentColor\", \"stroke-width\": \"32\", \"stroke-linecap\": \"round\", \"stroke-linejoin\": \"round\" })));\n    }\n});\n","import { buttonLight } from '../../button/styles';\nimport { inputLight } from '../../input/styles';\nimport { commonLight } from '../../_styles/common';\nimport { createTheme } from '../../_mixins';\nconst self = (vars) => {\n    const { textColorDisabled } = vars;\n    return {\n        iconColorDisabled: textColorDisabled\n    };\n};\nconst inputNumberLight = createTheme({\n    name: 'InputNumber',\n    common: commonLight,\n    peers: {\n        Button: buttonLight,\n        Input: inputLight\n    },\n    self\n});\nexport default inputNumberLight;\n","// string => string (expected, not implemented)\n// string => number (legacy)\nexport function parse(value) {\n    if (value === undefined ||\n        value === null ||\n        (typeof value === 'string' && value.trim() === '')) {\n        return null;\n    }\n    return Number(value);\n}\n// can be parsed to number but shouldn't be applied when inputing\n// when value includes `.`, ending with 0 and`.`, doesn't update, if 0 parse func will remove 0\nexport function isWipValue(value) {\n    return (value.includes('.') &&\n        (/^(-)?\\d+.*(\\.|0)$/.test(value) || /^\\.\\d+$/.test(value)));\n}\n// string => boolean (expected, not implemented)\n// number => boolean (legacy)\nexport function validator(value) {\n    if (value === undefined || value === null)\n        return true;\n    if (Number.isNaN(value))\n        return false;\n    return true;\n}\n// string => string (expected, not implemented)\n// number => string (legacy)\nexport function format(value, precision) {\n    if (value === undefined || value === null)\n        return '';\n    return precision === undefined ? String(value) : value.toFixed(precision);\n}\nexport function parseNumber(number) {\n    if (number === null)\n        return null;\n    if (typeof number === 'number') {\n        return number;\n    }\n    else {\n        const parsedNumber = Number(number);\n        if (Number.isNaN(parsedNumber))\n            return null;\n        else {\n            return parsedNumber;\n        }\n    }\n}\n","import { cB, c } from '../../../_utils/cssr';\nexport default c([cB('input-number-suffix', `\n display: inline-block;\n margin-right: 10px;\n `), cB('input-number-prefix', `\n display: inline-block;\n margin-left: 10px;\n `)]);","import { h, defineComponent, ref, toRef, watch, computed, watchEffect } from 'vue';\nimport { rgba } from 'seemly';\nimport { useMemo, useMergedState } from 'vooks';\nimport { on } from 'evtd';\nimport { RemoveIcon, AddIcon } from '../../_internal/icons';\nimport { NInput } from '../../input';\nimport { NBaseIcon } from '../../_internal';\nimport { NxButton } from '../../button';\nimport { useTheme, useFormItem, useLocale, useConfig } from '../../_mixins';\nimport { warnOnce, call, resolveSlot, resolveWrappedSlot } from '../../_utils';\nimport { inputNumberLight } from '../styles';\nimport { parse, validator, format, parseNumber, isWipValue } from './utils';\nimport style from './styles/input-number.cssr';\nimport { useRtl } from '../../_mixins/use-rtl';\nconst HOLDING_CHANGE_THRESHOLD = 800;\nconst HOLDING_CHANGE_INTERVAL = 100;\nexport const inputNumberProps = Object.assign(Object.assign({}, useTheme.props), { autofocus: Boolean, loading: {\n        type: Boolean,\n        default: undefined\n    }, placeholder: String, defaultValue: {\n        type: Number,\n        default: null\n    }, value: Number, step: {\n        type: [Number, String],\n        default: 1\n    }, min: [Number, String], max: [Number, String], size: String, disabled: {\n        type: Boolean,\n        default: undefined\n    }, validator: Function, bordered: {\n        type: Boolean,\n        default: undefined\n    }, showButton: {\n        type: Boolean,\n        default: true\n    }, buttonPlacement: {\n        type: String,\n        default: 'right'\n    }, readonly: Boolean, clearable: Boolean, keyboard: {\n        type: Object,\n        default: {}\n    }, updateValueOnInput: {\n        type: Boolean,\n        default: true\n    }, parse: Function, format: Function, precision: Number, status: String, 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array], onFocus: [Function, Array], onBlur: [Function, Array], onClear: [Function, Array], \n    // deprecated\n    onChange: [Function, Array] });\nexport default defineComponent({\n    name: 'InputNumber',\n    props: inputNumberProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.onChange !== undefined) {\n                    warnOnce('input-number', '`on-change` is deprecated, please use `on-update:value` instead');\n                }\n            });\n        }\n        const { mergedBorderedRef, mergedClsPrefixRef, mergedRtlRef } = useConfig(props);\n        const themeRef = useTheme('InputNumber', '-input-number', style, inputNumberLight, props, mergedClsPrefixRef);\n        const { localeRef } = useLocale('InputNumber');\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef, mergedStatusRef } = formItem;\n        // dom ref\n        const inputInstRef = ref(null);\n        const minusButtonInstRef = ref(null);\n        const addButtonInstRef = ref(null);\n        // value\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = toRef(props, 'value');\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        const displayedValueRef = ref('');\n        const getPrecision = (value) => {\n            const fraction = String(value).split('.')[1];\n            return fraction ? fraction.length : 0;\n        };\n        const getMaxPrecision = (currentValue) => {\n            const precisions = [props.min, props.max, props.step, currentValue].map((value) => {\n                if (value === undefined)\n                    return 0;\n                return getPrecision(value);\n            });\n            return Math.max(...precisions);\n        };\n        const mergedPlaceholderRef = useMemo(() => {\n            const { placeholder } = props;\n            if (placeholder !== undefined)\n                return placeholder;\n            return localeRef.value.placeholder;\n        });\n        const mergedStepRef = useMemo(() => {\n            const parsedNumber = parseNumber(props.step);\n            if (parsedNumber !== null) {\n                return parsedNumber === 0 ? 1 : Math.abs(parsedNumber);\n            }\n            return 1;\n        });\n        const mergedMinRef = useMemo(() => {\n            const parsedNumber = parseNumber(props.min);\n            if (parsedNumber !== null)\n                return parsedNumber;\n            else\n                return null;\n        });\n        const mergedMaxRef = useMemo(() => {\n            const parsedNumber = parseNumber(props.max);\n            if (parsedNumber !== null)\n                return parsedNumber;\n            else\n                return null;\n        });\n        const doUpdateValue = (value) => {\n            const { value: mergedValue } = mergedValueRef;\n            if (value === mergedValue) {\n                deriveDisplayedValueFromValue();\n                return;\n            }\n            const { 'onUpdate:value': _onUpdateValue, onUpdateValue, onChange } = props;\n            const { nTriggerFormInput, nTriggerFormChange } = formItem;\n            if (onChange)\n                call(onChange, value);\n            if (onUpdateValue)\n                call(onUpdateValue, value);\n            if (_onUpdateValue)\n                call(_onUpdateValue, value);\n            uncontrolledValueRef.value = value;\n            nTriggerFormInput();\n            nTriggerFormChange();\n        };\n        const deriveValueFromDisplayedValue = ({ offset, doUpdateIfValid, fixPrecision, isInputing }) => {\n            const { value: displayedValue } = displayedValueRef;\n            if (isInputing && isWipValue(displayedValue)) {\n                return false;\n            }\n            const parsedValue = (props.parse || parse)(displayedValue);\n            if (parsedValue === null) {\n                if (doUpdateIfValid)\n                    doUpdateValue(null);\n                return null;\n            }\n            if (validator(parsedValue)) {\n                const currentPrecision = getPrecision(parsedValue);\n                const { precision } = props;\n                if (precision !== undefined &&\n                    precision < currentPrecision &&\n                    !fixPrecision) {\n                    return false;\n                }\n                let nextValue = parseFloat((parsedValue + offset).toFixed(precision !== null && precision !== void 0 ? precision : getMaxPrecision(parsedValue)));\n                if (validator(nextValue)) {\n                    const { value: mergedMax } = mergedMaxRef;\n                    const { value: mergedMin } = mergedMinRef;\n                    if (mergedMax !== null && nextValue > mergedMax) {\n                        if (!doUpdateIfValid || isInputing)\n                            return false;\n                        // if doUpdateIfValid=true, we try to make it a valid value\n                        nextValue = mergedMax;\n                    }\n                    if (mergedMin !== null && nextValue < mergedMin) {\n                        if (!doUpdateIfValid || isInputing)\n                            return false;\n                        // if doUpdateIfValid=true, we try to make it a valid value\n                        nextValue = mergedMin;\n                    }\n                    if (props.validator && !props.validator(nextValue))\n                        return false;\n                    if (doUpdateIfValid)\n                        doUpdateValue(nextValue);\n                    return nextValue;\n                }\n            }\n            return false;\n        };\n        const deriveDisplayedValueFromValue = () => {\n            const { value: mergedValue } = mergedValueRef;\n            if (validator(mergedValue)) {\n                const { format: formatProp, precision } = props;\n                if (formatProp) {\n                    displayedValueRef.value = formatProp(mergedValue);\n                }\n                else {\n                    if (mergedValue === null ||\n                        precision === undefined ||\n                        // precision overflow\n                        getPrecision(mergedValue) > precision) {\n                        displayedValueRef.value = format(mergedValue, undefined);\n                    }\n                    else {\n                        displayedValueRef.value = format(mergedValue, precision);\n                    }\n                }\n            }\n            else {\n                // null can pass the validator check\n                // so mergedValue is a number\n                displayedValueRef.value = String(mergedValue);\n            }\n        };\n        deriveDisplayedValueFromValue();\n        const displayedValueInvalidRef = useMemo(() => {\n            const derivedValue = deriveValueFromDisplayedValue({\n                offset: 0,\n                doUpdateIfValid: false,\n                isInputing: false,\n                fixPrecision: false\n            });\n            return derivedValue === false;\n        });\n        const minusableRef = useMemo(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (props.validator && mergedValue === null) {\n                return false;\n            }\n            const { value: mergedStep } = mergedStepRef;\n            const derivedNextValue = deriveValueFromDisplayedValue({\n                offset: -mergedStep,\n                doUpdateIfValid: false,\n                isInputing: false,\n                fixPrecision: false\n            });\n            return derivedNextValue !== false;\n        });\n        const addableRef = useMemo(() => {\n            const { value: mergedValue } = mergedValueRef;\n            if (props.validator && mergedValue === null) {\n                return false;\n            }\n            const { value: mergedStep } = mergedStepRef;\n            const derivedNextValue = deriveValueFromDisplayedValue({\n                offset: +mergedStep,\n                doUpdateIfValid: false,\n                isInputing: false,\n                fixPrecision: false\n            });\n            return derivedNextValue !== false;\n        });\n        function doFocus(e) {\n            const { onFocus } = props;\n            const { nTriggerFormFocus } = formItem;\n            if (onFocus)\n                call(onFocus, e);\n            nTriggerFormFocus();\n        }\n        function doBlur(e) {\n            var _a, _b;\n            if (e.target === ((_a = inputInstRef.value) === null || _a === void 0 ? void 0 : _a.wrapperElRef)) {\n                // hit input wrapper\n                // which means not activated\n                return;\n            }\n            const value = deriveValueFromDisplayedValue({\n                offset: 0,\n                doUpdateIfValid: true,\n                isInputing: false,\n                fixPrecision: true\n            });\n            // If valid, update event has been emitted\n            // make sure e.target.value is correct in blur callback\n            if (value !== false) {\n                const inputElRef = (_b = inputInstRef.value) === null || _b === void 0 ? void 0 : _b.inputElRef;\n                if (inputElRef) {\n                    inputElRef.value = String(value || '');\n                }\n                // If value is not changed, the displayed value may be greater than or\n                // less than the current value. The derived value is reformatted so the\n                // value is not changed. We can simply derive a new displayed value\n                if (mergedValueRef.value === value) {\n                    deriveDisplayedValueFromValue();\n                }\n            }\n            else {\n                // If not valid, nothing will be emitted, so derive displayed value from\n                // origin value\n                deriveDisplayedValueFromValue();\n            }\n            const { onBlur } = props;\n            const { nTriggerFormBlur } = formItem;\n            if (onBlur)\n                call(onBlur, e);\n            nTriggerFormBlur();\n        }\n        function doClear(e) {\n            const { onClear } = props;\n            if (onClear)\n                call(onClear, e);\n        }\n        function doAdd() {\n            const { value: addable } = addableRef;\n            if (!addable) {\n                clearAddHoldTimeout();\n                return;\n            }\n            const { value: mergedValue } = mergedValueRef;\n            if (mergedValue === null) {\n                if (!props.validator) {\n                    doUpdateValue(createValidValue());\n                }\n            }\n            else {\n                const { value: mergedStep } = mergedStepRef;\n                deriveValueFromDisplayedValue({\n                    offset: mergedStep,\n                    doUpdateIfValid: true,\n                    isInputing: false,\n                    fixPrecision: true\n                });\n            }\n        }\n        function doMinus() {\n            const { value: minusable } = minusableRef;\n            if (!minusable) {\n                clearMinusHoldTimeout();\n                return;\n            }\n            const { value: mergedValue } = mergedValueRef;\n            if (mergedValue === null) {\n                if (!props.validator) {\n                    doUpdateValue(createValidValue());\n                }\n            }\n            else {\n                const { value: mergedStep } = mergedStepRef;\n                deriveValueFromDisplayedValue({\n                    offset: -mergedStep,\n                    doUpdateIfValid: true,\n                    isInputing: false,\n                    fixPrecision: true\n                });\n            }\n        }\n        const handleFocus = doFocus;\n        const handleBlur = doBlur;\n        function createValidValue() {\n            if (props.validator)\n                return null;\n            const { value: mergedMin } = mergedMinRef;\n            const { value: mergedMax } = mergedMaxRef;\n            if (mergedMin !== null) {\n                return Math.max(0, mergedMin);\n            }\n            else if (mergedMax !== null) {\n                return Math.min(0, mergedMax);\n            }\n            else {\n                return 0;\n            }\n        }\n        function handleClear(e) {\n            doClear(e);\n            doUpdateValue(null);\n        }\n        function handleMouseDown(e) {\n            var _a, _b, _c;\n            if ((_a = addButtonInstRef.value) === null || _a === void 0 ? void 0 : _a.$el.contains(e.target)) {\n                e.preventDefault();\n            }\n            if ((_b = minusButtonInstRef.value) === null || _b === void 0 ? void 0 : _b.$el.contains(e.target)) {\n                e.preventDefault();\n            }\n            (_c = inputInstRef.value) === null || _c === void 0 ? void 0 : _c.activate();\n        }\n        let minusHoldStateIntervalId = null;\n        let addHoldStateIntervalId = null;\n        let firstMinusMousedownId = null;\n        function clearMinusHoldTimeout() {\n            if (firstMinusMousedownId) {\n                window.clearTimeout(firstMinusMousedownId);\n                firstMinusMousedownId = null;\n            }\n            if (minusHoldStateIntervalId) {\n                window.clearInterval(minusHoldStateIntervalId);\n                minusHoldStateIntervalId = null;\n            }\n        }\n        function clearAddHoldTimeout() {\n            if (firstAddMousedownId) {\n                window.clearTimeout(firstAddMousedownId);\n                firstAddMousedownId = null;\n            }\n            if (addHoldStateIntervalId) {\n                window.clearInterval(addHoldStateIntervalId);\n                addHoldStateIntervalId = null;\n            }\n        }\n        function handleMinusMousedown() {\n            clearMinusHoldTimeout();\n            firstMinusMousedownId = window.setTimeout(() => {\n                minusHoldStateIntervalId = window.setInterval(() => {\n                    doMinus();\n                }, HOLDING_CHANGE_INTERVAL);\n            }, HOLDING_CHANGE_THRESHOLD);\n            on('mouseup', document, clearMinusHoldTimeout, {\n                once: true\n            });\n        }\n        let firstAddMousedownId = null;\n        function handleAddMousedown() {\n            clearAddHoldTimeout();\n            firstAddMousedownId = window.setTimeout(() => {\n                addHoldStateIntervalId = window.setInterval(() => {\n                    doAdd();\n                }, HOLDING_CHANGE_INTERVAL);\n            }, HOLDING_CHANGE_THRESHOLD);\n            on('mouseup', document, clearAddHoldTimeout, {\n                once: true\n            });\n        }\n        const handleAddClick = () => {\n            if (addHoldStateIntervalId)\n                return;\n            doAdd();\n        };\n        const handleMinusClick = () => {\n            if (minusHoldStateIntervalId)\n                return;\n            doMinus();\n        };\n        function handleKeyDown(e) {\n            var _a, _b;\n            if (e.key === 'Enter') {\n                if (e.target === ((_a = inputInstRef.value) === null || _a === void 0 ? void 0 : _a.wrapperElRef)) {\n                    // hit input wrapper\n                    // which means not activated\n                    return;\n                }\n                const value = deriveValueFromDisplayedValue({\n                    offset: 0,\n                    doUpdateIfValid: true,\n                    isInputing: false,\n                    fixPrecision: true\n                });\n                if (value !== false) {\n                    (_b = inputInstRef.value) === null || _b === void 0 ? void 0 : _b.deactivate();\n                }\n            }\n            else if (e.key === 'ArrowUp') {\n                if (!addableRef.value)\n                    return;\n                if (props.keyboard.ArrowUp === false)\n                    return;\n                e.preventDefault();\n                const value = deriveValueFromDisplayedValue({\n                    offset: 0,\n                    doUpdateIfValid: true,\n                    isInputing: false,\n                    fixPrecision: true\n                });\n                if (value !== false) {\n                    doAdd();\n                }\n            }\n            else if (e.key === 'ArrowDown') {\n                if (!minusableRef.value)\n                    return;\n                if (props.keyboard.ArrowDown === false)\n                    return;\n                e.preventDefault();\n                const value = deriveValueFromDisplayedValue({\n                    offset: 0,\n                    doUpdateIfValid: true,\n                    isInputing: false,\n                    fixPrecision: true\n                });\n                if (value !== false) {\n                    doMinus();\n                }\n            }\n        }\n        function handleUpdateDisplayedValue(value) {\n            displayedValueRef.value = value;\n            if (props.updateValueOnInput &&\n                !props.format &&\n                !props.parse &&\n                props.precision === undefined) {\n                deriveValueFromDisplayedValue({\n                    offset: 0,\n                    doUpdateIfValid: true,\n                    isInputing: true,\n                    fixPrecision: false\n                });\n            }\n        }\n        watch(mergedValueRef, () => {\n            deriveDisplayedValueFromValue();\n        });\n        const exposedMethods = {\n            focus: () => { var _a; return (_a = inputInstRef.value) === null || _a === void 0 ? void 0 : _a.focus(); },\n            blur: () => { var _a; return (_a = inputInstRef.value) === null || _a === void 0 ? void 0 : _a.blur(); }\n        };\n        const rtlEnabledRef = useRtl('InputNumber', mergedRtlRef, mergedClsPrefixRef);\n        return Object.assign(Object.assign({}, exposedMethods), { rtlEnabled: rtlEnabledRef, inputInstRef,\n            minusButtonInstRef,\n            addButtonInstRef, mergedClsPrefix: mergedClsPrefixRef, mergedBordered: mergedBorderedRef, uncontrolledValue: uncontrolledValueRef, mergedValue: mergedValueRef, mergedPlaceholder: mergedPlaceholderRef, displayedValueInvalid: displayedValueInvalidRef, mergedSize: mergedSizeRef, mergedDisabled: mergedDisabledRef, displayedValue: displayedValueRef, addable: addableRef, minusable: minusableRef, mergedStatus: mergedStatusRef, handleFocus,\n            handleBlur,\n            handleClear,\n            handleMouseDown,\n            handleAddClick,\n            handleMinusClick,\n            handleAddMousedown,\n            handleMinusMousedown,\n            handleKeyDown,\n            handleUpdateDisplayedValue, \n            // theme\n            mergedTheme: themeRef, inputThemeOverrides: {\n                paddingSmall: '0 8px 0 10px',\n                paddingMedium: '0 8px 0 12px',\n                paddingLarge: '0 8px 0 14px'\n            }, buttonThemeOverrides: computed(() => {\n                const { self: { iconColorDisabled } } = themeRef.value;\n                const [r, g, b, a] = rgba(iconColorDisabled);\n                return {\n                    textColorTextDisabled: `rgb(${r}, ${g}, ${b})`,\n                    opacityDisabled: `${a}`\n                };\n            }) });\n    },\n    render() {\n        const { mergedClsPrefix, $slots } = this;\n        const renderMinusButton = () => {\n            return (h(NxButton, { text: true, disabled: !this.minusable || this.mergedDisabled || this.readonly, focusable: false, theme: this.mergedTheme.peers.Button, themeOverrides: this.mergedTheme.peerOverrides.Button, builtinThemeOverrides: this.buttonThemeOverrides, onClick: this.handleMinusClick, onMousedown: this.handleMinusMousedown, ref: \"minusButtonInstRef\" }, {\n                icon: () => resolveSlot($slots['minus-icon'], () => [\n                    h(NBaseIcon, { clsPrefix: mergedClsPrefix }, {\n                        default: () => h(RemoveIcon, null)\n                    })\n                ])\n            }));\n        };\n        const renderAddButton = () => {\n            return (h(NxButton, { text: true, disabled: !this.addable || this.mergedDisabled || this.readonly, focusable: false, theme: this.mergedTheme.peers.Button, themeOverrides: this.mergedTheme.peerOverrides.Button, builtinThemeOverrides: this.buttonThemeOverrides, onClick: this.handleAddClick, onMousedown: this.handleAddMousedown, ref: \"addButtonInstRef\" }, {\n                icon: () => resolveSlot($slots['add-icon'], () => [\n                    h(NBaseIcon, { clsPrefix: mergedClsPrefix }, {\n                        default: () => h(AddIcon, null)\n                    })\n                ])\n            }));\n        };\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-input-number`,\n                this.rtlEnabled && `${mergedClsPrefix}-input-number--rtl`\n            ] },\n            h(NInput, { ref: \"inputInstRef\", autofocus: this.autofocus, status: this.mergedStatus, bordered: this.mergedBordered, loading: this.loading, value: this.displayedValue, onUpdateValue: this.handleUpdateDisplayedValue, theme: this.mergedTheme.peers.Input, themeOverrides: this.mergedTheme.peerOverrides.Input, builtinThemeOverrides: this.inputThemeOverrides, size: this.mergedSize, placeholder: this.mergedPlaceholder, disabled: this.mergedDisabled, readonly: this.readonly, textDecoration: this.displayedValueInvalid ? 'line-through' : undefined, onFocus: this.handleFocus, onBlur: this.handleBlur, onKeydown: this.handleKeyDown, onMousedown: this.handleMouseDown, onClear: this.handleClear, clearable: this.clearable, internalLoadingBeforeSuffix: true }, {\n                prefix: () => {\n                    var _a;\n                    return this.showButton && this.buttonPlacement === 'both'\n                        ? [\n                            renderMinusButton(),\n                            resolveWrappedSlot($slots.prefix, (children) => {\n                                if (children) {\n                                    return (h(\"span\", { class: `${mergedClsPrefix}-input-number-prefix` }, children));\n                                }\n                                return null;\n                            })\n                        ]\n                        : (_a = $slots.prefix) === null || _a === void 0 ? void 0 : _a.call($slots);\n                },\n                suffix: () => {\n                    var _a;\n                    return this.showButton\n                        ? [\n                            resolveWrappedSlot($slots.suffix, (children) => {\n                                if (children) {\n                                    return (h(\"span\", { class: `${mergedClsPrefix}-input-number-suffix` }, children));\n                                }\n                                return null;\n                            }),\n                            this.buttonPlacement === 'right'\n                                ? renderMinusButton()\n                                : null,\n                            renderAddButton()\n                        ]\n                        : (_a = $slots.suffix) === null || _a === void 0 ? void 0 : _a.call($slots);\n                }\n            })));\n    }\n});\n","import { changeColor } from 'seemly';\nimport commonVars from './_common';\nimport { commonLight } from '../../_styles/common';\nconst self = (vars) => {\n    const { primaryColor, opacityDisabled, borderRadius, textColor3 } = vars;\n    const railOverlayColor = 'rgba(0, 0, 0, .14)';\n    return Object.assign(Object.assign({}, commonVars), { iconColor: textColor3, textColor: 'white', loadingColor: primaryColor, opacityDisabled, railColor: railOverlayColor, railColorActive: primaryColor, buttonBoxShadow: '0 1px 4px 0 rgba(0, 0, 0, 0.3), inset 0 0 1px 0 rgba(0, 0, 0, 0.05)', buttonColor: '#FFF', railBorderRadiusSmall: borderRadius, railBorderRadiusMedium: borderRadius, railBorderRadiusLarge: borderRadius, buttonBorderRadiusSmall: borderRadius, buttonBorderRadiusMedium: borderRadius, buttonBorderRadiusLarge: borderRadius, boxShadowFocus: `0 0 0 2px ${changeColor(primaryColor, { alpha: 0.2 })}` });\n};\nconst switchLight = {\n    name: 'Switch',\n    common: commonLight,\n    self\n};\nexport default switchLight;\n","import { iconSwitchTransition } from '../../../_styles/transitions/icon-switch.cssr';\nimport { c, cB, cE, cM, cNotM } from '../../../_utils/cssr'; // vars:\n// --n-bezier\n// --n-button-border-radius\n// --n-button-box-shadow\n// --n-button-color\n// --n-button-width\n// --n-button-width-pressed\n// --n-height\n// --n-offset\n// --n-rail-border-radius\n// --n-rail-color\n// --n-rail-color-active\n// --n-rail-height\n// --n-rail-width\n// --n-width\n// --n-box-shadow-focus\n// --n-loading-color\n// --n-text-color\n// --n-icon-color\n\nexport default cB('switch', `\n height: var(--n-height);\n min-width: var(--n-width);\n vertical-align: middle;\n user-select: none;\n -webkit-user-select: none;\n display: inline-flex;\n outline: none;\n justify-content: center;\n align-items: center;\n`, [cE('children-placeholder', `\n height: var(--n-rail-height);\n display: flex;\n flex-direction: column;\n overflow: hidden;\n pointer-events: none;\n visibility: hidden;\n `), cE('rail-placeholder', `\n display: flex;\n flex-wrap: none;\n `), cE('button-placeholder', `\n width: calc(1.75 * var(--n-rail-height));\n height: var(--n-rail-height);\n `), cB('base-loading', `\n position: absolute;\n top: 50%;\n left: 50%;\n transform: translateX(-50%) translateY(-50%);\n font-size: calc(var(--n-button-width) - 4px);\n color: var(--n-loading-color);\n transition: color .3s var(--n-bezier);\n `, [iconSwitchTransition({\n  left: '50%',\n  top: '50%',\n  originalTransform: 'translateX(-50%) translateY(-50%)'\n})]), cE('checked, unchecked', `\n transition: color .3s var(--n-bezier);\n color: var(--n-text-color);\n box-sizing: border-box;\n position: absolute;\n white-space: nowrap;\n top: 0;\n bottom: 0;\n display: flex;\n align-items: center;\n line-height: 1;\n `), cE('checked', `\n right: 0;\n padding-right: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n `), cE('unchecked', `\n left: 0;\n justify-content: flex-end;\n padding-left: calc(1.25 * var(--n-rail-height) - var(--n-offset));\n `), c('&:focus', [cE('rail', `\n box-shadow: var(--n-box-shadow-focus);\n `)]), cM('round', [cE('rail', 'border-radius: calc(var(--n-rail-height) / 2);', [cE('button', 'border-radius: calc(var(--n-button-height) / 2);')])]), cNotM('disabled', [cNotM('icon', [cM('rubber-band', [cM('pressed', [cE('rail', [cE('button', 'max-width: var(--n-button-width-pressed);')])]), cE('rail', [c('&:active', [cE('button', 'max-width: var(--n-button-width-pressed);')])]), cM('active', [cM('pressed', [cE('rail', [cE('button', 'left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));')])]), cE('rail', [c('&:active', [cE('button', 'left: calc(100% - var(--n-offset) - var(--n-button-width-pressed));')])])])])])]), cM('active', [cE('rail', [cE('button', 'left: calc(100% - var(--n-button-width) - var(--n-offset))')])]), cE('rail', `\n overflow: hidden;\n height: var(--n-rail-height);\n min-width: var(--n-rail-width);\n border-radius: var(--n-rail-border-radius);\n cursor: pointer;\n position: relative;\n transition:\n opacity .3s var(--n-bezier),\n background .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n background-color: var(--n-rail-color);\n `, [cE('button-icon', `\n color: var(--n-icon-color);\n transition: color .3s var(--n-bezier);\n font-size: calc(var(--n-button-height) - 4px);\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n justify-content: center;\n align-items: center;\n line-height: 1;\n `, [iconSwitchTransition()]), cE('button', `\n align-items: center; \n top: var(--n-offset);\n left: var(--n-offset);\n height: var(--n-button-height);\n width: var(--n-button-width-pressed);\n max-width: var(--n-button-width);\n border-radius: var(--n-button-border-radius);\n background-color: var(--n-button-color);\n box-shadow: var(--n-button-box-shadow);\n box-sizing: border-box;\n cursor: inherit;\n content: \"\";\n position: absolute;\n transition:\n background-color .3s var(--n-bezier),\n left .3s var(--n-bezier),\n opacity .3s var(--n-bezier),\n max-width .3s var(--n-bezier),\n box-shadow .3s var(--n-bezier);\n `)]), cM('active', [cE('rail', 'background-color: var(--n-rail-color-active);')]), cM('loading', [cE('rail', `\n cursor: wait;\n `)]), cM('disabled', [cE('rail', `\n cursor: not-allowed;\n opacity: .5;\n `)])]);","import { h, ref, toRef, defineComponent, computed, watchEffect } from 'vue';\nimport { depx, pxfy } from 'seemly';\nimport { useMergedState } from 'vooks';\nimport { useConfig, useFormItem, useTheme, useThemeClass } from '../../_mixins';\nimport { NBaseLoading, NIconSwitchTransition } from '../../_internal';\nimport { call, createKey, warnOnce, isSlotEmpty, resolveWrappedSlot } from '../../_utils';\nimport { switchLight } from '../styles';\nimport style from './styles/index.cssr';\nexport const switchProps = Object.assign(Object.assign({}, useTheme.props), { size: {\n        type: String,\n        default: 'medium'\n    }, value: {\n        type: [String, Number, Boolean],\n        default: undefined\n    }, loading: Boolean, defaultValue: {\n        type: [String, Number, Boolean],\n        default: false\n    }, disabled: {\n        type: Boolean,\n        default: undefined\n    }, round: {\n        type: Boolean,\n        default: true\n    }, 'onUpdate:value': [Function, Array], onUpdateValue: [Function, Array], checkedValue: {\n        type: [String, Number, Boolean],\n        default: true\n    }, uncheckedValue: {\n        type: [String, Number, Boolean],\n        default: false\n    }, railStyle: Function, rubberBand: {\n        type: Boolean,\n        default: true\n    }, \n    /** @deprecated */\n    onChange: [Function, Array] });\nlet supportCssMax;\nexport default defineComponent({\n    name: 'Switch',\n    props: switchProps,\n    setup(props) {\n        if (process.env.NODE_ENV !== 'production') {\n            watchEffect(() => {\n                if (props.onChange) {\n                    warnOnce('switch', '`on-change` is deprecated, please use `on-update:value` instead.');\n                }\n            });\n        }\n        if (supportCssMax === undefined) {\n            if (typeof CSS !== 'undefined') {\n                if (typeof CSS.supports !== 'undefined') {\n                    supportCssMax = CSS.supports('width', 'max(1px)');\n                }\n                else {\n                    supportCssMax = false;\n                }\n            }\n            else {\n                // If you are using SSR, we assume that you are targeting browsers with\n                // recent versions\n                supportCssMax = true;\n            }\n        }\n        const { mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Switch', '-switch', style, switchLight, props, mergedClsPrefixRef);\n        const formItem = useFormItem(props);\n        const { mergedSizeRef, mergedDisabledRef } = formItem;\n        const uncontrolledValueRef = ref(props.defaultValue);\n        const controlledValueRef = toRef(props, 'value');\n        const mergedValueRef = useMergedState(controlledValueRef, uncontrolledValueRef);\n        const checkedRef = computed(() => {\n            return mergedValueRef.value === props.checkedValue;\n        });\n        const pressedRef = ref(false);\n        const focusedRef = ref(false);\n        const mergedRailStyleRef = computed(() => {\n            const { railStyle } = props;\n            if (!railStyle)\n                return undefined;\n            return railStyle({ focused: focusedRef.value, checked: checkedRef.value });\n        });\n        function doUpdateValue(value) {\n            const { 'onUpdate:value': _onUpdateValue, onChange, onUpdateValue } = props;\n            const { nTriggerFormInput, nTriggerFormChange } = formItem;\n            if (_onUpdateValue)\n                call(_onUpdateValue, value);\n            if (onUpdateValue)\n                call(onUpdateValue, value);\n            if (onChange)\n                call(onChange, value);\n            uncontrolledValueRef.value = value;\n            nTriggerFormInput();\n            nTriggerFormChange();\n        }\n        function doFocus() {\n            const { nTriggerFormFocus } = formItem;\n            nTriggerFormFocus();\n        }\n        function doBlur() {\n            const { nTriggerFormBlur } = formItem;\n            nTriggerFormBlur();\n        }\n        function handleClick() {\n            if (props.loading || mergedDisabledRef.value)\n                return;\n            if (mergedValueRef.value !== props.checkedValue) {\n                doUpdateValue(props.checkedValue);\n            }\n            else {\n                doUpdateValue(props.uncheckedValue);\n            }\n        }\n        function handleFocus() {\n            focusedRef.value = true;\n            doFocus();\n        }\n        function handleBlur() {\n            focusedRef.value = false;\n            doBlur();\n            pressedRef.value = false;\n        }\n        function handleKeyup(e) {\n            if (props.loading || mergedDisabledRef.value)\n                return;\n            if (e.key === ' ') {\n                if (mergedValueRef.value !== props.checkedValue) {\n                    doUpdateValue(props.checkedValue);\n                }\n                else {\n                    doUpdateValue(props.uncheckedValue);\n                }\n                pressedRef.value = false;\n            }\n        }\n        function handleKeydown(e) {\n            if (props.loading || mergedDisabledRef.value)\n                return;\n            if (e.key === ' ') {\n                e.preventDefault();\n                pressedRef.value = true;\n            }\n        }\n        const cssVarsRef = computed(() => {\n            const { value: size } = mergedSizeRef;\n            const { self: { opacityDisabled, railColor, railColorActive, buttonBoxShadow, buttonColor, boxShadowFocus, loadingColor, textColor, iconColor, [createKey('buttonHeight', size)]: buttonHeight, [createKey('buttonWidth', size)]: buttonWidth, [createKey('buttonWidthPressed', size)]: buttonWidthPressed, [createKey('railHeight', size)]: railHeight, [createKey('railWidth', size)]: railWidth, [createKey('railBorderRadius', size)]: railBorderRadius, [createKey('buttonBorderRadius', size)]: buttonBorderRadius }, common: { cubicBezierEaseInOut } } = themeRef.value;\n            let offset;\n            let height;\n            let width;\n            if (supportCssMax) {\n                offset = `calc((${railHeight} - ${buttonHeight}) / 2)`;\n                height = `max(${railHeight}, ${buttonHeight})`;\n                width = `max(${railWidth}, calc(${railWidth} + ${buttonHeight} - ${railHeight}))`;\n            }\n            else {\n                offset = pxfy((depx(railHeight) - depx(buttonHeight)) / 2);\n                height = pxfy(Math.max(depx(railHeight), depx(buttonHeight)));\n                width =\n                    depx(railHeight) > depx(buttonHeight)\n                        ? railWidth\n                        : pxfy(depx(railWidth) + depx(buttonHeight) - depx(railHeight));\n            }\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-button-border-radius': buttonBorderRadius,\n                '--n-button-box-shadow': buttonBoxShadow,\n                '--n-button-color': buttonColor,\n                '--n-button-width': buttonWidth,\n                '--n-button-width-pressed': buttonWidthPressed,\n                '--n-button-height': buttonHeight,\n                '--n-height': height,\n                '--n-offset': offset,\n                '--n-opacity-disabled': opacityDisabled,\n                '--n-rail-border-radius': railBorderRadius,\n                '--n-rail-color': railColor,\n                '--n-rail-color-active': railColorActive,\n                '--n-rail-height': railHeight,\n                '--n-rail-width': railWidth,\n                '--n-width': width,\n                '--n-box-shadow-focus': boxShadowFocus,\n                '--n-loading-color': loadingColor,\n                '--n-text-color': textColor,\n                '--n-icon-color': iconColor\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('switch', computed(() => {\n                return mergedSizeRef.value[0];\n            }), cssVarsRef, props)\n            : undefined;\n        return {\n            handleClick,\n            handleBlur,\n            handleFocus,\n            handleKeyup,\n            handleKeydown,\n            mergedRailStyle: mergedRailStyleRef,\n            pressed: pressedRef,\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedValue: mergedValueRef,\n            checked: checkedRef,\n            mergedDisabled: mergedDisabledRef,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        const { mergedClsPrefix, mergedDisabled, checked, mergedRailStyle, onRender, $slots } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        const { checked: checkedSlot, unchecked: uncheckedSlot, icon: iconSlot, 'checked-icon': checkedIconSlot, 'unchecked-icon': uncheckedIconSlot } = $slots;\n        const hasIcon = !(isSlotEmpty(iconSlot) &&\n            isSlotEmpty(checkedIconSlot) &&\n            isSlotEmpty(uncheckedIconSlot));\n        return (h(\"div\", { role: \"switch\", \"aria-checked\": checked, class: [\n                `${mergedClsPrefix}-switch`,\n                this.themeClass,\n                hasIcon && `${mergedClsPrefix}-switch--icon`,\n                checked && `${mergedClsPrefix}-switch--active`,\n                mergedDisabled && `${mergedClsPrefix}-switch--disabled`,\n                this.round && `${mergedClsPrefix}-switch--round`,\n                this.loading && `${mergedClsPrefix}-switch--loading`,\n                this.pressed && `${mergedClsPrefix}-switch--pressed`,\n                this.rubberBand && `${mergedClsPrefix}-switch--rubber-band`\n            ], tabindex: !this.mergedDisabled ? 0 : undefined, style: this.cssVars, onClick: this.handleClick, onFocus: this.handleFocus, onBlur: this.handleBlur, onKeyup: this.handleKeyup, onKeydown: this.handleKeydown },\n            h(\"div\", { class: `${mergedClsPrefix}-switch__rail`, \"aria-hidden\": \"true\", style: mergedRailStyle },\n                resolveWrappedSlot(checkedSlot, (checkedSlotChildren) => resolveWrappedSlot(uncheckedSlot, (uncheckedSlotChildren) => {\n                    if (checkedSlotChildren || uncheckedSlotChildren) {\n                        return (h(\"div\", { \"aria-hidden\": true, class: `${mergedClsPrefix}-switch__children-placeholder` },\n                            h(\"div\", { class: `${mergedClsPrefix}-switch__rail-placeholder` },\n                                h(\"div\", { class: `${mergedClsPrefix}-switch__button-placeholder` }),\n                                checkedSlotChildren),\n                            h(\"div\", { class: `${mergedClsPrefix}-switch__rail-placeholder` },\n                                h(\"div\", { class: `${mergedClsPrefix}-switch__button-placeholder` }),\n                                uncheckedSlotChildren)));\n                    }\n                    return null;\n                })),\n                h(\"div\", { class: `${mergedClsPrefix}-switch__button` },\n                    resolveWrappedSlot(iconSlot, (icon) => resolveWrappedSlot(checkedIconSlot, (checkedIcon) => resolveWrappedSlot(uncheckedIconSlot, (uncheckedIcon) => {\n                        return (h(NIconSwitchTransition, null, {\n                            default: () => this.loading ? (h(NBaseLoading, { key: \"loading\", clsPrefix: mergedClsPrefix, strokeWidth: 20 })) : this.checked && (checkedIcon || icon) ? (h(\"div\", { class: `${mergedClsPrefix}-switch__button-icon`, key: checkedIcon ? 'checked-icon' : 'icon' }, checkedIcon || icon)) : !this.checked && (uncheckedIcon || icon) ? (h(\"div\", { class: `${mergedClsPrefix}-switch__button-icon`, key: uncheckedIcon ? 'unchecked-icon' : 'icon' }, uncheckedIcon || icon)) : null\n                        }));\n                    }))),\n                    resolveWrappedSlot(checkedSlot, (children) => children && (h(\"div\", { key: \"checked\", class: `${mergedClsPrefix}-switch__checked` }, children))),\n                    resolveWrappedSlot(uncheckedSlot, (children) => children && (h(\"div\", { key: \"unchecked\", class: `${mergedClsPrefix}-switch__unchecked` }, children)))))));\n    }\n});\n","import { createInjectionKey } from '../../_utils';\nexport const uploadInjectionKey = createInjectionKey('n-upload');\n","import { h, defineComponent, inject } from 'vue';\nimport { throwError } from '../../_utils';\nimport { uploadInjectionKey } from './interface';\nexport const uploadDraggerKey = '__UPLOAD_DRAGGER__';\nexport default defineComponent({\n    name: 'UploadDragger',\n    [uploadDraggerKey]: true,\n    setup(_, { slots }) {\n        const NUpload = inject(uploadInjectionKey, null);\n        if (!NUpload) {\n            throwError('upload-dragger', '`n-upload-dragger` must be placed inside `n-upload`.');\n        }\n        return () => {\n            const { mergedClsPrefixRef: { value: mergedClsPrefix }, mergedDisabledRef: { value: mergedDisabled }, maxReachedRef: { value: maxReached } } = NUpload;\n            return (h(\"div\", { class: [\n                    `${mergedClsPrefix}-upload-dragger`,\n                    (mergedDisabled || maxReached) && `${mergedClsPrefix}-upload-dragger--disabled`\n                ] }, slots));\n        };\n    }\n});\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { isBrowser } from '../../_utils';\nexport const isImageFileType = (type) => type.includes('image/');\nconst getExtname = (url = '') => {\n    const temp = url.split('/');\n    const filename = temp[temp.length - 1];\n    const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n    return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\nexport const isImageFile = (file) => {\n    if (file.type) {\n        return isImageFileType(file.type);\n    }\n    const url = file.thumbnailUrl || file.url || '';\n    const extension = getExtname(url);\n    if (/^data:image\\//.test(url) ||\n        /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico)$/i.test(extension)) {\n        return true;\n    }\n    if (/^data:/.test(url)) {\n        return false;\n    }\n    if (extension) {\n        return false;\n    }\n    return true;\n};\nexport function createImageDataUrl(file) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return yield new Promise((resolve) => {\n            if (!file.type || !isImageFileType(file.type)) {\n                resolve('');\n                return;\n            }\n            resolve(window.URL.createObjectURL(file));\n        });\n    });\n}\nexport const environmentSupportFile = isBrowser && window.FileReader && window.File;\nexport function isFileSystemDirectoryEntry(item) {\n    return item.isDirectory;\n}\nexport function isFileSystemFileEntry(item) {\n    return item.isFile;\n}\nexport function getFilesFromEntries(entries, directory) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const fileAndEntries = [];\n        let _resolve;\n        let requestCallbackCount = 0;\n        function lock() {\n            requestCallbackCount++;\n        }\n        function unlock() {\n            requestCallbackCount--;\n            if (!requestCallbackCount) {\n                _resolve(fileAndEntries);\n            }\n        }\n        function _getFilesFromEntries(entries) {\n            entries.forEach((entry) => {\n                if (!entry)\n                    return;\n                lock();\n                if (directory && isFileSystemDirectoryEntry(entry)) {\n                    const directoryReader = entry.createReader();\n                    lock();\n                    directoryReader.readEntries((entries) => {\n                        _getFilesFromEntries(entries);\n                        unlock();\n                    }, () => {\n                        unlock();\n                    });\n                }\n                else if (isFileSystemFileEntry(entry)) {\n                    lock();\n                    entry.file((file) => {\n                        fileAndEntries.push({ file, entry, source: 'dnd' });\n                        unlock();\n                    }, () => {\n                        unlock();\n                    });\n                }\n                unlock();\n            });\n        }\n        yield new Promise((resolve) => {\n            _resolve = resolve;\n            _getFilesFromEntries(entries);\n        });\n        return fileAndEntries;\n    });\n}\nexport function createSettledFileInfo(fileInfo) {\n    const { id, name, percentage, status, url, file, thumbnailUrl, type, fullPath, batchId } = fileInfo;\n    return {\n        id,\n        name,\n        percentage: percentage !== null && percentage !== void 0 ? percentage : null,\n        status,\n        url: url !== null && url !== void 0 ? url : null,\n        file: file !== null && file !== void 0 ? file : null,\n        thumbnailUrl: thumbnailUrl !== null && thumbnailUrl !== void 0 ? thumbnailUrl : null,\n        type: type !== null && type !== void 0 ? type : null,\n        fullPath: fullPath !== null && fullPath !== void 0 ? fullPath : null,\n        batchId: batchId !== null && batchId !== void 0 ? batchId : null\n    };\n}\n/**\n * This is a rather simple version. I may fix it later to make it more accurate.\n * I've looked at https://github.com/broofa/mime, however it doesn't has a esm\n * version, so I can't simply use it.\n */\nexport function matchType(name, mimeType, accept) {\n    name = name.toLowerCase();\n    mimeType = mimeType.toLocaleLowerCase();\n    accept = accept.toLocaleLowerCase();\n    const acceptAtoms = accept\n        .split(',')\n        .map((acceptAtom) => acceptAtom.trim())\n        .filter(Boolean);\n    return acceptAtoms.some((acceptAtom) => {\n        if (acceptAtom.startsWith('.')) {\n            // suffix\n            if (name.endsWith(acceptAtom))\n                return true;\n        }\n        else if (acceptAtom.includes('/')) {\n            // mime type\n            const [type, subtype] = mimeType.split('/');\n            const [acceptType, acceptSubtype] = acceptAtom.split('/');\n            if (acceptType === '*' || (type && acceptType && acceptType === type)) {\n                if (acceptSubtype === '*' ||\n                    (subtype && acceptSubtype && acceptSubtype === subtype)) {\n                    return true;\n                }\n            }\n        }\n        else {\n            // invalid type\n            return true;\n        }\n        return false;\n    });\n}\nexport const download = (url, name) => {\n    if (!url)\n        return;\n    const a = document.createElement('a');\n    a.href = url;\n    if (name !== undefined) {\n        a.download = name;\n    }\n    document.body.appendChild(a);\n    a.click();\n    document.body.removeChild(a);\n};\n","import { h, defineComponent, inject, computed } from 'vue';\nimport { AddIcon } from '../../_internal/icons';\nimport { NBaseIcon } from '../../_internal';\nimport { resolveSlot, throwError } from '../../_utils';\nimport { uploadInjectionKey } from './interface';\nimport { getFilesFromEntries } from './utils';\nimport NUploadDragger from './UploadDragger';\nexport default defineComponent({\n    name: 'UploadTrigger',\n    props: {\n        abstract: Boolean\n    },\n    setup(props, { slots }) {\n        const NUpload = inject(uploadInjectionKey, null);\n        if (!NUpload) {\n            throwError('upload-trigger', '`n-upload-trigger` must be placed inside `n-upload`.');\n        }\n        const { mergedClsPrefixRef, mergedDisabledRef, maxReachedRef, listTypeRef, dragOverRef, openOpenFileDialog, draggerInsideRef, handleFileAddition, mergedDirectoryDndRef, triggerStyleRef } = NUpload;\n        const isImageCardTypeRef = computed(() => listTypeRef.value === 'image-card');\n        function handleTriggerClick() {\n            if (mergedDisabledRef.value || maxReachedRef.value)\n                return;\n            openOpenFileDialog();\n        }\n        function handleTriggerDragOver(e) {\n            e.preventDefault();\n            dragOverRef.value = true;\n        }\n        function handleTriggerDragEnter(e) {\n            e.preventDefault();\n            dragOverRef.value = true;\n        }\n        function handleTriggerDragLeave(e) {\n            e.preventDefault();\n            dragOverRef.value = false;\n        }\n        function handleTriggerDrop(e) {\n            var _a;\n            e.preventDefault();\n            if (!draggerInsideRef.value ||\n                mergedDisabledRef.value ||\n                maxReachedRef.value) {\n                dragOverRef.value = false;\n                return;\n            }\n            const dataTransferItems = (_a = e.dataTransfer) === null || _a === void 0 ? void 0 : _a.items;\n            if (dataTransferItems === null || dataTransferItems === void 0 ? void 0 : dataTransferItems.length) {\n                void getFilesFromEntries(Array.from(dataTransferItems).map((item) => item.webkitGetAsEntry()), mergedDirectoryDndRef.value)\n                    .then((files) => {\n                    handleFileAddition(files);\n                })\n                    .finally(() => {\n                    dragOverRef.value = false;\n                });\n            }\n            else {\n                dragOverRef.value = false;\n            }\n        }\n        return () => {\n            var _a;\n            const { value: mergedClsPrefix } = mergedClsPrefixRef;\n            return props.abstract ? ((_a = slots.default) === null || _a === void 0 ? void 0 : _a.call(slots, {\n                handleClick: handleTriggerClick,\n                handleDrop: handleTriggerDrop,\n                handleDragOver: handleTriggerDragOver,\n                handleDragEnter: handleTriggerDragEnter,\n                handleDragLeave: handleTriggerDragLeave\n            })) : (h(\"div\", { class: [\n                    `${mergedClsPrefix}-upload-trigger`,\n                    (mergedDisabledRef.value || maxReachedRef.value) &&\n                        `${mergedClsPrefix}-upload-trigger--disabled`,\n                    isImageCardTypeRef.value &&\n                        `${mergedClsPrefix}-upload-trigger--image-card`\n                ], style: triggerStyleRef.value, onClick: handleTriggerClick, onDrop: handleTriggerDrop, onDragover: handleTriggerDragOver, onDragenter: handleTriggerDragEnter, onDragleave: handleTriggerDragLeave }, isImageCardTypeRef.value ? (h(NUploadDragger, null, {\n                default: () => resolveSlot(slots.default, () => [\n                    h(NBaseIcon, { clsPrefix: mergedClsPrefix }, { default: () => h(AddIcon, null) })\n                ])\n            })) : (slots)));\n        };\n    }\n});\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('attach', h(\"svg\", { viewBox: \"0 0 16 16\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"g\", { stroke: \"none\", \"stroke-width\": \"1\", fill: \"none\", \"fill-rule\": \"evenodd\" },\n        h(\"g\", { fill: \"currentColor\", \"fill-rule\": \"nonzero\" },\n            h(\"path\", { d: \"M3.25735931,8.70710678 L7.85355339,4.1109127 C8.82986412,3.13460197 10.4127766,3.13460197 11.3890873,4.1109127 C12.365398,5.08722343 12.365398,6.67013588 11.3890873,7.64644661 L6.08578644,12.9497475 C5.69526215,13.3402718 5.06209717,13.3402718 4.67157288,12.9497475 C4.28104858,12.5592232 4.28104858,11.9260582 4.67157288,11.5355339 L9.97487373,6.23223305 C10.1701359,6.0369709 10.1701359,5.72038841 9.97487373,5.52512627 C9.77961159,5.32986412 9.4630291,5.32986412 9.26776695,5.52512627 L3.96446609,10.8284271 C3.18341751,11.6094757 3.18341751,12.8758057 3.96446609,13.6568542 C4.74551468,14.4379028 6.01184464,14.4379028 6.79289322,13.6568542 L12.0961941,8.35355339 C13.4630291,6.98671837 13.4630291,4.77064094 12.0961941,3.40380592 C10.7293591,2.0369709 8.51328163,2.0369709 7.14644661,3.40380592 L2.55025253,8 C2.35499039,8.19526215 2.35499039,8.51184464 2.55025253,8.70710678 C2.74551468,8.90236893 3.06209717,8.90236893 3.25735931,8.70710678 Z\" })))));\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('trash', h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\" },\n    h(\"path\", { d: \"M432,144,403.33,419.74A32,32,0,0,1,371.55,448H140.46a32,32,0,0,1-31.78-28.26L80,144\", style: \"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;\" }),\n    h(\"rect\", { x: \"32\", y: \"64\", width: \"448\", height: \"80\", rx: \"16\", ry: \"16\", style: \"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;\" }),\n    h(\"line\", { x1: \"312\", y1: \"240\", x2: \"200\", y2: \"352\", style: \"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;\" }),\n    h(\"line\", { x1: \"312\", y1: \"352\", x2: \"200\", y2: \"240\", style: \"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;\" })));\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('cancel', h(\"svg\", { viewBox: \"0 0 16 16\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"g\", { stroke: \"none\", \"stroke-width\": \"1\", fill: \"none\", \"fill-rule\": \"evenodd\" },\n        h(\"g\", { fill: \"currentColor\", \"fill-rule\": \"nonzero\" },\n            h(\"path\", { d: \"M2.58859116,2.7156945 L2.64644661,2.64644661 C2.82001296,2.47288026 3.08943736,2.45359511 3.2843055,2.58859116 L3.35355339,2.64644661 L8,7.293 L12.6464466,2.64644661 C12.8417088,2.45118446 13.1582912,2.45118446 13.3535534,2.64644661 C13.5488155,2.84170876 13.5488155,3.15829124 13.3535534,3.35355339 L8.707,8 L13.3535534,12.6464466 C13.5271197,12.820013 13.5464049,13.0894374 13.4114088,13.2843055 L13.3535534,13.3535534 C13.179987,13.5271197 12.9105626,13.5464049 12.7156945,13.4114088 L12.6464466,13.3535534 L8,8.707 L3.35355339,13.3535534 C3.15829124,13.5488155 2.84170876,13.5488155 2.64644661,13.3535534 C2.45118446,13.1582912 2.45118446,12.8417088 2.64644661,12.6464466 L7.293,8 L2.64644661,3.35355339 C2.47288026,3.17998704 2.45359511,2.91056264 2.58859116,2.7156945 L2.64644661,2.64644661 L2.58859116,2.7156945 Z\" })))));\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('retry', h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 512 512\" },\n    h(\"path\", { d: \"M320,146s24.36-12-64-12A160,160,0,1,0,416,294\", style: \"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-miterlimit: 10; stroke-width: 32px;\" }),\n    h(\"polyline\", { points: \"256 58 336 138 256 218\", style: \"fill: none; stroke: currentcolor; stroke-linecap: round; stroke-linejoin: round; stroke-width: 32px;\" })));\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('download', h(\"svg\", { viewBox: \"0 0 16 16\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"g\", { stroke: \"none\", \"stroke-width\": \"1\", fill: \"none\", \"fill-rule\": \"evenodd\" },\n        h(\"g\", { fill: \"currentColor\", \"fill-rule\": \"nonzero\" },\n            h(\"path\", { d: \"M3.5,13 L12.5,13 C12.7761424,13 13,13.2238576 13,13.5 C13,13.7454599 12.8231248,13.9496084 12.5898756,13.9919443 L12.5,14 L3.5,14 C3.22385763,14 3,13.7761424 3,13.5 C3,13.2545401 3.17687516,13.0503916 3.41012437,13.0080557 L3.5,13 L12.5,13 L3.5,13 Z M7.91012437,1.00805567 L8,1 C8.24545989,1 8.44960837,1.17687516 8.49194433,1.41012437 L8.5,1.5 L8.5,10.292 L11.1819805,7.6109127 C11.3555469,7.43734635 11.6249713,7.4180612 11.8198394,7.55305725 L11.8890873,7.6109127 C12.0626536,7.78447906 12.0819388,8.05390346 11.9469427,8.2487716 L11.8890873,8.31801948 L8.35355339,11.8535534 C8.17998704,12.0271197 7.91056264,12.0464049 7.7156945,11.9114088 L7.64644661,11.8535534 L4.1109127,8.31801948 C3.91565056,8.12275734 3.91565056,7.80617485 4.1109127,7.6109127 C4.28447906,7.43734635 4.55390346,7.4180612 4.7487716,7.55305725 L4.81801948,7.6109127 L7.5,10.292 L7.5,1.5 C7.5,1.25454011 7.67687516,1.05039163 7.91012437,1.00805567 L8,1 L7.91012437,1.00805567 Z\" })))));\n","export const isImageSupportNativeLazy = false;\n// Keep it to false currently, we will provide a prop to make it configuable\n// typeof document !== 'undefined' && 'loading' in document.createElement('img')\n","import { useTheme } from '../../_mixins';\nexport const imagePreviewSharedProps = Object.assign(Object.assign({}, useTheme.props), { showToolbar: { type: Boolean, default: true }, showToolbarTooltip: Boolean });\n","export const resolveOptionsAndHash = (options = {}) => {\n    var _a;\n    const { root = null } = options;\n    return {\n        hash: `${options.rootMargin || '0px 0px 0px 0px'}-${Array.isArray(options.threshold)\n            ? options.threshold.join(',')\n            : (_a = options.threshold) !== null && _a !== void 0 ? _a : '0'}`,\n        options: Object.assign(Object.assign({}, options), { root: (typeof root === 'string' ? document.querySelector(root) : root) ||\n                document.documentElement })\n    };\n};\n// root -> options -> [observer, elements]\nconst observers = new WeakMap();\nconst unobserveHandleMap = new WeakMap();\nconst shouldStartLoadingRefMap = new WeakMap();\nexport const observeIntersection = (el, options, shouldStartLoadingRef) => {\n    if (!el)\n        return () => { };\n    const resolvedOptionsAndHash = resolveOptionsAndHash(options);\n    const { root } = resolvedOptionsAndHash.options;\n    let rootObservers;\n    const _rootObservers = observers.get(root);\n    if (_rootObservers) {\n        rootObservers = _rootObservers;\n    }\n    else {\n        rootObservers = new Map();\n        observers.set(root, rootObservers);\n    }\n    let observer;\n    let observerAndObservedElements;\n    if (rootObservers.has(resolvedOptionsAndHash.hash)) {\n        observerAndObservedElements =\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            rootObservers.get(resolvedOptionsAndHash.hash);\n        if (!observerAndObservedElements[1].has(el)) {\n            observer = observerAndObservedElements[0];\n            observerAndObservedElements[1].add(el);\n            observer.observe(el);\n        }\n    }\n    else {\n        observer = new IntersectionObserver((entries) => {\n            entries.forEach((entry) => {\n                if (entry.isIntersecting) {\n                    const _unobserve = unobserveHandleMap.get(entry.target);\n                    const _shouldStartLoadingRef = shouldStartLoadingRefMap.get(entry.target);\n                    if (_unobserve)\n                        _unobserve();\n                    if (_shouldStartLoadingRef) {\n                        _shouldStartLoadingRef.value = true;\n                    }\n                }\n            });\n        }, resolvedOptionsAndHash.options);\n        observer.observe(el);\n        observerAndObservedElements = [observer, new Set([el])];\n        rootObservers.set(resolvedOptionsAndHash.hash, observerAndObservedElements);\n    }\n    let unobservered = false;\n    const unobserve = () => {\n        if (unobservered)\n            return;\n        unobserveHandleMap.delete(el);\n        shouldStartLoadingRefMap.delete(el);\n        unobservered = true;\n        if (observerAndObservedElements[1].has(el)) {\n            observerAndObservedElements[0].unobserve(el);\n            observerAndObservedElements[1].delete(el);\n        }\n        if (observerAndObservedElements[1].size <= 0) {\n            rootObservers.delete(resolvedOptionsAndHash.hash);\n        }\n        if (!rootObservers.size) {\n            observers.delete(root);\n        }\n    };\n    unobserveHandleMap.set(el, unobserve);\n    shouldStartLoadingRefMap.set(el, shouldStartLoadingRef);\n    return unobserve;\n};\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('rotateClockwise', h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M17 10C17 6.13401 13.866 3 10 3C6.13401 3 3 6.13401 3 10C3 12.7916 4.63419 15.2026 7 16.3265V14.5C7 14.2239 7.22386 14 7.5 14C7.77614 14 8 14.2239 8 14.5V17.5C8 17.7761 7.77614 18 7.5 18H4.5C4.22386 18 4 17.7761 4 17.5C4 17.2239 4.22386 17 4.5 17H6.12422C3.66539 15.6357 2 13.0128 2 10C2 5.58172 5.58172 2 10 2C14.4183 2 18 5.58172 18 10C18 10.2761 17.7761 10.5 17.5 10.5C17.2239 10.5 17 10.2761 17 10Z\", fill: \"currentColor\" }),\n    h(\"path\", { d: \"M10 12C8.89543 12 8 11.1046 8 10C8 8.89543 8.89543 8 10 8C11.1046 8 12 8.89543 12 10C12 11.1046 11.1046 12 10 12ZM10 11C10.5523 11 11 10.5523 11 10C11 9.44772 10.5523 9 10 9C9.44772 9 9 9.44772 9 10C9 10.5523 9.44772 11 10 11Z\", fill: \"currentColor\" })));\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('rotateClockwise', h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M3 10C3 6.13401 6.13401 3 10 3C13.866 3 17 6.13401 17 10C17 12.7916 15.3658 15.2026 13 16.3265V14.5C13 14.2239 12.7761 14 12.5 14C12.2239 14 12 14.2239 12 14.5V17.5C12 17.7761 12.2239 18 12.5 18H15.5C15.7761 18 16 17.7761 16 17.5C16 17.2239 15.7761 17 15.5 17H13.8758C16.3346 15.6357 18 13.0128 18 10C18 5.58172 14.4183 2 10 2C5.58172 2 2 5.58172 2 10C2 10.2761 2.22386 10.5 2.5 10.5C2.77614 10.5 3 10.2761 3 10Z\", fill: \"currentColor\" }),\n    h(\"path\", { d: \"M10 12C11.1046 12 12 11.1046 12 10C12 8.89543 11.1046 8 10 8C8.89543 8 8 8.89543 8 10C8 11.1046 8.89543 12 10 12ZM10 11C9.44772 11 9 10.5523 9 10C9 9.44772 9.44772 9 10 9C10.5523 9 11 9.44772 11 10C11 10.5523 10.5523 11 10 11Z\", fill: \"currentColor\" })));\n","import { h, defineComponent } from 'vue';\nexport default defineComponent({\n    name: 'ResizeSmall',\n    render() {\n        return (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 20 20\" },\n            h(\"g\", { fill: \"none\" },\n                h(\"path\", { d: \"M5.5 4A1.5 1.5 0 0 0 4 5.5v1a.5.5 0 0 1-1 0v-1A2.5 2.5 0 0 1 5.5 3h1a.5.5 0 0 1 0 1h-1zM16 5.5A1.5 1.5 0 0 0 14.5 4h-1a.5.5 0 0 1 0-1h1A2.5 2.5 0 0 1 17 5.5v1a.5.5 0 0 1-1 0v-1zm0 9a1.5 1.5 0 0 1-1.5 1.5h-1a.5.5 0 0 0 0 1h1a2.5 2.5 0 0 0 2.5-2.5v-1a.5.5 0 0 0-1 0v1zm-12 0A1.5 1.5 0 0 0 5.5 16h1.25a.5.5 0 0 1 0 1H5.5A2.5 2.5 0 0 1 3 14.5v-1.25a.5.5 0 0 1 1 0v1.25zM8.5 7A1.5 1.5 0 0 0 7 8.5v3A1.5 1.5 0 0 0 8.5 13h3a1.5 1.5 0 0 0 1.5-1.5v-3A1.5 1.5 0 0 0 11.5 7h-3zM8 8.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-3z\", fill: \"currentColor\" }))));\n    }\n});\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('zoomOut', h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M11 8C11.2761 8 11.5 8.22386 11.5 8.5C11.5 8.77614 11.2761 9 11 9H6C5.72386 9 5.5 8.77614 5.5 8.5C5.5 8.22386 5.72386 8 6 8H11Z\", fill: \"currentColor\" }),\n    h(\"path\", { d: \"M14 8.5C14 5.46243 11.5376 3 8.5 3C5.46243 3 3 5.46243 3 8.5C3 11.5376 5.46243 14 8.5 14C9.83879 14 11.0659 13.5217 12.0196 12.7266L16.1464 16.8536L16.2157 16.9114C16.4106 17.0464 16.68 17.0271 16.8536 16.8536C17.0488 16.6583 17.0488 16.3417 16.8536 16.1464L12.7266 12.0196C13.5217 11.0659 14 9.83879 14 8.5ZM4 8.5C4 6.01472 6.01472 4 8.5 4C10.9853 4 13 6.01472 13 8.5C13 10.9853 10.9853 13 8.5 13C6.01472 13 4 10.9853 4 8.5Z\", fill: \"currentColor\" })));\n","import { h } from 'vue';\nimport { replaceable } from './replaceable';\nexport default replaceable('zoomIn', h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M11.5 8.5C11.5 8.22386 11.2761 8 11 8H9V6C9 5.72386 8.77614 5.5 8.5 5.5C8.22386 5.5 8 5.72386 8 6V8H6C5.72386 8 5.5 8.22386 5.5 8.5C5.5 8.77614 5.72386 9 6 9H8V11C8 11.2761 8.22386 11.5 8.5 11.5C8.77614 11.5 9 11.2761 9 11V9H11C11.2761 9 11.5 8.77614 11.5 8.5Z\", fill: \"currentColor\" }),\n    h(\"path\", { d: \"M8.5 3C11.5376 3 14 5.46243 14 8.5C14 9.83879 13.5217 11.0659 12.7266 12.0196L16.8536 16.1464C17.0488 16.3417 17.0488 16.6583 16.8536 16.8536C16.68 17.0271 16.4106 17.0464 16.2157 16.9114L16.1464 16.8536L12.0196 12.7266C11.0659 13.5217 9.83879 14 8.5 14C5.46243 14 3 11.5376 3 8.5C3 5.46243 5.46243 3 8.5 3ZM8.5 4C6.01472 4 4 6.01472 4 8.5C4 10.9853 6.01472 13 8.5 13C10.9853 13 13 10.9853 13 8.5C13 6.01472 10.9853 4 8.5 4Z\", fill: \"currentColor\" })));\n","import { tooltipLight } from '../../tooltip/styles';\nimport { createTheme } from '../../_mixins';\nimport { commonLight } from '../../_styles/common';\nfunction self() {\n    return {\n        toolbarIconColor: 'rgba(255, 255, 255, .9)',\n        toolbarColor: 'rgba(0, 0, 0, .35)',\n        toolbarBoxShadow: 'none',\n        toolbarBorderRadius: '24px'\n    };\n}\nexport const imageLight = createTheme({\n    name: 'Image',\n    common: commonLight,\n    peers: {\n        Tooltip: tooltipLight\n    },\n    self\n});\n","import { h } from 'vue';\nexport const prevIcon = (h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M6 5C5.75454 5 5.55039 5.17688 5.50806 5.41012L5.5 5.5V14.5C5.5 14.7761 5.72386 15 6 15C6.24546 15 6.44961 14.8231 6.49194 14.5899L6.5 14.5V5.5C6.5 5.22386 6.27614 5 6 5ZM13.8536 5.14645C13.68 4.97288 13.4106 4.9536 13.2157 5.08859L13.1464 5.14645L8.64645 9.64645C8.47288 9.82001 8.4536 10.0894 8.58859 10.2843L8.64645 10.3536L13.1464 14.8536C13.3417 15.0488 13.6583 15.0488 13.8536 14.8536C14.0271 14.68 14.0464 14.4106 13.9114 14.2157L13.8536 14.1464L9.70711 10L13.8536 5.85355C14.0488 5.65829 14.0488 5.34171 13.8536 5.14645Z\", fill: \"currentColor\" })));\nexport const nextIcon = (h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M13.5 5C13.7455 5 13.9496 5.17688 13.9919 5.41012L14 5.5V14.5C14 14.7761 13.7761 15 13.5 15C13.2545 15 13.0504 14.8231 13.0081 14.5899L13 14.5V5.5C13 5.22386 13.2239 5 13.5 5ZM5.64645 5.14645C5.82001 4.97288 6.08944 4.9536 6.28431 5.08859L6.35355 5.14645L10.8536 9.64645C11.0271 9.82001 11.0464 10.0894 10.9114 10.2843L10.8536 10.3536L6.35355 14.8536C6.15829 15.0488 5.84171 15.0488 5.64645 14.8536C5.47288 14.68 5.4536 14.4106 5.58859 14.2157L5.64645 14.1464L9.79289 10L5.64645 5.85355C5.45118 5.65829 5.45118 5.34171 5.64645 5.14645Z\", fill: \"currentColor\" })));\nexport const closeIcon = (h(\"svg\", { viewBox: \"0 0 20 20\", fill: \"none\", xmlns: \"http://www.w3.org/2000/svg\" },\n    h(\"path\", { d: \"M4.089 4.216l.057-.07a.5.5 0 0 1 .638-.057l.07.057L10 9.293l5.146-5.147a.5.5 0 0 1 .638-.057l.07.057a.5.5 0 0 1 .057.638l-.057.07L10.707 10l5.147 5.146a.5.5 0 0 1 .057.638l-.057.07a.5.5 0 0 1-.638.057l-.07-.057L10 10.707l-5.146 5.147a.5.5 0 0 1-.638.057l-.07-.057a.5.5 0 0 1-.057-.638l.057-.07L9.293 10L4.146 4.854a.5.5 0 0 1-.057-.638l.057-.07l-.057.07z\", fill: \"currentColor\" })));\n","import { c, cB, cNotM } from '../../../_utils/cssr';\nimport { fadeInTransition } from '../../../_styles/transitions/fade-in.cssr';\nimport { fadeInScaleUpTransition } from '../../../_styles/transitions/fade-in-scale-up.cssr'; // vars:\n// --n-toolbar-icon-color\n// --n-toolbar-color\n// --n-toolbar-border-radius\n// --n-toolbar-box-shadow\n// --n-bezier\n\nexport default c([c('body >', [cB('image-container', 'position: fixed;')]), cB('image-preview-container', `\n position: fixed;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n `), cB('image-preview-overlay', `\n z-index: -1;\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n background: rgba(0, 0, 0, .3);\n `, [fadeInTransition()]), cB('image-preview-toolbar', `\n z-index: 1;\n position: absolute;\n left: 50%;\n transform: translateX(-50%);\n border-radius: var(--n-toolbar-border-radius);\n height: 48px;\n bottom: 40px;\n padding: 0 12px;\n background: var(--n-toolbar-color);\n box-shadow: var(--n-toolbar-box-shadow);\n color: var(--n-toolbar-icon-color);\n transition: color .3s var(--n-bezier);\n display: flex;\n align-items: center;\n `, [cB('base-icon', `\n padding: 0 8px;\n font-size: 28px;\n cursor: pointer;\n `), fadeInTransition()]), cB('image-preview-wrapper', `\n position: absolute;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n display: flex;\n pointer-events: none;\n `, [fadeInScaleUpTransition()]), cB('image-preview', `\n user-select: none;\n -webkit-user-select: none;\n pointer-events: all;\n margin: auto;\n max-height: calc(100vh - 32px);\n max-width: calc(100vw - 32px);\n transition: transform .3s var(--n-bezier);\n `), cB('image', `\n display: inline-flex;\n max-height: 100%;\n max-width: 100%;\n `, [cNotM('preview-disabled', `\n cursor: pointer;\n `), c('img', `\n border-radius: inherit;\n `)])]);","import { h, defineComponent, Fragment, ref, withDirectives, Transition, vShow, watch, computed, toRef, onBeforeUnmount } from 'vue';\nimport { zindexable } from 'vdirs';\nimport { useIsMounted } from 'vooks';\nimport { LazyTeleport } from 'vueuc';\nimport { on, off } from 'evtd';\nimport { beforeNextFrameOnce } from 'seemly';\nimport { RotateClockwiseIcon, RotateCounterclockwiseIcon, ZoomInIcon, ZoomOutIcon, ResizeSmallIcon } from '../../_internal/icons';\nimport { useConfig, useLocale, useTheme, useThemeClass } from '../../_mixins';\nimport { NBaseIcon } from '../../_internal';\nimport { NTooltip } from '../../tooltip';\nimport { imageLight } from '../styles';\nimport { prevIcon, nextIcon, closeIcon } from './icons';\nimport { imagePreviewSharedProps } from './interface';\nimport style from './styles/index.cssr';\nconst BLEEDING = 32;\nexport default defineComponent({\n    name: 'ImagePreview',\n    props: Object.assign(Object.assign({}, imagePreviewSharedProps), { onNext: Function, onPrev: Function, clsPrefix: {\n            type: String,\n            required: true\n        } }),\n    setup(props) {\n        const themeRef = useTheme('Image', '-image', style, imageLight, props, toRef(props, 'clsPrefix'));\n        let thumbnailEl = null;\n        const previewRef = ref(null);\n        const previewWrapperRef = ref(null);\n        const previewSrcRef = ref(undefined);\n        const showRef = ref(false);\n        const displayedRef = ref(false);\n        const { localeRef } = useLocale('Image');\n        function syncTransformOrigin() {\n            const { value: previewWrapper } = previewWrapperRef;\n            if (!thumbnailEl || !previewWrapper)\n                return;\n            const { style } = previewWrapper;\n            const tbox = thumbnailEl.getBoundingClientRect();\n            const tx = tbox.left + tbox.width / 2;\n            const ty = tbox.top + tbox.height / 2;\n            style.transformOrigin = `${tx}px ${ty}px`;\n        }\n        function handleKeydown(e) {\n            var _a, _b;\n            switch (e.key) {\n                case 'ArrowLeft':\n                    (_a = props.onPrev) === null || _a === void 0 ? void 0 : _a.call(props);\n                    break;\n                case 'ArrowRight':\n                    (_b = props.onNext) === null || _b === void 0 ? void 0 : _b.call(props);\n                    break;\n                case 'Escape':\n                    toggleShow();\n                    break;\n            }\n        }\n        watch(showRef, (value) => {\n            if (value) {\n                on('keydown', document, handleKeydown);\n            }\n            else\n                off('keydown', document, handleKeydown);\n        });\n        onBeforeUnmount(() => {\n            off('keydown', document, handleKeydown);\n        });\n        let startX = 0;\n        let startY = 0;\n        let offsetX = 0;\n        let offsetY = 0;\n        let startOffsetX = 0;\n        let startOffsetY = 0;\n        let mouseDownClientX = 0;\n        let mouseDownClientY = 0;\n        let dragging = false;\n        function handleMouseMove(e) {\n            const { clientX, clientY } = e;\n            offsetX = clientX - startX;\n            offsetY = clientY - startY;\n            beforeNextFrameOnce(derivePreviewStyle);\n        }\n        function getMoveStrategy(opts) {\n            const { mouseUpClientX, mouseUpClientY, mouseDownClientX, mouseDownClientY } = opts;\n            const deltaHorizontal = mouseDownClientX - mouseUpClientX;\n            const deltaVertical = mouseDownClientY - mouseUpClientY;\n            const moveVerticalDirection = `vertical${deltaVertical > 0 ? 'Top' : 'Bottom'}`;\n            const moveHorizontalDirection = `horizontal${deltaHorizontal > 0 ? 'Left' : 'Right'}`;\n            return {\n                moveVerticalDirection,\n                moveHorizontalDirection,\n                deltaHorizontal,\n                deltaVertical\n            };\n        }\n        // avoid image move outside viewport\n        function getDerivedOffset(moveStrategy) {\n            const { value: preview } = previewRef;\n            if (!preview)\n                return { offsetX: 0, offsetY: 0 };\n            const pbox = preview.getBoundingClientRect();\n            const { moveVerticalDirection, moveHorizontalDirection, deltaHorizontal, deltaVertical } = moveStrategy || {};\n            let nextOffsetX = 0;\n            let nextOffsetY = 0;\n            if (pbox.width <= window.innerWidth) {\n                nextOffsetX = 0;\n            }\n            else if (pbox.left > 0) {\n                nextOffsetX = (pbox.width - window.innerWidth) / 2;\n            }\n            else if (pbox.right < window.innerWidth) {\n                nextOffsetX = -(pbox.width - window.innerWidth) / 2;\n            }\n            else if (moveHorizontalDirection === 'horizontalRight') {\n                nextOffsetX = Math.min((pbox.width - window.innerWidth) / 2, startOffsetX - (deltaHorizontal !== null && deltaHorizontal !== void 0 ? deltaHorizontal : 0));\n            }\n            else {\n                nextOffsetX = Math.max(-((pbox.width - window.innerWidth) / 2), startOffsetX - (deltaHorizontal !== null && deltaHorizontal !== void 0 ? deltaHorizontal : 0));\n            }\n            if (pbox.height <= window.innerHeight) {\n                nextOffsetY = 0;\n            }\n            else if (pbox.top > 0) {\n                nextOffsetY = (pbox.height - window.innerHeight) / 2;\n            }\n            else if (pbox.bottom < window.innerHeight) {\n                nextOffsetY = -(pbox.height - window.innerHeight) / 2;\n            }\n            else if (moveVerticalDirection === 'verticalBottom') {\n                nextOffsetY = Math.min((pbox.height - window.innerHeight) / 2, startOffsetY - (deltaVertical !== null && deltaVertical !== void 0 ? deltaVertical : 0));\n            }\n            else {\n                nextOffsetY = Math.max(-((pbox.height - window.innerHeight) / 2), startOffsetY - (deltaVertical !== null && deltaVertical !== void 0 ? deltaVertical : 0));\n            }\n            return {\n                offsetX: nextOffsetX,\n                offsetY: nextOffsetY\n            };\n        }\n        function handleMouseUp(e) {\n            off('mousemove', document, handleMouseMove);\n            off('mouseup', document, handleMouseUp);\n            const { clientX: mouseUpClientX, clientY: mouseUpClientY } = e;\n            dragging = false;\n            const moveStrategy = getMoveStrategy({\n                mouseUpClientX,\n                mouseUpClientY,\n                mouseDownClientX,\n                mouseDownClientY\n            });\n            const offset = getDerivedOffset(moveStrategy);\n            offsetX = offset.offsetX;\n            offsetY = offset.offsetY;\n            derivePreviewStyle();\n        }\n        function handlePreviewMousedown(e) {\n            const { clientX, clientY } = e;\n            dragging = true;\n            startX = clientX - offsetX;\n            startY = clientY - offsetY;\n            startOffsetX = offsetX;\n            startOffsetY = offsetY;\n            mouseDownClientX = clientX;\n            mouseDownClientY = clientY;\n            derivePreviewStyle();\n            on('mousemove', document, handleMouseMove);\n            on('mouseup', document, handleMouseUp);\n        }\n        function handlePreviewDblclick() {\n            const originalImageSizeScale = getOrignalImageSizeScale();\n            scale = scale === originalImageSizeScale ? 1 : originalImageSizeScale;\n            derivePreviewStyle();\n        }\n        const scaleRadix = 1.5;\n        let scaleExp = 0;\n        let scale = 1;\n        let rotate = 0;\n        function resetScale() {\n            scale = 1;\n            scaleExp = 0;\n        }\n        function handleSwitchPrev() {\n            var _a;\n            resetScale();\n            rotate = 0;\n            (_a = props.onPrev) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        function handleSwitchNext() {\n            var _a;\n            resetScale();\n            rotate = 0;\n            (_a = props.onNext) === null || _a === void 0 ? void 0 : _a.call(props);\n        }\n        function rotateCounterclockwise() {\n            rotate -= 90;\n            derivePreviewStyle();\n        }\n        function rotateClockwise() {\n            rotate += 90;\n            derivePreviewStyle();\n        }\n        function getMaxScale() {\n            const { value: preview } = previewRef;\n            if (!preview)\n                return 1;\n            const { innerWidth, innerHeight } = window;\n            const heightMaxScale = Math.max(1, preview.naturalHeight / (innerHeight - BLEEDING));\n            const widthMaxScale = Math.max(1, preview.naturalWidth / (innerWidth - BLEEDING));\n            return Math.max(3, heightMaxScale * 2, widthMaxScale * 2);\n        }\n        function getOrignalImageSizeScale() {\n            const { value: preview } = previewRef;\n            if (!preview)\n                return 1;\n            const { innerWidth, innerHeight } = window;\n            const heightScale = preview.naturalHeight / (innerHeight - BLEEDING);\n            const widthScale = preview.naturalWidth / (innerWidth - BLEEDING);\n            if (heightScale < 1 && widthScale < 1) {\n                return 1;\n            }\n            return Math.max(heightScale, widthScale);\n        }\n        function zoomIn() {\n            const maxScale = getMaxScale();\n            if (scale < maxScale) {\n                scaleExp += 1;\n                scale = Math.min(maxScale, Math.pow(scaleRadix, scaleExp));\n                derivePreviewStyle();\n            }\n        }\n        function zoomOut() {\n            if (scale > 0.5) {\n                const originalScale = scale;\n                scaleExp -= 1;\n                scale = Math.max(0.5, Math.pow(scaleRadix, scaleExp));\n                const diff = originalScale - scale;\n                derivePreviewStyle(false);\n                const offset = getDerivedOffset();\n                scale += diff;\n                derivePreviewStyle(false);\n                scale -= diff;\n                offsetX = offset.offsetX;\n                offsetY = offset.offsetY;\n                derivePreviewStyle();\n            }\n        }\n        function derivePreviewStyle(transition = true) {\n            const { value: preview } = previewRef;\n            if (!preview)\n                return;\n            const { style } = preview;\n            const transformStyle = `transform-origin: center; transform: translateX(${offsetX}px) translateY(${offsetY}px) rotate(${rotate}deg) scale(${scale});`;\n            if (dragging) {\n                style.cssText = 'cursor: grabbing; transition: none;' + transformStyle;\n            }\n            else {\n                style.cssText =\n                    'cursor: grab;' +\n                        transformStyle +\n                        (transition ? '' : 'transition: none;');\n            }\n            if (!transition) {\n                void preview.offsetHeight;\n            }\n        }\n        function toggleShow() {\n            showRef.value = !showRef.value;\n            displayedRef.value = true;\n        }\n        function resizeToOrignalImageSize() {\n            scale = getOrignalImageSizeScale();\n            scaleExp = Math.ceil(Math.log(scale) / Math.log(scaleRadix));\n            offsetX = 0;\n            offsetY = 0;\n            derivePreviewStyle();\n        }\n        const exposedMethods = {\n            setPreviewSrc: (src) => {\n                previewSrcRef.value = src;\n            },\n            setThumbnailEl: (el) => {\n                thumbnailEl = el;\n            },\n            toggleShow\n        };\n        function withTooltip(node, tooltipKey) {\n            if (props.showToolbarTooltip) {\n                const { value: theme } = themeRef;\n                return (h(NTooltip, { to: false, theme: theme.peers.Tooltip, themeOverrides: theme.peerOverrides.Tooltip, keepAliveOnHover: false }, {\n                    default: () => {\n                        return localeRef.value[tooltipKey];\n                    },\n                    trigger: () => node\n                }));\n            }\n            else {\n                return node;\n            }\n        }\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut }, self: { toolbarIconColor, toolbarBorderRadius, toolbarBoxShadow, toolbarColor } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-toolbar-icon-color': toolbarIconColor,\n                '--n-toolbar-color': toolbarColor,\n                '--n-toolbar-border-radius': toolbarBorderRadius,\n                '--n-toolbar-box-shadow': toolbarBoxShadow\n            };\n        });\n        const { inlineThemeDisabled } = useConfig();\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('image-preview', undefined, cssVarsRef, props)\n            : undefined;\n        return Object.assign({ previewRef,\n            previewWrapperRef, previewSrc: previewSrcRef, show: showRef, appear: useIsMounted(), displayed: displayedRef, handleWheel(e) {\n                e.preventDefault();\n            },\n            handlePreviewMousedown,\n            handlePreviewDblclick,\n            syncTransformOrigin, handleAfterLeave: () => {\n                resetScale();\n                rotate = 0;\n                displayedRef.value = false;\n            }, handleDragStart: (e) => {\n                e.preventDefault();\n            }, zoomIn,\n            zoomOut,\n            rotateCounterclockwise,\n            rotateClockwise,\n            handleSwitchPrev,\n            handleSwitchNext,\n            withTooltip,\n            resizeToOrignalImageSize, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender }, exposedMethods);\n    },\n    render() {\n        var _a, _b;\n        const { clsPrefix } = this;\n        return (h(Fragment, null, (_b = (_a = this.$slots).default) === null || _b === void 0 ? void 0 :\n            _b.call(_a),\n            h(LazyTeleport, { show: this.show }, {\n                default: () => {\n                    var _a;\n                    if (!(this.show || this.displayed)) {\n                        return null;\n                    }\n                    (_a = this.onRender) === null || _a === void 0 ? void 0 : _a.call(this);\n                    return withDirectives(h(\"div\", { class: [\n                            `${clsPrefix}-image-preview-container`,\n                            this.themeClass\n                        ], style: this.cssVars, onWheel: this.handleWheel },\n                        h(Transition, { name: \"fade-in-transition\", appear: this.appear }, {\n                            default: () => this.show ? (h(\"div\", { class: `${clsPrefix}-image-preview-overlay`, onClick: this.toggleShow })) : null\n                        }),\n                        this.showToolbar ? (h(Transition, { name: \"fade-in-transition\", appear: this.appear }, {\n                            default: () => {\n                                if (!this.show)\n                                    return null;\n                                const { withTooltip } = this;\n                                return (h(\"div\", { class: `${clsPrefix}-image-preview-toolbar` },\n                                    this.onPrev ? (h(Fragment, null,\n                                        withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.handleSwitchPrev }, { default: () => prevIcon }), 'tipPrevious'),\n                                        withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.handleSwitchNext }, { default: () => nextIcon }), 'tipNext'))) : null,\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.rotateCounterclockwise }, {\n                                        default: () => (h(RotateCounterclockwiseIcon, null))\n                                    }), 'tipCounterclockwise'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.rotateClockwise }, {\n                                        default: () => h(RotateClockwiseIcon, null)\n                                    }), 'tipClockwise'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.resizeToOrignalImageSize }, {\n                                        default: () => {\n                                            return h(ResizeSmallIcon, null);\n                                        }\n                                    }), 'tipOriginalSize'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.zoomOut }, { default: () => h(ZoomOutIcon, null) }), 'tipZoomOut'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.zoomIn }, { default: () => h(ZoomInIcon, null) }), 'tipZoomIn'),\n                                    withTooltip(h(NBaseIcon, { clsPrefix: clsPrefix, onClick: this.toggleShow }, { default: () => closeIcon }), 'tipClose')));\n                            }\n                        })) : null,\n                        h(Transition, { name: \"fade-in-scale-up-transition\", onAfterLeave: this.handleAfterLeave, appear: this.appear, \n                            // BUG:\n                            // onEnter will be called twice, I don't know why\n                            // Maybe it is a bug of vue\n                            onEnter: this.syncTransformOrigin, onBeforeLeave: this.syncTransformOrigin }, {\n                            default: () => withDirectives(h(\"div\", { class: `${clsPrefix}-image-preview-wrapper`, ref: \"previewWrapperRef\" },\n                                h(\"img\", { draggable: false, onMousedown: this.handlePreviewMousedown, onDblclick: this.handlePreviewDblclick, class: `${clsPrefix}-image-preview`, key: this.previewSrc, src: this.previewSrc, ref: \"previewRef\", onDragstart: this.handleDragStart })), [[vShow, this.show]])\n                        })), [[zindexable, { enabled: this.show }]]);\n                }\n            })));\n    }\n});\n","import { defineComponent, h, ref, provide, getCurrentInstance } from 'vue';\nimport { createId } from 'seemly';\nimport { createInjectionKey } from '../../_utils';\nimport { useConfig } from '../../_mixins';\nimport NImagePreview from './ImagePreview';\nimport { imagePreviewSharedProps } from './interface';\nexport const imageGroupInjectionKey = createInjectionKey('n-image-group');\nexport const imageGroupProps = imagePreviewSharedProps;\nexport default defineComponent({\n    name: 'ImageGroup',\n    props: imageGroupProps,\n    setup(props) {\n        let currentSrc;\n        const { mergedClsPrefixRef } = useConfig(props);\n        const groupId = `c${createId()}`;\n        const vm = getCurrentInstance();\n        const setPreviewSrc = (src) => {\n            var _a;\n            currentSrc = src;\n            (_a = previewInstRef.value) === null || _a === void 0 ? void 0 : _a.setPreviewSrc(src);\n        };\n        function go(step) {\n            if (!(vm === null || vm === void 0 ? void 0 : vm.proxy))\n                return;\n            const container = vm.proxy.$el.parentElement;\n            // use dom api since we can't get the correct order before all children are rendered\n            const imgs = container.querySelectorAll(`[data-group-id=${groupId}]:not([data-error=true])`);\n            if (!imgs.length)\n                return;\n            const index = Array.from(imgs).findIndex((img) => img.dataset.previewSrc === currentSrc);\n            if (~index) {\n                setPreviewSrc(imgs[(index + step + imgs.length) % imgs.length].dataset.previewSrc);\n            }\n            else {\n                setPreviewSrc(imgs[0].dataset.previewSrc);\n            }\n        }\n        provide(imageGroupInjectionKey, {\n            mergedClsPrefixRef,\n            setPreviewSrc,\n            setThumbnailEl: (el) => {\n                var _a;\n                (_a = previewInstRef.value) === null || _a === void 0 ? void 0 : _a.setThumbnailEl(el);\n            },\n            toggleShow: () => {\n                var _a;\n                (_a = previewInstRef.value) === null || _a === void 0 ? void 0 : _a.toggleShow();\n            },\n            groupId\n        });\n        const previewInstRef = ref(null);\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            previewInstRef,\n            next: () => go(1),\n            prev: () => go(-1)\n        };\n    },\n    render() {\n        return (h(NImagePreview, { theme: this.theme, themeOverrides: this.themeOverrides, clsPrefix: this.mergedClsPrefix, ref: \"previewInstRef\", onPrev: this.prev, onNext: this.next, showToolbar: this.showToolbar, showToolbarTooltip: this.showToolbarTooltip }, this.$slots));\n    }\n});\n","import { defineComponent, h, inject, ref, toRef, watchEffect, onMounted, onBeforeUnmount } from 'vue';\nimport { isImageSupportNativeLazy } from '../../_utils/env/is-native-lazy-load';\nimport { useConfig } from '../../_mixins';\nimport { imagePreviewSharedProps } from './interface';\nimport { observeIntersection } from './utils';\nimport { imageGroupInjectionKey } from './ImageGroup';\nimport NImagePreview from './ImagePreview';\nexport const imageProps = Object.assign({ alt: String, height: [String, Number], imgProps: Object, lazy: Boolean, intersectionObserverOptions: Object, objectFit: {\n        type: String,\n        default: 'fill'\n    }, previewSrc: String, fallbackSrc: String, width: [String, Number], src: String, previewDisabled: Boolean, loadDescription: String, onError: Function, onLoad: Function }, imagePreviewSharedProps);\nexport default defineComponent({\n    name: 'Image',\n    props: imageProps,\n    inheritAttrs: false,\n    setup(props) {\n        const imageRef = ref(null);\n        const showErrorRef = ref(false);\n        const imgPropsRef = toRef(props, 'imgProps');\n        const previewInstRef = ref(null);\n        const imageGroupHandle = inject(imageGroupInjectionKey, null);\n        const { mergedClsPrefixRef } = imageGroupHandle || useConfig(props);\n        const exposedMethods = {\n            click: () => {\n                if (props.previewDisabled || showErrorRef.value)\n                    return;\n                const mergedPreviewSrc = props.previewSrc || props.src;\n                if (imageGroupHandle) {\n                    imageGroupHandle.setPreviewSrc(mergedPreviewSrc);\n                    imageGroupHandle.setThumbnailEl(imageRef.value);\n                    imageGroupHandle.toggleShow();\n                    return;\n                }\n                const { value: previewInst } = previewInstRef;\n                if (!previewInst)\n                    return;\n                previewInst.setPreviewSrc(mergedPreviewSrc);\n                previewInst.setThumbnailEl(imageRef.value);\n                previewInst.toggleShow();\n            }\n        };\n        const shouldStartLoadingRef = ref(!props.lazy);\n        onMounted(() => {\n            var _a;\n            (_a = imageRef.value) === null || _a === void 0 ? void 0 : _a.setAttribute('data-group-id', (imageGroupHandle === null || imageGroupHandle === void 0 ? void 0 : imageGroupHandle.groupId) || '');\n        });\n        onMounted(() => {\n            if (isImageSupportNativeLazy) {\n                return;\n            }\n            let unobserve;\n            const stopWatchHandle = watchEffect(() => {\n                unobserve === null || unobserve === void 0 ? void 0 : unobserve();\n                unobserve = undefined;\n                if (props.lazy) {\n                    unobserve = observeIntersection(imageRef.value, props.intersectionObserverOptions, shouldStartLoadingRef);\n                }\n            });\n            onBeforeUnmount(() => {\n                stopWatchHandle();\n                unobserve === null || unobserve === void 0 ? void 0 : unobserve();\n            });\n        });\n        watchEffect(() => {\n            var _a;\n            void props.src;\n            void ((_a = props.imgProps) === null || _a === void 0 ? void 0 : _a.src);\n            showErrorRef.value = false;\n        });\n        const loadedRef = ref(false);\n        return Object.assign({ mergedClsPrefix: mergedClsPrefixRef, groupId: imageGroupHandle === null || imageGroupHandle === void 0 ? void 0 : imageGroupHandle.groupId, previewInstRef,\n            imageRef, imgProps: imgPropsRef, showError: showErrorRef, shouldStartLoading: shouldStartLoadingRef, loaded: loadedRef, mergedOnError: (e) => {\n                if (!shouldStartLoadingRef.value)\n                    return;\n                showErrorRef.value = true;\n                const { onError, imgProps: { onError: imgPropsOnError } = {} } = props;\n                onError === null || onError === void 0 ? void 0 : onError(e);\n                imgPropsOnError === null || imgPropsOnError === void 0 ? void 0 : imgPropsOnError(e);\n            }, mergedOnLoad: (e) => {\n                const { onLoad, imgProps: { onLoad: imgPropsOnLoad } = {} } = props;\n                onLoad === null || onLoad === void 0 ? void 0 : onLoad(e);\n                imgPropsOnLoad === null || imgPropsOnLoad === void 0 ? void 0 : imgPropsOnLoad(e);\n                loadedRef.value = true;\n            } }, exposedMethods);\n    },\n    render() {\n        var _a, _b;\n        const { mergedClsPrefix, imgProps = {}, loaded, $attrs, lazy } = this;\n        const placeholderNode = (_b = (_a = this.$slots).placeholder) === null || _b === void 0 ? void 0 : _b.call(_a);\n        const loadSrc = this.src || imgProps.src || '';\n        const imgNode = h('img', Object.assign(Object.assign({}, imgProps), { class: imgProps.class, ref: 'imageRef', width: this.width || imgProps.width, height: this.height || imgProps.height, src: isImageSupportNativeLazy\n                ? loadSrc\n                : this.showError\n                    ? this.fallbackSrc\n                    : this.shouldStartLoading\n                        ? loadSrc\n                        : undefined, alt: this.alt || imgProps.alt, 'aria-label': this.alt || imgProps.alt, onClick: this.click, onError: this.mergedOnError, onLoad: this.mergedOnLoad, loading: lazy ? 'lazy' : 'eager', style: [\n                imgProps.style || '',\n                placeholderNode && !loaded\n                    ? { height: '0', width: '0', visibility: 'hidden' }\n                    : '',\n                { objectFit: this.objectFit }\n            ], 'data-error': this.showError, 'data-preview-src': this.previewSrc || this.src }));\n        return (h(\"div\", Object.assign({}, $attrs, { role: \"none\", class: [\n                $attrs.class,\n                `${mergedClsPrefix}-image`,\n                (this.previewDisabled || this.showError) &&\n                    `${mergedClsPrefix}-image--preview-disabled`\n            ] }),\n            this.groupId ? (imgNode) : (h(NImagePreview, { theme: this.theme, themeOverrides: this.themeOverrides, clsPrefix: mergedClsPrefix, ref: \"previewInstRef\", showToolbar: this.showToolbar, showToolbarTooltip: this.showToolbarTooltip }, {\n                default: () => imgNode\n            })),\n            !loaded && placeholderNode));\n    }\n});\n","import { c, cB, cM } from '../../../_utils/cssr'; // vars\n// --n-bezier\n// --n-fill-color\n// --n-font-size\n// --n-font-size-circle\n// --n-font-weight-circle\n// --n-icon-color\n// --n-icon-size-circle\n// --n-icon-size-line\n// --n-line-bg-processing\n// --n-rail-color\n// --n-rail-height\n// --n-text-color-circle\n// --n-text-color-line-inner\n// --n-text-color-line-outer\n\nexport default c([cB('progress', {\n  display: 'inline-block'\n}, [cB('progress-icon', `\n color: var(--n-icon-color);\n transition: color .3s var(--n-bezier);\n `), cM('line', `\n width: 100%;\n display: block;\n `, [cB('progress-content', `\n display: flex;\n align-items: center;\n `, [cB('progress-graph', {\n  flex: 1\n})]), cB('progress-custom-content', {\n  marginLeft: '14px'\n}), cB('progress-icon', `\n width: 30px;\n padding-left: 14px;\n height: var(--n-icon-size-line);\n line-height: var(--n-icon-size-line);\n font-size: var(--n-icon-size-line);\n `, [cM('as-text', `\n color: var(--n-text-color-line-outer);\n text-align: center;\n width: 40px;\n font-size: var(--n-font-size);\n padding-left: 4px;\n transition: color .3s var(--n-bezier);\n `)])]), cM('circle, dashboard', {\n  width: '120px'\n}, [cB('progress-custom-content', `\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n display: flex;\n align-items: center;\n justify-content: center;\n `), cB('progress-text', `\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n display: flex;\n align-items: center;\n color: inherit;\n font-size: var(--n-font-size-circle);\n color: var(--n-text-color-circle);\n font-weight: var(--n-font-weight-circle);\n transition: color .3s var(--n-bezier);\n white-space: nowrap;\n `), cB('progress-icon', `\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n display: flex;\n align-items: center;\n color: var(--n-icon-color);\n font-size: var(--n-icon-size-circle);\n `)]), cM('multiple-circle', `\n width: 200px;\n color: inherit;\n `, [cB('progress-text', `\n font-weight: var(--n-font-weight-circle);\n color: var(--n-text-color-circle);\n position: absolute;\n left: 50%;\n top: 50%;\n transform: translateX(-50%) translateY(-50%);\n display: flex;\n align-items: center;\n justify-content: center;\n transition: color .3s var(--n-bezier);\n `)]), cB('progress-content', {\n  position: 'relative'\n}), cB('progress-graph', {\n  position: 'relative'\n}, [cB('progress-graph-circle', [c('svg', {\n  verticalAlign: 'bottom'\n}), cB('progress-graph-circle-fill', `\n stroke: var(--n-fill-color);\n transition:\n opacity .3s var(--n-bezier),\n stroke .3s var(--n-bezier),\n stroke-dasharray .3s var(--n-bezier);\n `, [cM('empty', {\n  opacity: 0\n})]), cB('progress-graph-circle-rail', `\n transition: stroke .3s var(--n-bezier);\n overflow: hidden;\n stroke: var(--n-rail-color);\n `)]), cB('progress-graph-line', [cM('indicator-inside', [cB('progress-graph-line-rail', `\n height: 16px;\n line-height: 16px;\n border-radius: 10px;\n `, [cB('progress-graph-line-fill', `\n height: inherit;\n border-radius: 10px;\n `), cB('progress-graph-line-indicator', `\n background: #0000;\n white-space: nowrap;\n text-align: right;\n margin-left: 14px;\n margin-right: 14px;\n height: inherit;\n font-size: 12px;\n color: var(--n-text-color-line-inner);\n transition: color .3s var(--n-bezier);\n `)])]), cM('indicator-inside-label', `\n height: 16px;\n display: flex;\n align-items: center;\n `, [cB('progress-graph-line-rail', `\n flex: 1;\n transition: background-color .3s var(--n-bezier);\n `), cB('progress-graph-line-indicator', `\n background: var(--n-fill-color);\n font-size: 12px;\n transform: translateZ(0);\n display: flex;\n vertical-align: middle;\n height: 16px;\n line-height: 16px;\n padding: 0 10px;\n border-radius: 10px;\n position: absolute;\n white-space: nowrap;\n color: var(--n-text-color-line-inner);\n transition:\n right .2s var(--n-bezier),\n color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n `)]), cB('progress-graph-line-rail', `\n position: relative;\n overflow: hidden;\n height: var(--n-rail-height);\n border-radius: 5px;\n background-color: var(--n-rail-color);\n transition: background-color .3s var(--n-bezier);\n `, [cB('progress-graph-line-fill', `\n background: var(--n-fill-color);\n position: relative;\n border-radius: 5px;\n height: inherit;\n width: 100%;\n max-width: 0%;\n transition:\n background-color .3s var(--n-bezier),\n max-width .2s var(--n-bezier);\n `, [cM('processing', [c('&::after', `\n content: \"\";\n background-image: var(--n-line-bg-processing);\n animation: progress-processing-animation 2s var(--n-bezier) infinite;\n `)])])])])])]), c('@keyframes progress-processing-animation', `\n 0% {\n position: absolute;\n left: 0;\n top: 0;\n bottom: 0;\n right: 100%;\n opacity: 1;\n }\n 66% {\n position: absolute;\n left: 0;\n top: 0;\n bottom: 0;\n right: 0;\n opacity: 0;\n }\n 100% {\n position: absolute;\n left: 0;\n top: 0;\n bottom: 0;\n right: 0;\n opacity: 0;\n }\n `)]);","import { defineComponent, h, computed } from 'vue';\nimport { formatLength } from '../../_utils';\nimport { NBaseIcon } from '../../_internal';\nimport { WarningIcon, InfoIcon as InfoCircleIcon, ErrorIcon as ErrorCircleIcon, SuccessIcon as SuccessCircleIcon } from '../../_internal/icons';\nconst iconMap = {\n    success: h(SuccessCircleIcon, null),\n    error: h(ErrorCircleIcon, null),\n    warning: h(WarningIcon, null),\n    info: h(InfoCircleIcon, null)\n};\nexport default defineComponent({\n    name: 'ProgressLine',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        percentage: {\n            type: Number,\n            default: 0\n        },\n        railColor: String,\n        railStyle: [String, Object],\n        fillColor: String,\n        status: {\n            type: String,\n            required: true\n        },\n        indicatorPlacement: {\n            type: String,\n            required: true\n        },\n        indicatorTextColor: String,\n        unit: {\n            type: String,\n            default: '%'\n        },\n        processing: {\n            type: Boolean,\n            required: true\n        },\n        showIndicator: {\n            type: Boolean,\n            required: true\n        },\n        height: [String, Number],\n        railBorderRadius: [String, Number],\n        fillBorderRadius: [String, Number]\n    },\n    setup(props, { slots }) {\n        const styleHeightRef = computed(() => {\n            return formatLength(props.height);\n        });\n        const styleRailBorderRadiusRef = computed(() => {\n            if (props.railBorderRadius !== undefined) {\n                return formatLength(props.railBorderRadius);\n            }\n            if (props.height !== undefined) {\n                return formatLength(props.height, { c: 0.5 });\n            }\n            return '';\n        });\n        const styleFillBorderRadiusRef = computed(() => {\n            if (props.fillBorderRadius !== undefined) {\n                return formatLength(props.fillBorderRadius);\n            }\n            if (props.railBorderRadius !== undefined) {\n                return formatLength(props.railBorderRadius);\n            }\n            if (props.height !== undefined) {\n                return formatLength(props.height, { c: 0.5 });\n            }\n            return '';\n        });\n        return () => {\n            const { indicatorPlacement, railColor, railStyle, percentage, unit, indicatorTextColor, status, showIndicator, fillColor, processing, clsPrefix } = props;\n            return (h(\"div\", { class: `${clsPrefix}-progress-content`, role: \"none\" },\n                h(\"div\", { class: `${clsPrefix}-progress-graph`, \"aria-hidden\": true },\n                    h(\"div\", { class: [\n                            `${clsPrefix}-progress-graph-line`,\n                            {\n                                [`${clsPrefix}-progress-graph-line--indicator-${indicatorPlacement}`]: true\n                            }\n                        ] },\n                        h(\"div\", { class: `${clsPrefix}-progress-graph-line-rail`, style: [\n                                {\n                                    backgroundColor: railColor,\n                                    height: styleHeightRef.value,\n                                    borderRadius: styleRailBorderRadiusRef.value\n                                },\n                                railStyle\n                            ] },\n                            h(\"div\", { class: [\n                                    `${clsPrefix}-progress-graph-line-fill`,\n                                    processing &&\n                                        `${clsPrefix}-progress-graph-line-fill--processing`\n                                ], style: {\n                                    maxWidth: `${props.percentage}%`,\n                                    backgroundColor: fillColor,\n                                    height: styleHeightRef.value,\n                                    lineHeight: styleHeightRef.value,\n                                    borderRadius: styleFillBorderRadiusRef.value\n                                } }, indicatorPlacement === 'inside' ? (h(\"div\", { class: `${clsPrefix}-progress-graph-line-indicator` },\n                                percentage,\n                                unit)) : null)))),\n                showIndicator && indicatorPlacement === 'outside' ? (h(\"div\", null, slots.default ? (h(\"div\", { class: `${clsPrefix}-progress-custom-content`, style: {\n                        color: indicatorTextColor\n                    }, role: \"none\" }, slots.default())) : status === 'default' ? (h(\"div\", { role: \"none\", class: `${clsPrefix}-progress-icon ${clsPrefix}-progress-icon--as-text`, style: {\n                        color: indicatorTextColor\n                    } },\n                    percentage,\n                    unit)) : (h(\"div\", { class: `${clsPrefix}-progress-icon`, \"aria-hidden\": true },\n                    h(NBaseIcon, { clsPrefix: clsPrefix }, { default: () => iconMap[status] }))))) : null));\n        };\n    }\n});\n","import { h, defineComponent } from 'vue';\nimport { NBaseIcon } from '../../_internal';\nimport { SuccessIcon, ErrorIcon, WarningIcon, InfoIcon } from '../../_internal/icons';\nconst iconMap = {\n    success: h(SuccessIcon, null),\n    error: h(ErrorIcon, null),\n    warning: h(WarningIcon, null),\n    info: h(InfoIcon, null)\n};\nexport default defineComponent({\n    name: 'ProgressCircle',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        status: {\n            type: String,\n            required: true\n        },\n        strokeWidth: {\n            type: Number,\n            required: true\n        },\n        fillColor: String,\n        railColor: String,\n        railStyle: [String, Object],\n        percentage: {\n            type: Number,\n            default: 0\n        },\n        offsetDegree: {\n            type: Number,\n            default: 0\n        },\n        showIndicator: {\n            type: Boolean,\n            required: true\n        },\n        indicatorTextColor: String,\n        unit: String,\n        viewBoxWidth: {\n            type: Number,\n            required: true\n        },\n        gapDegree: {\n            type: Number,\n            required: true\n        },\n        gapOffsetDegree: {\n            type: Number,\n            default: 0\n        }\n    },\n    setup(props, { slots }) {\n        function getPathStyles(percent, offsetDegree, strokeColor) {\n            const { gapDegree, viewBoxWidth, strokeWidth } = props;\n            const radius = 50;\n            const beginPositionX = 0;\n            const beginPositionY = radius;\n            const endPositionX = 0;\n            const endPositionY = 2 * radius;\n            const centerX = 50 + strokeWidth / 2;\n            const pathString = `M ${centerX},${centerX} m ${beginPositionX},${beginPositionY}\n      a ${radius},${radius} 0 1 1 ${endPositionX},${-endPositionY}\n      a ${radius},${radius} 0 1 1 ${-endPositionX},${endPositionY}`;\n            const len = Math.PI * 2 * radius;\n            const pathStyle = {\n                stroke: strokeColor,\n                strokeDasharray: `${(percent / 100) * (len - gapDegree)}px ${viewBoxWidth * 8}px`,\n                strokeDashoffset: `-${gapDegree / 2}px`,\n                transformOrigin: offsetDegree ? 'center' : undefined,\n                transform: offsetDegree ? `rotate(${offsetDegree}deg)` : undefined\n            };\n            return {\n                pathString,\n                pathStyle\n            };\n        }\n        return () => {\n            const { fillColor, railColor, strokeWidth, offsetDegree, status, percentage, showIndicator, indicatorTextColor, unit, gapOffsetDegree, clsPrefix } = props;\n            const { pathString: railPathString, pathStyle: railPathStyle } = getPathStyles(100, 0, railColor);\n            const { pathString: fillPathString, pathStyle: fillPathStyle } = getPathStyles(percentage, offsetDegree, fillColor);\n            const viewBoxSize = 100 + strokeWidth;\n            return (h(\"div\", { class: `${clsPrefix}-progress-content`, role: \"none\" },\n                h(\"div\", { class: `${clsPrefix}-progress-graph`, \"aria-hidden\": true },\n                    h(\"div\", { class: `${clsPrefix}-progress-graph-circle`, style: {\n                            transform: gapOffsetDegree\n                                ? `rotate(${gapOffsetDegree}deg)`\n                                : undefined\n                        } },\n                        h(\"svg\", { viewBox: `0 0 ${viewBoxSize} ${viewBoxSize}` },\n                            h(\"g\", null,\n                                h(\"path\", { class: `${clsPrefix}-progress-graph-circle-rail`, d: railPathString, \"stroke-width\": strokeWidth, \"stroke-linecap\": \"round\", fill: \"none\", style: railPathStyle })),\n                            h(\"g\", null,\n                                h(\"path\", { class: [\n                                        `${clsPrefix}-progress-graph-circle-fill`,\n                                        percentage === 0 &&\n                                            `${clsPrefix}-progress-graph-circle-fill--empty`\n                                    ], d: fillPathString, \"stroke-width\": strokeWidth, \"stroke-linecap\": \"round\", fill: \"none\", style: fillPathStyle }))))),\n                showIndicator ? (h(\"div\", null, slots.default ? (h(\"div\", { class: `${clsPrefix}-progress-custom-content`, role: \"none\" }, slots.default())) : status !== 'default' ? (h(\"div\", { class: `${clsPrefix}-progress-icon`, \"aria-hidden\": true },\n                    h(NBaseIcon, { clsPrefix: clsPrefix }, {\n                        default: () => iconMap[status]\n                    }))) : (h(\"div\", { class: `${clsPrefix}-progress-text`, style: {\n                        color: indicatorTextColor\n                    }, role: \"none\" },\n                    h(\"span\", { class: `${clsPrefix}-progress-text__percentage` }, percentage),\n                    h(\"span\", { class: `${clsPrefix}-progress-text__unit` }, unit))))) : null));\n        };\n    }\n});\n","import { h, defineComponent, computed } from 'vue';\nfunction circlePath(r, sw, vw = 100) {\n    return `m ${vw / 2} ${vw / 2 - r} a ${r} ${r} 0 1 1 0 ${2 * r} a ${r} ${r} 0 1 1 0 -${2 * r}`;\n}\nexport default defineComponent({\n    name: 'ProgressMultipleCircle',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        viewBoxWidth: {\n            type: Number,\n            required: true\n        },\n        percentage: {\n            type: Array,\n            default: [0]\n        },\n        strokeWidth: {\n            type: Number,\n            required: true\n        },\n        circleGap: {\n            type: Number,\n            required: true\n        },\n        showIndicator: {\n            type: Boolean,\n            required: true\n        },\n        fillColor: {\n            type: Array,\n            default: () => []\n        },\n        railColor: {\n            type: Array,\n            default: () => []\n        },\n        railStyle: {\n            type: Array,\n            default: () => []\n        }\n    },\n    setup(props, { slots }) {\n        const strokeDasharrayRef = computed(() => {\n            const strokeDasharrays = props.percentage.map((v, i) => `${((Math.PI * v) / 100) *\n                (props.viewBoxWidth / 2 -\n                    (props.strokeWidth / 2) * (1 + 2 * i) -\n                    props.circleGap * i) *\n                2}, ${props.viewBoxWidth * 8}`);\n            return strokeDasharrays;\n        });\n        return () => {\n            const { viewBoxWidth, strokeWidth, circleGap, showIndicator, fillColor, railColor, railStyle, percentage, clsPrefix } = props;\n            return (h(\"div\", { class: `${clsPrefix}-progress-content`, role: \"none\" },\n                h(\"div\", { class: `${clsPrefix}-progress-graph`, \"aria-hidden\": true },\n                    h(\"div\", { class: `${clsPrefix}-progress-graph-circle` },\n                        h(\"svg\", { viewBox: `0 0 ${viewBoxWidth} ${viewBoxWidth}` }, percentage.map((p, index) => {\n                            return (h(\"g\", { key: index },\n                                h(\"path\", { class: `${clsPrefix}-progress-graph-circle-rail`, d: circlePath(viewBoxWidth / 2 -\n                                        (strokeWidth / 2) * (1 + 2 * index) -\n                                        circleGap * index, strokeWidth, viewBoxWidth), \"stroke-width\": strokeWidth, \"stroke-linecap\": \"round\", fill: \"none\", style: [\n                                        {\n                                            strokeDashoffset: 0,\n                                            stroke: railColor[index]\n                                        },\n                                        railStyle[index]\n                                    ] }),\n                                h(\"path\", { class: [\n                                        `${clsPrefix}-progress-graph-circle-fill`,\n                                        p === 0 &&\n                                            `${clsPrefix}-progress-graph-circle-fill--empty`\n                                    ], d: circlePath(viewBoxWidth / 2 -\n                                        (strokeWidth / 2) * (1 + 2 * index) -\n                                        circleGap * index, strokeWidth, viewBoxWidth), \"stroke-width\": strokeWidth, \"stroke-linecap\": \"round\", fill: \"none\", style: {\n                                        strokeDasharray: strokeDasharrayRef.value[index],\n                                        strokeDashoffset: 0,\n                                        stroke: fillColor[index]\n                                    } })));\n                        })))),\n                showIndicator && slots.default ? (h(\"div\", null,\n                    h(\"div\", { class: `${clsPrefix}-progress-text` }, slots.default()))) : null));\n        };\n    }\n});\n","import { h, computed, defineComponent } from 'vue';\nimport { useConfig, useTheme, useThemeClass } from '../../_mixins';\nimport { createKey } from '../../_utils';\nimport { progressLight } from '../styles';\nimport style from './styles/index.cssr';\nimport Line from './Line';\nimport Circle from './Circle';\nimport MultipleCircle from './MultipleCircle';\nexport const progressProps = Object.assign(Object.assign({}, useTheme.props), { processing: Boolean, type: {\n        type: String,\n        default: 'line'\n    }, gapDegree: Number, gapOffsetDegree: Number, status: {\n        type: String,\n        default: 'default'\n    }, railColor: [String, Array], railStyle: [String, Array], color: [String, Array], viewBoxWidth: {\n        type: Number,\n        default: 100\n    }, strokeWidth: {\n        type: Number,\n        default: 7\n    }, percentage: [Number, Array], unit: {\n        type: String,\n        default: '%'\n    }, showIndicator: {\n        type: Boolean,\n        default: true\n    }, indicatorPosition: {\n        type: String,\n        default: 'outside'\n    }, indicatorPlacement: {\n        type: String,\n        default: 'outside'\n    }, indicatorTextColor: String, circleGap: {\n        type: Number,\n        default: 1\n    }, height: Number, borderRadius: [String, Number], fillBorderRadius: [String, Number], offsetDegree: Number });\nexport default defineComponent({\n    name: 'Progress',\n    props: progressProps,\n    setup(props) {\n        const mergedIndicatorPlacementRef = computed(() => {\n            return props.indicatorPlacement || props.indicatorPosition;\n        });\n        const gapDeg = computed(() => {\n            if (props.gapDegree || props.gapDegree === 0) {\n                return props.gapDegree;\n            }\n            if (props.type === 'dashboard') {\n                return 75;\n            }\n            return undefined;\n        });\n        const { mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Progress', '-progress', style, progressLight, props, mergedClsPrefixRef);\n        const cssVarsRef = computed(() => {\n            const { status } = props;\n            const { common: { cubicBezierEaseInOut }, self: { fontSize, fontSizeCircle, railColor, railHeight, iconSizeCircle, iconSizeLine, textColorCircle, textColorLineInner, textColorLineOuter, lineBgProcessing, fontWeightCircle, [createKey('iconColor', status)]: iconColor, [createKey('fillColor', status)]: fillColor } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-fill-color': fillColor,\n                '--n-font-size': fontSize,\n                '--n-font-size-circle': fontSizeCircle,\n                '--n-font-weight-circle': fontWeightCircle,\n                '--n-icon-color': iconColor,\n                '--n-icon-size-circle': iconSizeCircle,\n                '--n-icon-size-line': iconSizeLine,\n                '--n-line-bg-processing': lineBgProcessing,\n                '--n-rail-color': railColor,\n                '--n-rail-height': railHeight,\n                '--n-text-color-circle': textColorCircle,\n                '--n-text-color-line-inner': textColorLineInner,\n                '--n-text-color-line-outer': textColorLineOuter\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('progress', computed(() => props.status[0]), cssVarsRef, props)\n            : undefined;\n        return {\n            mergedClsPrefix: mergedClsPrefixRef,\n            mergedIndicatorPlacement: mergedIndicatorPlacementRef,\n            gapDeg,\n            cssVars: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender\n        };\n    },\n    render() {\n        // it's ok to expand all prop here since no slots' deps\n        const { type, cssVars, indicatorTextColor, showIndicator, status, railColor, railStyle, color, percentage, viewBoxWidth, strokeWidth, mergedIndicatorPlacement, unit, borderRadius, fillBorderRadius, height, processing, circleGap, mergedClsPrefix, gapDeg, gapOffsetDegree, themeClass, $slots, onRender } = this;\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { class: [\n                themeClass,\n                `${mergedClsPrefix}-progress`,\n                `${mergedClsPrefix}-progress--${type}`,\n                `${mergedClsPrefix}-progress--${status}`\n            ], style: cssVars, \"aria-valuemax\": 100, \"aria-valuemin\": 0, \"aria-valuenow\": percentage, role: type === 'circle' || type === 'line' || type === 'dashboard'\n                ? 'progressbar'\n                : 'none' }, type === 'circle' || type === 'dashboard' ? (h(Circle, { clsPrefix: mergedClsPrefix, status: status, showIndicator: showIndicator, indicatorTextColor: indicatorTextColor, railColor: railColor, fillColor: color, railStyle: railStyle, offsetDegree: this.offsetDegree, percentage: percentage, viewBoxWidth: viewBoxWidth, strokeWidth: strokeWidth, gapDegree: gapDeg === undefined ? (type === 'dashboard' ? 75 : 0) : gapDeg, gapOffsetDegree: gapOffsetDegree, unit: unit }, $slots)) : type === 'line' ? (h(Line, { clsPrefix: mergedClsPrefix, status: status, showIndicator: showIndicator, indicatorTextColor: indicatorTextColor, railColor: railColor, fillColor: color, railStyle: railStyle, percentage: percentage, processing: processing, indicatorPlacement: mergedIndicatorPlacement, unit: unit, fillBorderRadius: fillBorderRadius, railBorderRadius: borderRadius, height: height }, $slots)) : type === 'multiple-circle' ? (h(MultipleCircle, { clsPrefix: mergedClsPrefix, strokeWidth: strokeWidth, railColor: railColor, fillColor: color, railStyle: railStyle, viewBoxWidth: viewBoxWidth, percentage: percentage, showIndicator: showIndicator, circleGap: circleGap }, $slots)) : null));\n    }\n});\n","import { h, defineComponent, inject } from 'vue';\nimport { NFadeInExpandTransition } from '../../_internal';\nimport { NProgress } from '../../progress';\nimport { uploadInjectionKey } from './interface';\nexport default defineComponent({\n    name: 'UploadProgress',\n    props: {\n        show: Boolean,\n        percentage: {\n            type: Number,\n            required: true\n        },\n        status: {\n            type: String,\n            required: true\n        }\n    },\n    setup() {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const NUpload = inject(uploadInjectionKey);\n        return {\n            mergedTheme: NUpload.mergedThemeRef\n        };\n    },\n    render() {\n        return (h(NFadeInExpandTransition, null, {\n            default: () => this.show ? (h(NProgress, { type: \"line\", showIndicator: false, percentage: this.percentage, status: this.status, height: 2, theme: this.mergedTheme.peers.Progress, themeOverrides: this.mergedTheme.peerOverrides.Progress })) : null\n        }));\n    }\n});\n","import { h } from 'vue';\n/**\n * Since image is too large compared with normal icons, we keep it inside upload\n * now.\n */\nexport const imageIcon = (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 28 28\" },\n    h(\"g\", { fill: \"none\" },\n        h(\"path\", { d: \"M21.75 3A3.25 3.25 0 0 1 25 6.25v15.5A3.25 3.25 0 0 1 21.75 25H6.25A3.25 3.25 0 0 1 3 21.75V6.25A3.25 3.25 0 0 1 6.25 3h15.5zm.583 20.4l-7.807-7.68a.75.75 0 0 0-.968-.07l-.084.07l-7.808 7.68c.183.065.38.1.584.1h15.5c.204 0 .4-.035.583-.1l-7.807-7.68l7.807 7.68zM21.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v15.5c0 .208.036.408.103.593l7.82-7.692a2.25 2.25 0 0 1 3.026-.117l.129.117l7.82 7.692c.066-.185.102-.385.102-.593V6.25a1.75 1.75 0 0 0-1.75-1.75zm-3.25 3a2.5 2.5 0 1 1 0 5a2.5 2.5 0 0 1 0-5zm0 1.5a1 1 0 1 0 0 2a1 1 0 0 0 0-2z\", fill: \"currentColor\" }))));\nexport const documentIcon = (h(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 28 28\" },\n    h(\"g\", { fill: \"none\" },\n        h(\"path\", { d: \"M6.4 2A2.4 2.4 0 0 0 4 4.4v19.2A2.4 2.4 0 0 0 6.4 26h15.2a2.4 2.4 0 0 0 2.4-2.4V11.578c0-.729-.29-1.428-.805-1.944l-6.931-6.931A2.4 2.4 0 0 0 14.567 2H6.4zm-.9 2.4a.9.9 0 0 1 .9-.9H14V10a2 2 0 0 0 2 2h6.5v11.6a.9.9 0 0 1-.9.9H6.4a.9.9 0 0 1-.9-.9V4.4zm16.44 6.1H16a.5.5 0 0 1-.5-.5V4.06l6.44 6.44z\", fill: \"currentColor\" }))));\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { h, defineComponent, computed, inject, ref, watchEffect } from 'vue';\nimport { useMemo } from 'vooks';\nimport { CancelIcon, TrashIcon, AttachIcon, RetryIcon, DownloadIcon, EyeIcon } from '../../_internal/icons';\nimport { NImage } from '../../image';\nimport { NButton } from '../../button';\nimport { NIconSwitchTransition, NBaseIcon } from '../../_internal';\nimport { warn } from '../../_utils';\nimport NUploadProgress from './UploadProgress';\nimport { uploadInjectionKey } from './interface';\nimport { imageIcon, documentIcon } from './icons';\nimport { download, environmentSupportFile, isImageFile } from './utils';\nconst buttonThemeOverrides = {\n    paddingMedium: '0 3px',\n    heightMedium: '24px',\n    iconSizeMedium: '18px'\n};\nexport default defineComponent({\n    name: 'UploadFile',\n    props: {\n        clsPrefix: {\n            type: String,\n            required: true\n        },\n        file: {\n            type: Object,\n            required: true\n        },\n        listType: {\n            type: String,\n            required: true\n        }\n    },\n    setup(props) {\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const NUpload = inject(uploadInjectionKey);\n        const imageRef = ref(null);\n        const thumbnailUrlRef = ref('');\n        const progressStatusRef = computed(() => {\n            const { file } = props;\n            if (file.status === 'finished')\n                return 'success';\n            if (file.status === 'error')\n                return 'error';\n            return 'info';\n        });\n        const buttonTypeRef = computed(() => {\n            const { file } = props;\n            if (file.status === 'error')\n                return 'error';\n            return undefined;\n        });\n        const showProgressRef = computed(() => {\n            const { file } = props;\n            return file.status === 'uploading';\n        });\n        const showCancelButtonRef = computed(() => {\n            if (!NUpload.showCancelButtonRef.value)\n                return false;\n            const { file } = props;\n            return ['uploading', 'pending', 'error'].includes(file.status);\n        });\n        const showRemoveButtonRef = computed(() => {\n            if (!NUpload.showRemoveButtonRef.value)\n                return false;\n            const { file } = props;\n            return ['finished'].includes(file.status);\n        });\n        const showDownloadButtonRef = computed(() => {\n            if (!NUpload.showDownloadButtonRef.value)\n                return false;\n            const { file } = props;\n            return ['finished'].includes(file.status);\n        });\n        const showRetryButtonRef = computed(() => {\n            if (!NUpload.showRetryButtonRef.value)\n                return false;\n            const { file } = props;\n            return ['error'].includes(file.status);\n        });\n        const mergedThumbnailUrlRef = useMemo(() => {\n            return thumbnailUrlRef.value || props.file.thumbnailUrl || props.file.url;\n        });\n        const showPreviewButtonRef = computed(() => {\n            if (!NUpload.showPreviewButtonRef.value)\n                return false;\n            const { file: { status }, listType } = props;\n            return (['finished'].includes(status) &&\n                mergedThumbnailUrlRef.value &&\n                listType === 'image-card');\n        });\n        function handleRetryClick() {\n            NUpload.submit(props.file.id);\n        }\n        function handleRemoveOrCancelClick(e) {\n            e.preventDefault();\n            const { file } = props;\n            if (['finished', 'pending', 'error'].includes(file.status)) {\n                handleRemove(file);\n            }\n            else if (['uploading'].includes(file.status)) {\n                handleAbort(file);\n            }\n            else {\n                warn('upload', 'The button clicked type is unknown.');\n            }\n        }\n        function handleDownloadClick(e) {\n            e.preventDefault();\n            handleDownload(props.file);\n        }\n        function handleRemove(file) {\n            const { xhrMap, doChange, onRemoveRef: { value: onRemove }, mergedFileListRef: { value: mergedFileList } } = NUpload;\n            void Promise.resolve(onRemove\n                ? onRemove({\n                    file: Object.assign({}, file),\n                    fileList: mergedFileList\n                })\n                : true).then((result) => {\n                if (result === false)\n                    return;\n                const fileAfterChange = Object.assign({}, file, {\n                    status: 'removed'\n                });\n                xhrMap.delete(file.id);\n                doChange(fileAfterChange, undefined, {\n                    remove: true\n                });\n            });\n        }\n        function handleDownload(file) {\n            const { onDownloadRef: { value: onDownload } } = NUpload;\n            void Promise.resolve(onDownload ? onDownload(Object.assign({}, file)) : true).then((res) => {\n                if (res !== false) {\n                    download(file.url, file.name);\n                }\n            });\n        }\n        function handleAbort(file) {\n            const { xhrMap } = NUpload;\n            const xhr = xhrMap.get(file.id);\n            xhr === null || xhr === void 0 ? void 0 : xhr.abort();\n            handleRemove(Object.assign({}, file));\n        }\n        function handlePreviewClick() {\n            const { onPreviewRef: { value: onPreview } } = NUpload;\n            if (onPreview) {\n                onPreview(props.file);\n            }\n            else if (props.listType === 'image-card') {\n                const { value } = imageRef;\n                if (!value)\n                    return;\n                value.click();\n            }\n        }\n        const deriveFileThumbnailUrl = () => __awaiter(this, void 0, void 0, function* () {\n            const { listType } = props;\n            if (listType !== 'image' && listType !== 'image-card') {\n                return;\n            }\n            if (!environmentSupportFile || !(props.file.file instanceof File)) {\n                return;\n            }\n            thumbnailUrlRef.value = yield NUpload.getFileThumbnailUrl(props.file);\n        });\n        watchEffect(() => {\n            void deriveFileThumbnailUrl();\n        });\n        return {\n            mergedTheme: NUpload.mergedThemeRef,\n            progressStatus: progressStatusRef,\n            buttonType: buttonTypeRef,\n            showProgress: showProgressRef,\n            disabled: NUpload.mergedDisabledRef,\n            showCancelButton: showCancelButtonRef,\n            showRemoveButton: showRemoveButtonRef,\n            showDownloadButton: showDownloadButtonRef,\n            showRetryButton: showRetryButtonRef,\n            showPreviewButton: showPreviewButtonRef,\n            mergedThumbnailUrl: mergedThumbnailUrlRef,\n            imageRef,\n            handleRemoveOrCancelClick,\n            handleDownloadClick,\n            handleRetryClick,\n            handlePreviewClick\n        };\n    },\n    render() {\n        const { clsPrefix, mergedTheme, listType, file } = this;\n        // if there is text list type, show file icon\n        let icon;\n        const isImageType = listType === 'image';\n        const isImageCardType = listType === 'image-card';\n        if (isImageType || isImageCardType) {\n            icon = !isImageFile(file) ? (h(\"span\", { class: `${clsPrefix}-upload-file-info__thumbnail` },\n                h(NBaseIcon, { clsPrefix: clsPrefix }, { default: () => documentIcon }))) : this.mergedThumbnailUrl && file.status !== 'error' ? (h(\"a\", { rel: \"noopener noreferer\", target: \"_blank\", href: file.url || undefined, class: `${clsPrefix}-upload-file-info__thumbnail`, onClick: this.handlePreviewClick }, listType === 'image-card' ? (h(NImage, { src: this.mergedThumbnailUrl || undefined, previewSrc: file.url || undefined, alt: file.name, ref: \"imageRef\" })) : (h(\"img\", { src: this.mergedThumbnailUrl || undefined, alt: file.name })))) : (h(\"span\", { class: `${clsPrefix}-upload-file-info__thumbnail` },\n                h(NBaseIcon, { clsPrefix: clsPrefix }, { default: () => imageIcon })));\n        }\n        else {\n            icon = (h(\"span\", { class: `${clsPrefix}-upload-file-info__thumbnail` },\n                h(NBaseIcon, { clsPrefix: clsPrefix }, { default: () => h(AttachIcon, null) })));\n        }\n        const progress = (h(NUploadProgress, { show: this.showProgress, percentage: file.percentage || 0, status: this.progressStatus }));\n        const showName = listType === 'text' || listType === 'image';\n        return (h(\"div\", { class: [\n                `${clsPrefix}-upload-file`,\n                `${clsPrefix}-upload-file--${this.progressStatus}-status`,\n                file.url &&\n                    file.status !== 'error' &&\n                    listType !== 'image-card' &&\n                    `${clsPrefix}-upload-file--with-url`,\n                `${clsPrefix}-upload-file--${listType}-type`\n            ] },\n            h(\"div\", { class: `${clsPrefix}-upload-file-info` },\n                icon,\n                h(\"div\", { class: `${clsPrefix}-upload-file-info__name` },\n                    showName &&\n                        (file.url && file.status !== 'error' ? (h(\"a\", { rel: \"noopener noreferer\", target: \"_blank\", href: file.url || undefined, onClick: this.handlePreviewClick }, file.name)) : (h(\"span\", { onClick: this.handlePreviewClick }, file.name))),\n                    isImageType && progress),\n                h(\"div\", { class: [\n                        `${clsPrefix}-upload-file-info__action`,\n                        `${clsPrefix}-upload-file-info__action--${listType}-type`\n                    ] },\n                    this.showPreviewButton ? (h(NButton, { key: \"preview\", quaternary: true, type: this.buttonType, onClick: this.handlePreviewClick, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button, builtinThemeOverrides: buttonThemeOverrides }, {\n                        icon: () => (h(NBaseIcon, { clsPrefix: clsPrefix }, { default: () => h(EyeIcon, null) }))\n                    })) : null,\n                    (this.showRemoveButton || this.showCancelButton) &&\n                        !this.disabled && (h(NButton, { key: \"cancelOrTrash\", theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button, quaternary: true, builtinThemeOverrides: buttonThemeOverrides, type: this.buttonType, onClick: this.handleRemoveOrCancelClick }, {\n                        icon: () => (h(NIconSwitchTransition, null, {\n                            default: () => this.showRemoveButton ? (h(NBaseIcon, { clsPrefix: clsPrefix, key: \"trash\" }, { default: () => h(TrashIcon, null) })) : (h(NBaseIcon, { clsPrefix: clsPrefix, key: \"cancel\" }, { default: () => h(CancelIcon, null) }))\n                        }))\n                    })),\n                    this.showRetryButton && !this.disabled && (h(NButton, { key: \"retry\", quaternary: true, type: this.buttonType, onClick: this.handleRetryClick, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button, builtinThemeOverrides: buttonThemeOverrides }, {\n                        icon: () => (h(NBaseIcon, { clsPrefix: clsPrefix }, { default: () => h(RetryIcon, null) }))\n                    })),\n                    this.showDownloadButton ? (h(NButton, { key: \"download\", quaternary: true, type: this.buttonType, onClick: this.handleDownloadClick, theme: mergedTheme.peers.Button, themeOverrides: mergedTheme.peerOverrides.Button, builtinThemeOverrides: buttonThemeOverrides }, {\n                        icon: () => (h(NBaseIcon, { clsPrefix: clsPrefix }, { default: () => h(DownloadIcon, null) }))\n                    })) : null)),\n            !isImageType && progress));\n    }\n});\n","import { h, defineComponent, inject, computed } from 'vue';\nimport { throwError } from '../../_utils';\nimport { uploadInjectionKey } from './interface';\nimport NUploadFile from './UploadFile';\nimport { NImageGroup } from '../../image';\nimport { NFadeInExpandTransition } from '../../_internal';\nimport NUploadTrigger from './UploadTrigger';\nexport default defineComponent({\n    name: 'UploadFileList',\n    setup(_, { slots }) {\n        const NUpload = inject(uploadInjectionKey, null);\n        if (!NUpload) {\n            throwError('upload-file-list', '`n-upload-file-list` must be placed inside `n-upload`.');\n        }\n        const { abstractRef, mergedClsPrefixRef, listTypeRef, mergedFileListRef, fileListStyleRef, cssVarsRef, themeClassRef, maxReachedRef, showTriggerRef, imageGroupPropsRef } = NUpload;\n        const isImageCardTypeRef = computed(() => listTypeRef.value === 'image-card');\n        const renderFileList = () => mergedFileListRef.value.map((file) => (h(NUploadFile, { clsPrefix: mergedClsPrefixRef.value, key: file.id, file: file, listType: listTypeRef.value })));\n        const renderUploadFileList = () => isImageCardTypeRef.value ? (h(NImageGroup, Object.assign({}, imageGroupPropsRef.value), { default: renderFileList })) : (h(NFadeInExpandTransition, { group: true }, {\n            default: renderFileList\n        }));\n        return () => {\n            const { value: mergedClsPrefix } = mergedClsPrefixRef;\n            const { value: abstract } = abstractRef;\n            return (h(\"div\", { class: [\n                    `${mergedClsPrefix}-upload-file-list`,\n                    isImageCardTypeRef.value &&\n                        `${mergedClsPrefix}-upload-file-list--grid`,\n                    abstract ? themeClassRef === null || themeClassRef === void 0 ? void 0 : themeClassRef.value : undefined\n                ], style: [\n                    abstract && cssVarsRef ? cssVarsRef.value : '',\n                    fileListStyleRef.value\n                ] },\n                renderUploadFileList(),\n                showTriggerRef.value &&\n                    !maxReachedRef.value &&\n                    isImageCardTypeRef.value && (h(NUploadTrigger, null, slots))));\n        };\n    }\n});\n","import { c, cM, cB, cE } from '../../../_utils/cssr';\nimport { fadeInHeightExpandTransition } from '../../../_styles/transitions/fade-in-height-expand.cssr';\nimport { iconSwitchTransition } from '../../../_styles/transitions/icon-switch.cssr';\nexport default c([cB('upload', 'width: 100%;', [cM('dragger-inside', [cB('upload-trigger', `\n display: block;\n `)]), cM('drag-over', [cB('upload-dragger', `\n border: var(--n-dragger-border-hover);\n `)])]), cB('upload-dragger', `\n cursor: pointer;\n box-sizing: border-box;\n width: 100%;\n text-align: center;\n border-radius: var(--n-border-radius);\n padding: 24px;\n opacity: 1;\n transition:\n opacity .3s var(--n-bezier),\n border-color .3s var(--n-bezier),\n background-color .3s var(--n-bezier);\n background-color: var(--n-dragger-color);\n border: var(--n-dragger-border);\n `, [c('&:hover', `\n border: var(--n-dragger-border-hover);\n `), cM('disabled', `\n cursor: not-allowed;\n `)]), cB('upload-trigger', `\n display: inline-block;\n box-sizing: border-box;\n opacity: 1;\n transition: opacity .3s var(--n-bezier);\n `, [c('+', [cB('upload-file-list', 'margin-top: 8px;')]), cM('disabled', `\n opacity: var(--n-item-disabled-opacity);\n cursor: not-allowed;\n `), cM('image-card', `\n width: 96px;\n height: 96px;\n `, [cB('base-icon', `\n font-size: 24px;\n `), cB('upload-dragger', `\n padding: 0;\n height: 100%;\n width: 100%;\n display: flex;\n align-items: center;\n justify-content: center;\n `)])]), cB('upload-file-list', `\n line-height: var(--n-line-height);\n opacity: 1;\n transition: opacity .3s var(--n-bezier);\n `, [c('a, img', 'outline: none;'), cM('disabled', `\n opacity: var(--n-item-disabled-opacity);\n cursor: not-allowed;\n `, [cB('upload-file', 'cursor: not-allowed;')]), cM('grid', `\n display: grid;\n grid-template-columns: repeat(auto-fill, 96px);\n grid-gap: 8px;\n margin-top: 0;\n `), cB('upload-file', `\n display: block;\n box-sizing: border-box;\n cursor: default;\n padding: 0px 12px 0 6px;\n transition: background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n `, [fadeInHeightExpandTransition(), cB('progress', [fadeInHeightExpandTransition({\n  foldPadding: true\n})]), c('&:hover', `\n background-color: var(--n-item-color-hover);\n `, [cB('upload-file-info', [cE('action', `\n opacity: 1;\n `)])]), cM('image-type', `\n border-radius: var(--n-border-radius);\n text-decoration: underline;\n text-decoration-color: #0000;\n `, [cB('upload-file-info', `\n padding-top: 0px;\n padding-bottom: 0px;\n width: 100%;\n height: 100%;\n display: flex;\n justify-content: space-between;\n align-items: center;\n padding: 6px 0;\n `, [cB('progress', `\n padding: 2px 0;\n margin-bottom: 0;\n `), cE('name', `\n padding: 0 8px;\n `), cE('thumbnail', `\n width: 32px;\n height: 32px;\n font-size: 28px;\n display: flex;\n justify-content: center;\n align-items: center;\n `, [c('img', `\n width: 100%;\n `)])])]), cM('text-type', [cB('progress', `\n box-sizing: border-box;\n padding-bottom: 6px;\n margin-bottom: 6px;\n `)]), cM('image-card-type', `\n position: relative;\n width: 96px;\n height: 96px;\n border: var(--n-item-border-image-card);\n border-radius: var(--n-border-radius);\n padding: 0;\n display: flex;\n align-items: center;\n justify-content: center;\n transition: border-color .3s var(--n-bezier), background-color .3s var(--n-bezier);\n border-radius: var(--n-border-radius);\n overflow: hidden;\n `, [cB('progress', `\n position: absolute;\n left: 8px;\n bottom: 8px;\n right: 8px;\n width: unset;\n `), cB('upload-file-info', `\n padding: 0;\n width: 100%;\n height: 100%;\n `, [cE('thumbnail', `\n width: 100%;\n height: 100%;\n display: flex;\n flex-direction: column;\n align-items: center;\n justify-content: center;\n font-size: 36px;\n `, [c('img', `\n width: 100%;\n `)])]), c('&::before', `\n position: absolute;\n z-index: 1;\n left: 0;\n right: 0;\n top: 0;\n bottom: 0;\n border-radius: inherit;\n opacity: 0;\n transition: opacity .2s var(--n-bezier);\n content: \"\";\n `), c('&:hover', [c('&::before', 'opacity: 1;'), cB('upload-file-info', [cE('thumbnail', 'opacity: .12;')])])]), cM('error-status', [c('&:hover', `\n background-color: var(--n-item-color-hover-error);\n `), cB('upload-file-info', [cE('name', 'color: var(--n-item-text-color-error);'), cE('thumbnail', 'color: var(--n-item-text-color-error);')]), cM('image-card-type', `\n border: var(--n-item-border-image-card-error);\n `)]), cM('with-url', `\n cursor: pointer;\n `, [cB('upload-file-info', [cE('name', `\n color: var(--n-item-text-color-success);\n text-decoration-color: var(--n-item-text-color-success);\n `, [c('a', `\n text-decoration: underline;\n `)])])]), cB('upload-file-info', `\n position: relative;\n padding-top: 6px;\n padding-bottom: 6px;\n display: flex;\n flex-wrap: nowrap;\n `, [cE('thumbnail', `\n font-size: 18px;\n opacity: 1;\n transition: opacity .2s var(--n-bezier);\n color: var(--n-item-icon-color);\n `, [cB('base-icon', `\n margin-right: 2px;\n vertical-align: middle;\n transition: color .3s var(--n-bezier);\n `)]), cE('action', `\n padding-top: inherit;\n padding-bottom: inherit;\n position: absolute;\n right: 0;\n top: 0;\n bottom: 0;\n width: 80px;\n display: flex;\n align-items: center;\n transition: opacity .2s var(--n-bezier);\n justify-content: flex-end;\n opacity: 0;\n `, [cB('button', [c('&:not(:last-child)', {\n  marginRight: '4px'\n}), cB('base-icon', [c('svg', [iconSwitchTransition()])])]), cM('image-type', `\n position: relative;\n max-width: 80px;\n width: auto;\n `), cM('image-card-type', `\n z-index: 2;\n position: absolute;\n width: 100%;\n height: 100%;\n left: 0;\n right: 0;\n bottom: 0;\n top: 0;\n display: flex;\n justify-content: center;\n align-items: center;\n `)]), cE('name', `\n color: var(--n-item-text-color);\n flex: 1;\n display: flex;\n justify-content: center;\n text-overflow: ellipsis;\n overflow: hidden;\n flex-direction: column;\n text-decoration-color: #0000;\n font-size: var(--n-font-size);\n transition:\n color .3s var(--n-bezier),\n text-decoration-color .3s var(--n-bezier); \n `, [c('a', `\n color: inherit;\n text-decoration: underline;\n `)])])])]), cB('upload-file-input', `\n display: block;\n width: 0;\n height: 0;\n opacity: 0;\n `)]);","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { h, defineComponent, computed, provide, toRef, ref, Fragment, Teleport, nextTick } from 'vue';\nimport { createId } from 'seemly';\nimport { useMergedState } from 'vooks';\nimport { useConfig, useTheme, useFormItem, useThemeClass } from '../../_mixins';\nimport { warn, call, throwError } from '../../_utils';\nimport { uploadLight } from '../styles';\nimport { uploadDraggerKey } from './UploadDragger';\nimport { uploadInjectionKey } from './interface';\nimport { createImageDataUrl, createSettledFileInfo, matchType } from './utils';\nimport NUploadTrigger from './UploadTrigger';\nimport NUploadFileList from './UploadFileList';\nimport style from './styles/index.cssr';\n/**\n * fils status ['pending', 'uploading', 'finished', 'removed', 'error']\n */\nfunction createXhrHandlers(inst, file, xhr) {\n    const { doChange, xhrMap } = inst;\n    let percentage = 0;\n    function handleXHRError(e) {\n        var _a;\n        let fileAfterChange = Object.assign({}, file, {\n            status: 'error',\n            percentage\n        });\n        xhrMap.delete(file.id);\n        fileAfterChange = createSettledFileInfo(((_a = inst.onError) === null || _a === void 0 ? void 0 : _a.call(inst, { file: fileAfterChange, event: e })) || fileAfterChange);\n        doChange(fileAfterChange, e);\n    }\n    function handleXHRLoad(e) {\n        var _a;\n        if (inst.isErrorState) {\n            if (inst.isErrorState(xhr)) {\n                handleXHRError(e);\n                return;\n            }\n        }\n        else {\n            if (xhr.status < 200 || xhr.status >= 300) {\n                handleXHRError(e);\n                return;\n            }\n        }\n        let fileAfterChange = Object.assign({}, file, {\n            status: 'finished',\n            percentage,\n            file: null\n        });\n        xhrMap.delete(file.id);\n        fileAfterChange = createSettledFileInfo(((_a = inst.onFinish) === null || _a === void 0 ? void 0 : _a.call(inst, { file: fileAfterChange, event: e })) || fileAfterChange);\n        doChange(fileAfterChange, e);\n    }\n    return {\n        handleXHRLoad,\n        handleXHRError,\n        handleXHRAbort(e) {\n            const fileAfterChange = Object.assign({}, file, {\n                status: 'removed',\n                file: null,\n                percentage\n            });\n            xhrMap.delete(file.id);\n            doChange(fileAfterChange, e);\n        },\n        handleXHRProgress(e) {\n            const fileAfterChange = Object.assign({}, file, {\n                status: 'uploading'\n            });\n            if (e.lengthComputable) {\n                const progress = Math.ceil((e.loaded / e.total) * 100);\n                fileAfterChange.percentage = progress;\n                percentage = progress;\n            }\n            doChange(fileAfterChange, e);\n        }\n    };\n}\nfunction customSubmitImpl(options) {\n    const { inst, file, data, headers, withCredentials, action, customRequest } = options;\n    const { doChange } = options.inst;\n    let percentage = 0;\n    customRequest({\n        file,\n        data,\n        headers,\n        withCredentials,\n        action,\n        onProgress(event) {\n            const fileAfterChange = Object.assign({}, file, {\n                status: 'uploading'\n            });\n            const progress = event.percent;\n            fileAfterChange.percentage = progress;\n            percentage = progress;\n            doChange(fileAfterChange);\n        },\n        onFinish() {\n            var _a;\n            let fileAfterChange = Object.assign({}, file, {\n                status: 'finished',\n                percentage,\n                file: null\n            });\n            fileAfterChange = createSettledFileInfo(((_a = inst.onFinish) === null || _a === void 0 ? void 0 : _a.call(inst, { file: fileAfterChange })) || fileAfterChange);\n            doChange(fileAfterChange);\n        },\n        onError() {\n            var _a;\n            let fileAfterChange = Object.assign({}, file, {\n                status: 'error',\n                percentage\n            });\n            fileAfterChange = createSettledFileInfo(((_a = inst.onError) === null || _a === void 0 ? void 0 : _a.call(inst, { file: fileAfterChange })) || fileAfterChange);\n            doChange(fileAfterChange);\n        }\n    });\n}\nfunction registerHandler(inst, file, request) {\n    const handlers = createXhrHandlers(inst, file, request);\n    request.onabort = handlers.handleXHRAbort;\n    request.onerror = handlers.handleXHRError;\n    request.onload = handlers.handleXHRLoad;\n    if (request.upload) {\n        request.upload.onprogress = handlers.handleXHRProgress;\n    }\n}\nfunction unwrapFunctionValue(data, file) {\n    if (typeof data === 'function') {\n        return data({ file });\n    }\n    if (data)\n        return data;\n    return {};\n}\nfunction setHeaders(request, headers, file) {\n    const headersObject = unwrapFunctionValue(headers, file);\n    if (!headersObject)\n        return;\n    Object.keys(headersObject).forEach((key) => {\n        request.setRequestHeader(key, headersObject[key]);\n    });\n}\nfunction appendData(formData, data, file) {\n    const dataObject = unwrapFunctionValue(data, file);\n    if (!dataObject)\n        return;\n    Object.keys(dataObject).forEach((key) => {\n        formData.append(key, dataObject[key]);\n    });\n}\nfunction submitImpl(inst, fieldName, file, { method, action, withCredentials, responseType, headers, data }) {\n    const request = new XMLHttpRequest();\n    request.responseType = responseType;\n    inst.xhrMap.set(file.id, request);\n    request.withCredentials = withCredentials;\n    const formData = new FormData();\n    appendData(formData, data, file);\n    formData.append(fieldName, file.file);\n    registerHandler(inst, file, request);\n    if (action !== undefined) {\n        request.open(method.toUpperCase(), action);\n        setHeaders(request, headers, file);\n        request.send(formData);\n        const fileAfterChange = Object.assign({}, file, {\n            status: 'uploading'\n        });\n        inst.doChange(fileAfterChange);\n    }\n}\nexport const uploadProps = Object.assign(Object.assign({}, useTheme.props), { name: {\n        type: String,\n        default: 'file'\n    }, accept: String, action: String, customRequest: Function, directory: Boolean, directoryDnd: { type: Boolean, default: undefined }, method: {\n        type: String,\n        default: 'POST'\n    }, multiple: Boolean, showFileList: {\n        type: Boolean,\n        default: true\n    }, data: [Object, Function], headers: [Object, Function], withCredentials: Boolean, responseType: {\n        type: String,\n        default: ''\n    }, disabled: {\n        type: Boolean,\n        default: undefined\n    }, onChange: Function, onRemove: Function, onFinish: Function, onError: Function, onBeforeUpload: Function, isErrorState: Function, \n    /** currently not used */\n    onDownload: Function, defaultUpload: {\n        type: Boolean,\n        default: true\n    }, fileList: Array, 'onUpdate:fileList': [Function, Array], onUpdateFileList: [Function, Array], fileListStyle: [String, Object], defaultFileList: {\n        type: Array,\n        default: () => []\n    }, showCancelButton: {\n        type: Boolean,\n        default: true\n    }, showRemoveButton: {\n        type: Boolean,\n        default: true\n    }, showDownloadButton: Boolean, showRetryButton: {\n        type: Boolean,\n        default: true\n    }, showPreviewButton: {\n        type: Boolean,\n        default: true\n    }, listType: {\n        type: String,\n        default: 'text'\n    }, onPreview: Function, createThumbnailUrl: Function, abstract: Boolean, max: Number, showTrigger: {\n        type: Boolean,\n        default: true\n    }, imageGroupProps: Object, inputProps: Object, triggerStyle: [String, Object] });\nexport default defineComponent({\n    name: 'Upload',\n    props: uploadProps,\n    setup(props) {\n        if (props.abstract && props.listType === 'image-card') {\n            throwError('upload', 'when the list-type is image-card, abstract is not supported.');\n        }\n        const { mergedClsPrefixRef, inlineThemeDisabled } = useConfig(props);\n        const themeRef = useTheme('Upload', '-upload', style, uploadLight, props, mergedClsPrefixRef);\n        const formItem = useFormItem(props);\n        const maxReachedRef = computed(() => {\n            const { max } = props;\n            if (max !== undefined) {\n                return mergedFileListRef.value.length >= max;\n            }\n            return false;\n        });\n        const uncontrolledFileListRef = ref(props.defaultFileList);\n        const controlledFileListRef = toRef(props, 'fileList');\n        const inputElRef = ref(null);\n        const draggerInsideRef = {\n            value: false\n        };\n        const dragOverRef = ref(false);\n        const xhrMap = new Map();\n        const _mergedFileListRef = useMergedState(controlledFileListRef, uncontrolledFileListRef);\n        const mergedFileListRef = computed(() => _mergedFileListRef.value.map(createSettledFileInfo));\n        function openOpenFileDialog() {\n            var _a;\n            (_a = inputElRef.value) === null || _a === void 0 ? void 0 : _a.click();\n        }\n        function handleFileInputChange(e) {\n            const target = e.target;\n            handleFileAddition(target.files\n                ? Array.from(target.files).map((file) => ({\n                    file,\n                    entry: null,\n                    source: 'input'\n                }))\n                : null, e);\n            // May have bug! set to null?\n            target.value = '';\n        }\n        function doUpdateFileList(files) {\n            const { 'onUpdate:fileList': _onUpdateFileList, onUpdateFileList } = props;\n            if (_onUpdateFileList)\n                call(_onUpdateFileList, files);\n            if (onUpdateFileList)\n                call(onUpdateFileList, files);\n            uncontrolledFileListRef.value = files;\n        }\n        const mergedMultipleRef = computed(() => props.multiple || props.directory);\n        function handleFileAddition(fileAndEntries, e) {\n            if (!fileAndEntries || fileAndEntries.length === 0)\n                return;\n            const { onBeforeUpload } = props;\n            fileAndEntries = mergedMultipleRef.value\n                ? fileAndEntries\n                : [fileAndEntries[0]];\n            const { max, accept } = props;\n            fileAndEntries = fileAndEntries.filter(({ file, source }) => {\n                if (source === 'dnd' && (accept === null || accept === void 0 ? void 0 : accept.trim())) {\n                    return matchType(file.name, file.type, accept);\n                }\n                else {\n                    return true;\n                }\n            });\n            if (max) {\n                fileAndEntries = fileAndEntries.slice(0, max - mergedFileListRef.value.length);\n            }\n            const batchId = createId();\n            void Promise.all(fileAndEntries.map(({ file, entry }) => __awaiter(this, void 0, void 0, function* () {\n                var _a;\n                const fileInfo = {\n                    id: createId(),\n                    batchId,\n                    name: file.name,\n                    status: 'pending',\n                    percentage: 0,\n                    file,\n                    url: null,\n                    type: file.type,\n                    thumbnailUrl: null,\n                    fullPath: (_a = entry === null || entry === void 0 ? void 0 : entry.fullPath) !== null && _a !== void 0 ? _a : `/${file.webkitRelativePath || file.name}`\n                };\n                if (!onBeforeUpload ||\n                    (yield onBeforeUpload({\n                        file: fileInfo,\n                        fileList: mergedFileListRef.value\n                    })) !== false) {\n                    return fileInfo;\n                }\n                return null;\n            })))\n                .then((fileInfos) => __awaiter(this, void 0, void 0, function* () {\n                let nextTickChain = Promise.resolve();\n                fileInfos.forEach((fileInfo) => {\n                    nextTickChain = nextTickChain.then(nextTick).then(() => {\n                        fileInfo &&\n                            doChange(fileInfo, e, {\n                                append: true\n                            });\n                    });\n                });\n                return yield nextTickChain;\n            }))\n                .then(() => {\n                if (props.defaultUpload) {\n                    submit();\n                }\n            });\n        }\n        function submit(fileId) {\n            const { method, action, withCredentials, headers, data, name: fieldName } = props;\n            const filesToUpload = fileId !== undefined\n                ? mergedFileListRef.value.filter((file) => file.id === fileId)\n                : mergedFileListRef.value;\n            const shouldReupload = fileId !== undefined;\n            filesToUpload.forEach((file) => {\n                const { status } = file;\n                if (status === 'pending' || (status === 'error' && shouldReupload)) {\n                    if (props.customRequest) {\n                        customSubmitImpl({\n                            inst: {\n                                doChange,\n                                xhrMap,\n                                onFinish: props.onFinish,\n                                onError: props.onError\n                            },\n                            file,\n                            action,\n                            withCredentials,\n                            headers,\n                            data,\n                            customRequest: props.customRequest\n                        });\n                    }\n                    else {\n                        submitImpl({\n                            doChange,\n                            xhrMap,\n                            onFinish: props.onFinish,\n                            onError: props.onError,\n                            isErrorState: props.isErrorState\n                        }, fieldName, file, {\n                            method,\n                            action,\n                            withCredentials,\n                            responseType: props.responseType,\n                            headers,\n                            data\n                        });\n                    }\n                }\n            });\n        }\n        const doChange = (fileAfterChange, event, options = {\n            append: false,\n            remove: false\n        }) => {\n            const { append, remove } = options;\n            const fileListAfterChange = Array.from(mergedFileListRef.value);\n            const fileIndex = fileListAfterChange.findIndex((file) => file.id === fileAfterChange.id);\n            if (append || remove || ~fileIndex) {\n                if (append) {\n                    fileListAfterChange.push(fileAfterChange);\n                }\n                else if (remove) {\n                    fileListAfterChange.splice(fileIndex, 1);\n                }\n                else {\n                    fileListAfterChange.splice(fileIndex, 1, fileAfterChange);\n                }\n                const { onChange } = props;\n                if (onChange) {\n                    onChange({\n                        file: fileAfterChange,\n                        fileList: fileListAfterChange,\n                        event\n                    });\n                }\n                doUpdateFileList(fileListAfterChange);\n            }\n            else if (process.env.NODE_ENV !== 'production') {\n                warn('upload', 'File has no corresponding id in current file list.');\n            }\n        };\n        function getFileThumbnailUrl(file) {\n            return __awaiter(this, void 0, void 0, function* () {\n                const { createThumbnailUrl } = props;\n                return createThumbnailUrl\n                    ? yield createThumbnailUrl(file.file)\n                    : yield createImageDataUrl(file.file);\n            });\n        }\n        const cssVarsRef = computed(() => {\n            const { common: { cubicBezierEaseInOut }, self: { draggerColor, draggerBorder, draggerBorderHover, itemColorHover, itemColorHoverError, itemTextColorError, itemTextColorSuccess, itemTextColor, itemIconColor, itemDisabledOpacity, lineHeight, borderRadius, fontSize, itemBorderImageCardError, itemBorderImageCard } } = themeRef.value;\n            return {\n                '--n-bezier': cubicBezierEaseInOut,\n                '--n-border-radius': borderRadius,\n                '--n-dragger-border': draggerBorder,\n                '--n-dragger-border-hover': draggerBorderHover,\n                '--n-dragger-color': draggerColor,\n                '--n-font-size': fontSize,\n                '--n-item-color-hover': itemColorHover,\n                '--n-item-color-hover-error': itemColorHoverError,\n                '--n-item-disabled-opacity': itemDisabledOpacity,\n                '--n-item-icon-color': itemIconColor,\n                '--n-item-text-color': itemTextColor,\n                '--n-item-text-color-error': itemTextColorError,\n                '--n-item-text-color-success': itemTextColorSuccess,\n                '--n-line-height': lineHeight,\n                '--n-item-border-image-card-error': itemBorderImageCardError,\n                '--n-item-border-image-card': itemBorderImageCard\n            };\n        });\n        const themeClassHandle = inlineThemeDisabled\n            ? useThemeClass('upload', undefined, cssVarsRef, props)\n            : undefined;\n        provide(uploadInjectionKey, {\n            mergedClsPrefixRef,\n            mergedThemeRef: themeRef,\n            showCancelButtonRef: toRef(props, 'showCancelButton'),\n            showDownloadButtonRef: toRef(props, 'showDownloadButton'),\n            showRemoveButtonRef: toRef(props, 'showRemoveButton'),\n            showRetryButtonRef: toRef(props, 'showRetryButton'),\n            onRemoveRef: toRef(props, 'onRemove'),\n            onDownloadRef: toRef(props, 'onDownload'),\n            mergedFileListRef,\n            triggerStyleRef: toRef(props, 'triggerStyle'),\n            xhrMap,\n            submit,\n            doChange,\n            showPreviewButtonRef: toRef(props, 'showPreviewButton'),\n            onPreviewRef: toRef(props, 'onPreview'),\n            getFileThumbnailUrl,\n            listTypeRef: toRef(props, 'listType'),\n            dragOverRef,\n            openOpenFileDialog,\n            draggerInsideRef,\n            handleFileAddition,\n            mergedDisabledRef: formItem.mergedDisabledRef,\n            maxReachedRef,\n            fileListStyleRef: toRef(props, 'fileListStyle'),\n            abstractRef: toRef(props, 'abstract'),\n            acceptRef: toRef(props, 'accept'),\n            cssVarsRef: inlineThemeDisabled ? undefined : cssVarsRef,\n            themeClassRef: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass,\n            onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender,\n            showTriggerRef: toRef(props, 'showTrigger'),\n            imageGroupPropsRef: toRef(props, 'imageGroupProps'),\n            mergedDirectoryDndRef: computed(() => {\n                var _a;\n                return (_a = props.directoryDnd) !== null && _a !== void 0 ? _a : props.directory;\n            })\n        });\n        const exposedMethods = {\n            clear: () => {\n                uncontrolledFileListRef.value = [];\n            },\n            submit,\n            openOpenFileDialog\n        };\n        return Object.assign({ mergedClsPrefix: mergedClsPrefixRef, draggerInsideRef,\n            inputElRef, mergedTheme: themeRef, dragOver: dragOverRef, mergedMultiple: mergedMultipleRef, cssVars: inlineThemeDisabled ? undefined : cssVarsRef, themeClass: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.themeClass, onRender: themeClassHandle === null || themeClassHandle === void 0 ? void 0 : themeClassHandle.onRender, handleFileInputChange }, exposedMethods);\n    },\n    render() {\n        var _a, _b;\n        const { draggerInsideRef, mergedClsPrefix, $slots, directory, onRender } = this;\n        if ($slots.default && !this.abstract) {\n            const firstChild = $slots.default()[0];\n            if ((_a = firstChild === null || firstChild === void 0 ? void 0 : firstChild.type) === null || _a === void 0 ? void 0 : _a[uploadDraggerKey]) {\n                draggerInsideRef.value = true;\n            }\n        }\n        const inputNode = (h(\"input\", Object.assign({}, this.inputProps, { ref: \"inputElRef\", type: \"file\", class: `${mergedClsPrefix}-upload-file-input`, accept: this.accept, multiple: this.mergedMultiple, onChange: this.handleFileInputChange, \n            // eslint-disable-next-line @typescript-eslint/prefer-ts-expect-error\n            // @ts-ignore // seems vue-tsc will add the prop, so we can't use expect-error\n            webkitdirectory: directory, directory: directory })));\n        if (this.abstract) {\n            return (h(Fragment, null, (_b = $slots.default) === null || _b === void 0 ? void 0 :\n                _b.call($slots),\n                h(Teleport, { to: \"body\" }, inputNode)));\n        }\n        onRender === null || onRender === void 0 ? void 0 : onRender();\n        return (h(\"div\", { class: [\n                `${mergedClsPrefix}-upload`,\n                draggerInsideRef.value && `${mergedClsPrefix}-upload--dragger-inside`,\n                this.dragOver && `${mergedClsPrefix}-upload--drag-over`,\n                this.themeClass\n            ], style: this.cssVars },\n            inputNode,\n            this.showTrigger && this.listType !== 'image-card' && (h(NUploadTrigger, null, $slots)),\n            this.showFileList && h(NUploadFileList, null, $slots)));\n    }\n});\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 16 16'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'g',\n  {\n    fill: 'none'\n  },\n  [\n    /*#__PURE__*/ _createElementVNode('path', {\n      d: 'M13.416 2.584c.778.778.778 2.039 0 2.817L6.058 12.76c-.319.32-.719.546-1.156.655l-2.283.57a.498.498 0 0 1-.604-.603l.57-2.283a2.49 2.49 0 0 1 .656-1.156l7.358-7.358a1.992 1.992 0 0 1 2.817 0zM9.894 4.697l-5.949 5.949a1.495 1.495 0 0 0-.393.694l-.369 1.477l1.477-.37c.263-.065.503-.2.694-.392l5.949-5.95l-1.409-1.408zm1.41-1.41l-.705.705l1.408 1.409l.705-.704a.996.996 0 0 0-1.409-1.41z',\n      fill: 'currentColor'\n    })\n  ],\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = [_hoisted_2]\nexport default defineComponent({\n  name: 'Edit16Regular',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_3)\n  }\n})\n","import { createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, defineComponent } from 'vue'\nconst _hoisted_1 = {\n  xmlns: 'http://www.w3.org/2000/svg',\n  'xmlns:xlink': 'http://www.w3.org/1999/xlink',\n  viewBox: '0 0 16 16'\n}\nconst _hoisted_2 = /*#__PURE__*/ _createElementVNode(\n  'g',\n  {\n    fill: 'none'\n  },\n  [\n    /*#__PURE__*/ _createElementVNode('path', {\n      d: 'M6.5 7v4a.5.5 0 0 0 1 0V7a.5.5 0 0 0-1 0zM9 6.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-1 0V7a.5.5 0 0 1 .5-.5zM10 4h3a.5.5 0 0 1 0 1h-.553l-.752 6.776A2.5 2.5 0 0 1 9.21 14H6.79a2.5 2.5 0 0 1-2.485-2.224L3.552 5H3a.5.5 0 0 1 0-1h3a2 2 0 1 1 4 0zM8 3a1 1 0 0 0-1 1h2a1 1 0 0 0-1-1zM4.559 5l.74 6.666A1.5 1.5 0 0 0 6.79 13h2.42a1.5 1.5 0 0 0 1.49-1.334L11.442 5H4.56z',\n      fill: 'currentColor'\n    })\n  ],\n  -1\n  /* HOISTED */\n)\nconst _hoisted_3 = [_hoisted_2]\nexport default defineComponent({\n  name: 'Delete16Regular',\n  render: function render(_ctx, _cache) {\n    return _openBlock(), _createElementBlock('svg', _hoisted_1, _hoisted_3)\n  }\n})\n","import { ref, reactive, inject, watch } from 'vue'\r\n\r\nimport { useMessage, useDialog } from 'naive-ui'\r\n\r\nimport axios from 'axios'\r\n\r\nimport QueryString from 'qs'\r\n\r\nexport default (loadList) => {\r\n\r\n  // 接收全局变量\r\n  const global = inject('global');\r\n\r\n  const message = useMessage();\r\n  const dialog = useDialog();\r\n\r\n  const leftSpin = ref(false)\r\n\r\n  // 当前选中节点\r\n  const buildingNode = ref(null);\r\n  const unitNode = ref(null);\r\n\r\n  // 楼栋 模态框\r\n  const buildingStatus = ref(false); // false 添加 true 修改\r\n  const buildingFormRef = ref(null);\r\n  const showBuildingModal = ref(false) // 模态框是否打开\r\n\r\n  // 提交按钮加载\r\n  const submitLoading = ref(false);\r\n\r\n  // 表单校验\r\n  const buildingRules = {\r\n    id: {\r\n      required: true,\r\n      message: \"请输入楼栋编号\",\r\n      trigger: \"blur\"\r\n    },\r\n    name: {\r\n      required: true,\r\n      message: \"请输入楼栋名称\",\r\n      trigger: \"blur\"\r\n    },\r\n    area: {\r\n      required: true,\r\n      message: \"请输入建筑面积\",\r\n      trigger: \"blur\"\r\n    },\r\n  }\r\n\r\n  // 表单输入数据\r\n  const buildingValue = ref({\r\n    id: \"\",\r\n    name: \"\",\r\n    area: \"\",\r\n    remark: \"\",\r\n  })\r\n\r\n  // 表单提交事件\r\n  const buildingSubmit = (e) => {\r\n    e.preventDefault();\r\n    buildingFormRef.value?.validate((errors) => {\r\n      if (!errors) {\r\n        // 校验通过\r\n        if (!buildingStatus.value) { // 添加\r\n          addBuilding(); // 调用添加方法\r\n        } else { // 修改\r\n          updateBuilding();\r\n        }\r\n      } else {\r\n        // 校验不通过\r\n      }\r\n    });\r\n  }\r\n\r\n  // 楼栋信息\r\n  const buildingData = reactive([])\r\n\r\n  /* \r\n  \r\n  [{\r\n      \"label\": \"1栋\",\r\n      \"type\": 0,\r\n      \"key\": \"403626\",\r\n      \"children\": [\r\n        {\r\n          \"label\": \"1单元\",\r\n          \"type\": 1,\r\n          \"key\": \"40362610\"\r\n        },\r\n        {\r\n          \"label\": \"2单元\",\r\n          \"type\": 1,\r\n          \"key\": \"40362611\"\r\n        },\r\n        {\r\n          \"label\": \"6单元\",\r\n          \"type\": 1,\r\n          \"key\": \"40362612\"\r\n        },\r\n        {\r\n          \"label\": \"12单元\",\r\n          \"type\": 1,\r\n          \"key\": \"40362613\"\r\n        }\r\n      ]\r\n    }, {\r\n      \"label\": \"2栋\",\r\n      \"type\": 0,\r\n      \"key\": \"403627\",\r\n      \"children\": [\r\n        {\r\n          \"label\": \"1单元\",\r\n          \"type\": 1,\r\n          \"key\": \"40362614\"\r\n        },\r\n        {\r\n          \"label\": \"2单元\",\r\n          \"type\": 1,\r\n          \"key\": \"40362615\"\r\n        },\r\n        {\r\n          \"label\": \"6单元\",\r\n          \"type\": 1,\r\n          \"key\": \"40362616\"\r\n        },\r\n        {\r\n          \"label\": \"12单元\",\r\n          \"type\": 1,\r\n          \"key\": \"40362617\"\r\n        }\r\n      ]\r\n    }, , {\r\n      \"label\": \"3栋\",\r\n      \"type\": 0,\r\n      \"key\": \"403628\",\r\n      \"children\": [\r\n        {\r\n          \"label\": \"1单元\",\r\n          \"type\": 1,\r\n          \"key\": \"40362618\"\r\n        },\r\n        {\r\n          \"label\": \"2单元\",\r\n          \"type\": 1,\r\n          \"key\": \"40362619\"\r\n        },\r\n        {\r\n          \"label\": \"6单元\",\r\n          \"type\": 1,\r\n          \"key\": \"40362620\"\r\n        },\r\n        {\r\n          \"label\": \"12单元\",\r\n          \"type\": 1,\r\n          \"key\": \"40362621\"\r\n        }\r\n      ]\r\n    }]\r\n  */\r\n\r\n  // 加载楼栋信息\r\n  leftSpin.value = true\r\n  // 加载楼栋信息\r\n  function loadBuilding() {\r\n    buildingData.length = 0\r\n\r\n    axios({\r\n      method: 'get',\r\n      url: global.api + '/getAllBuildings',\r\n    }).then(res => {\r\n      for (let building of res.data) {\r\n        const tempData = reactive({\r\n          \"id\": building.buildingNo,\r\n          \"label\": building.name,\r\n          \"type\": 0,\r\n          \"key\": \"L\" + building.id,\r\n          \"area\": building.area,\r\n          \"remark\": building.remark,\r\n          \"children\": []\r\n        })\r\n\r\n        axios({\r\n          method: 'get',\r\n          url: global.api + '/getAllByBuildingNoUnits/' + building.buildingNo,\r\n        }).then(res => {\r\n          for (let unit of res.data) {\r\n            tempData.children.push({\r\n              \"id\": unit.unitNo,\r\n              \"label\": unit.unitNo + \"单元\",\r\n              \"type\": 1,\r\n              \"totalNumberOfLayers\": unit.totalFloors,\r\n              \"elevator\": unit.elevator === 1,\r\n              \"key\": \"D\" + unit.id,\r\n              \"building\": {\r\n                \"id\": building.buildingNo,\r\n                \"label\": building.name,\r\n                \"type\": 0,\r\n                \"key\": \"L\" + building.id,\r\n                \"area\": building.area,\r\n                \"remark\": building.remark,\r\n              }\r\n            })\r\n          }\r\n          leftSpin.value = false\r\n        }).catch(err => {\r\n          message.error('加载出现异常！' + err)\r\n          leftSpin.value = false\r\n        })\r\n        buildingData.push(tempData);\r\n      }\r\n    }).catch(err => {\r\n      leftSpin.value = false\r\n      message.error('数据加载异常！' + err, { duration: 5000 })\r\n    })\r\n  }\r\n  loadBuilding()\r\n\r\n  watch(showBuildingModal, (newValue, oldValue) => {\r\n    if (newValue) {\r\n      buildingValue.value = {\r\n        id: \"\",\r\n        name: \"\",\r\n        area: \"\",\r\n        remark: \"\",\r\n      }\r\n    }\r\n    if (newValue && buildingStatus.value) {\r\n      if (buildingNode.value != null) {\r\n        const buildingInfo = buildingNode.value;\r\n        buildingValue.value = {\r\n          id: buildingInfo.id,\r\n          name: buildingInfo.label,\r\n          area: buildingInfo.area.toString(),\r\n          remark: buildingInfo.remark,\r\n          key: buildingInfo.key.substring(1)\r\n        }\r\n      } else {\r\n        message.warning(\"请先选择楼栋！\")\r\n        showBuildingModal.value = false\r\n      }\r\n    }\r\n  })\r\n\r\n  // 楼栋节点点击事件\r\n  function nodeProps({ option }) {\r\n    return {\r\n      onClick() {\r\n        if (option.type === 0) { // 楼栋被点击\r\n          buildingNode.value = option\r\n        } else if (option.type === 1) { // 单元被点击\r\n          buildingNode.value = option.building\r\n          unitNode.value = option\r\n          loadList(option, 1);\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  // 删除楼栋\r\n  const deleteBuilding = () => {\r\n    if (buildingNode.value != null) {\r\n      dialog.warning({\r\n        title: \"请确认您的操作!\",\r\n        content: \"确认是否删除\" + buildingNode.value.label + \"!\",\r\n        positiveText: \"确认删除\",\r\n        negativeText: \"取消\",\r\n        onPositiveClick: () => {\r\n          let delLoading = message.loading(\"正在删除\")\r\n          axios({\r\n            method: 'delete',\r\n            url: global.api + '/deleteBuilding/' + buildingNode.value.key.substring(1)\r\n          }).then(res => {\r\n            if (res.data.success) {\r\n              loadBuilding();\r\n              message.success(\"删除成功！\")\r\n            } else {\r\n              message.warning(\"删除失败！\")\r\n            }\r\n          }).catch(err => {\r\n            message.error(\"删除出现异常！\" + err)\r\n          }).finally(() => {\r\n            delLoading.destroy();\r\n            delLoading = null;\r\n          })\r\n        }\r\n      });\r\n    } else {\r\n      message.warning(\"请先选择楼栋！\")\r\n    }\r\n  }\r\n\r\n  // 添加楼栋信息\r\n  const addBuilding = () => {\r\n    submitLoading.value = true\r\n    axios({\r\n      method: 'post',\r\n      url: global.api + '/addBuilding',\r\n      data: QueryString.stringify({\r\n        buildingNo: buildingValue.value.id,\r\n        name: buildingValue.value.name,\r\n        area: buildingValue.value.area,\r\n        remark: buildingValue.value.remark\r\n      })\r\n    }).then(res => {\r\n      if (res.data.success) {\r\n        message.success(\"添加成功！\");\r\n        loadBuilding()\r\n        showBuildingModal.value = false\r\n      } else {\r\n        message.warning(\"添加失败！\");\r\n      }\r\n    }).catch(err => {\r\n      message.error(\"添加出现异常！\" + err)\r\n    }).finally(() => {\r\n      submitLoading.value = false\r\n    })\r\n  }\r\n\r\n  // 修改楼栋信息系\r\n  const updateBuilding = () => {\r\n    submitLoading.value = true\r\n    axios({\r\n      method: 'put',\r\n      url: global.api + '/updateBuilding',\r\n      headers: {\r\n        'Content-Type': 'application/json;charset=UTF-8'\r\n      },\r\n      data: {\r\n        \"area\": buildingValue.value.area,\r\n        \"buildingNo\": buildingValue.value.id,\r\n        \"id\": buildingValue.value.key,\r\n        \"name\": buildingValue.value.name,\r\n        \"remark\": buildingValue.value.remark\r\n      }\r\n    }).then(res => {\r\n      if (res.data.data.updateStatus) {\r\n        message.success(\"修改成功！\");\r\n        loadBuilding();\r\n        buildingNode.value = null\r\n        showBuildingModal.value = false\r\n      } else {\r\n        message.warning(\"修改失败！\")\r\n      }\r\n    }).catch(err => {\r\n      message.error(\"修改出现异常！\" + err)\r\n    }).finally(() => {\r\n      submitLoading.value = false\r\n    })\r\n  }\r\n\r\n  return {\r\n    buildingStatus, // 楼栋模态框状态\r\n    buildingFormRef, // 楼栋模态框 Form 引用\r\n    showBuildingModal, // 楼栋模态框是否显示\r\n    buildingRules, // 楼栋模态框 Form 校验信息\r\n    buildingValue, // 楼栋模态框 Form 参数\r\n    buildingData, // 楼栋信息\r\n    leftSpin, // 楼栋信息 Spin\r\n    buildingNode, // 单前选中的楼栋节点\r\n    unitNode, // 单前选中的单元节点\r\n    submitLoading, // 提交按钮加载\r\n    loadBuilding, //加载楼栋信息\r\n    buildingSubmit, // 楼栋 Form 提交事件\r\n    nodeProps, // 楼栋信息节点选中事件\r\n    deleteBuilding, // 删除楼栋事件\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n","import { ref, inject, watch } from 'vue'\r\n\r\nimport { useMessage, useDialog } from 'naive-ui'\r\n\r\nimport QueryString from 'qs'\r\n\r\nimport axios from 'axios'\r\n\r\nexport default (buildingNode, loadBuilding, unitNode) => {\r\n\r\n    // 接收全局变量\r\n    const global = inject(\"global\")\r\n\r\n    const message = useMessage();\r\n    const dialog = useDialog();\r\n\r\n    // 单元 模态框\r\n    const apartmentStatus = ref(false); // false 添加 true 修改\r\n    const apartmentFormRef = ref(null);\r\n    const showApartmentModal = ref(false) // 模态框是否打开\r\n\r\n    // 提交按钮加载\r\n    const apartmentSubmitLoading = ref(false);\r\n\r\n    // 表单校验\r\n    const apartmentRules = {\r\n        id: {\r\n            required: true,\r\n            message: \"请输入单元编号\",\r\n            trigger: \"blur\"\r\n        },\r\n        totalNumberOfLayers: {\r\n            type: \"number\",\r\n            required: true,\r\n            message: \"请输入总层数\",\r\n            trigger: \"blur\"\r\n        }\r\n    }\r\n\r\n    // 表单输入数据\r\n    const apartmentValue = ref({\r\n        id: \"\",\r\n        totalNumberOfLayers: null,\r\n        elevator: false,\r\n        remark: \"\"\r\n    })\r\n\r\n    // 表单提交事件\r\n    const apartmentSubmit = (e) => {\r\n        e.preventDefault();\r\n        apartmentFormRef.value?.validate((errors) => {\r\n            if (!errors) {\r\n                // 校验通过\r\n                if (!apartmentStatus.value) { // 添加\r\n                    addApartment()\r\n                } else { // 修改\r\n                    updateApartment();\r\n                }\r\n            } else {\r\n                // 校验不通过\r\n            }\r\n        });\r\n    }\r\n\r\n    watch(showApartmentModal, (newValue, oldValue) => {\r\n        if (newValue) {\r\n            apartmentValue.value = {\r\n                id: \"\",\r\n                totalNumberOfLayers: null,\r\n                elevator: false,\r\n                remark: \"\"\r\n            }\r\n            if (buildingNode.value != null && apartmentStatus.value) { // 修改\r\n                if (unitNode.value != null) {\r\n                    const unit = unitNode.value;\r\n                    apartmentValue.value = {\r\n                        id: unit.id,\r\n                        totalNumberOfLayers: unit.totalNumberOfLayers,\r\n                        elevator: unit.elevator,\r\n                        remark: unit.remark,\r\n                        key: unitNode.value.key.substring(1),\r\n                    }\r\n                } else {\r\n                    message.warning(\"请先选择单元！\")\r\n                    showApartmentModal.value = false\r\n                }\r\n            } else if (buildingNode.value != null) { // 添加\r\n\r\n            } else {\r\n                message.warning(\"请先选择楼栋！\")\r\n                showApartmentModal.value = false\r\n            }\r\n        }\r\n    })\r\n\r\n    // 删除单元\r\n    const deleteApartment = () => {\r\n        const unit = unitNode.value\r\n        if (unit != null) {\r\n            dialog.warning({\r\n                title: \"请确认您的操作!\",\r\n                content: \"确认是否删除\" + unit.label + \"!\",\r\n                positiveText: \"确认删除\",\r\n                negativeText: \"取消\",\r\n                onPositiveClick: () => {\r\n                    let delLoading = message.loading(\"正在删除\")\r\n                    axios({\r\n                        method: 'delete',\r\n                        url: global.api + '/deleteUnit/' + unit.key.substring(1)\r\n                      }).then(res => {\r\n                        if (res.data.success) {\r\n                          loadBuilding();\r\n                          message.success(\"删除成功！\")\r\n                        } else {\r\n                          message.warning(\"删除失败！\")\r\n                        }\r\n                      }).catch(err => {\r\n                        message.error(\"删除出现异常！\" + err)\r\n                      }).finally(() => {\r\n                        delLoading.destroy();\r\n                        delLoading = null;\r\n                      })\r\n                }\r\n            });\r\n        } else {\r\n            message.warning(\"请先选择单元！\")\r\n        }\r\n    }\r\n\r\n    // 添加单元\r\n    const addApartment = () => {\r\n        apartmentSubmitLoading.value = true\r\n        console.log(unitNode);\r\n        axios({\r\n            method: 'post',\r\n            url: global.api + '/addUnit',\r\n            data: QueryString.stringify({\r\n                buildingNo: buildingNode.value.id,\r\n                unitNo: apartmentValue.value.id,\r\n                totalFloors: apartmentValue.value.totalNumberOfLayers,\r\n                elevator: apartmentValue.value.elevator ? 1 : 0,\r\n                remark: apartmentValue.value.remark,\r\n            })\r\n        }).then(res => {\r\n            if (res.data.success) {\r\n                message.success(\"添加成功！\")\r\n                loadBuilding();\r\n                showApartmentModal.value = false\r\n            } else {\r\n                message.warning(\"添加失败！\")\r\n            }\r\n        }).catch(err => {\r\n            message.error(\"添加出现异常！\" + err)\r\n        }).finally(() => {\r\n            apartmentSubmitLoading.value = false\r\n        })\r\n    }\r\n\r\n    // 修改单元\r\n    const updateApartment = () => {\r\n        apartmentSubmitLoading.value = true\r\n        axios({\r\n            method: 'put',\r\n            url: global.api + '/updateUnit',\r\n            headers: {\r\n                'Content-Type': 'application/json;charset=UTF-8'\r\n            },\r\n            data: {\r\n                id: apartmentValue.value.key,\r\n                buildingNo: unitNode.value.building.id,\r\n                unitNo: apartmentValue.value.id,\r\n                totalFloors: apartmentValue.value.totalNumberOfLayers,\r\n                elevator: apartmentValue.value.elevator ? 1 : 0,\r\n                remark: apartmentValue.value.remark\r\n            }\r\n        }).then(res => {\r\n            if (res.data.data.updateStatus) {\r\n                message.success(\"修改成功！\");\r\n                loadBuilding();\r\n                unitNode.value = null\r\n                showApartmentModal.value = false\r\n            } else {\r\n                message.warning(\"修改失败！\")\r\n            }\r\n        }).catch(err => {\r\n            message.error(\"修改出现异常！\" + err)\r\n        }).finally(() => {\r\n            apartmentSubmitLoading.value = false\r\n        })\r\n    }\r\n\r\n    return {\r\n        apartmentStatus, // 单元模态框状态\r\n        apartmentFormRef, // 单元模态框 Form 引用\r\n        showApartmentModal, // 显示单元模态框\r\n        apartmentRules, // 单元模态框 Form 校验数据\r\n        apartmentValue, // 单元模态框 Form 参数\r\n        apartmentSubmitLoading, // 单元提交加载\r\n        apartmentSubmit, // 单元模态框 Form 提交事件\r\n        deleteApartment, // 删除单元点击事件\r\n    }\r\n}","import { ref, inject, computed } from 'vue'\r\n\r\nimport { useMessage, useDialog } from 'naive-ui'\r\n\r\nimport axios from 'axios'\r\n\r\nimport QueryString from 'qs'\r\n\r\nexport default (unitNode, refreshList) => {\r\n\r\n    // 当前修改的房屋\r\n    let tempHousing = null;\r\n\r\n    // 接收全局变量\r\n    const global = inject('global');\r\n\r\n    const message = useMessage();\r\n    const dialog = useDialog();\r\n\r\n    // 房屋 模态框\r\n    const housingModelStatus = ref(false); // false 添加 true 修改\r\n    const housingFormRef = ref(null);\r\n    const showHousingModal = ref(false) // 模态框是否打开\r\n\r\n    // 提交按钮加载\r\n    const housingSubmitLoading = ref(false);\r\n\r\n    // 表单校验\r\n    const housingRules = {\r\n        housesNo: {\r\n            required: true,\r\n            message: \"请输入房屋编号\",\r\n            trigger: \"blur\"\r\n        },\r\n        floor: {\r\n            required: true,\r\n            type: \"number\",\r\n            message: \"请输入房屋楼层\",\r\n            trigger: \"blur\"\r\n        },\r\n        propertyType: {\r\n            required: true,\r\n            validator(rule, value) {\r\n                if (value.length !== 4) {\r\n                    return new Error(\"请选择户型\");\r\n                }\r\n                return true;\r\n            },\r\n            trigger: \"blur\"\r\n        },\r\n        housesType: {\r\n            required: true,\r\n            type: 'number',\r\n            message: \"请选择房屋类型\",\r\n            trigger: \"blur\"\r\n        },\r\n        area: {\r\n            required: true,\r\n            type: \"number\",\r\n            message: \"请输入室内面积\",\r\n            trigger: \"blur\"\r\n        },\r\n    }\r\n\r\n    // 表单输入数据\r\n    const housingValue = ref({\r\n        housesNo: \"\", // 房屋编号\r\n        floor: null, // 房屋楼层\r\n        room: null, // 室\r\n        hall: null, // 厅\r\n        propertyType: computed({\r\n            set(value) {\r\n                housingValue.value.room = value.substring(0, 2)\r\n                housingValue.value.hall = value.substring(2)\r\n            },\r\n            get() {\r\n                return housingValue.value.room + housingValue.value.hall\r\n            }\r\n        }), // 户型\r\n        housesType: null, // 房屋类型\r\n        area: null, // 室内面积\r\n        exquisite: false, // 精装修\r\n        remark: \"\", // 备注\r\n    })\r\n\r\n    const houseType = [\r\n        [{\r\n            value: \"一室\",\r\n            label: \"一室\",\r\n        }, {\r\n            value: \"两室\",\r\n            label: \"两室\",\r\n        }, {\r\n            value: \"三室\",\r\n            label: \"三室\",\r\n        }, {\r\n            value: \"四室\",\r\n            label: \"四室\",\r\n        }, {\r\n            value: \"五室\",\r\n            label: \"五室\",\r\n        }, {\r\n            value: \"六室\",\r\n            label: \"六室\",\r\n        }, {\r\n            value: \"七室\",\r\n            label: \"七室\",\r\n        }, {\r\n            value: \"八室\",\r\n            label: \"八室\",\r\n        }], [{\r\n            value: \"一厅\",\r\n            label: \"一厅\",\r\n        }, {\r\n            value: \"两厅\",\r\n            label: \"两厅\",\r\n        }, {\r\n            value: \"三厅\",\r\n            label: \"三厅\",\r\n        }, {\r\n            value: \"四厅\",\r\n            label: \"四厅\",\r\n        }, {\r\n            value: \"五厅\",\r\n            label: \"五厅\",\r\n        }, {\r\n            value: \"六厅\",\r\n            label: \"六厅\",\r\n        }, {\r\n            value: \"七厅\",\r\n            label: \"七厅\",\r\n        }, {\r\n            value: \"八厅\",\r\n            label: \"八厅\",\r\n        }]\r\n    ]\r\n\r\n    // 单元加载\r\n    const unitOptionLoading = ref(false)\r\n    // 单元选项\r\n    const unitOption = ref([])\r\n\r\n    // 表单提交事件\r\n    const housingSubmit = (e) => {\r\n        e.preventDefault();\r\n        housingFormRef.value?.validate((errors) => {\r\n            if (!errors) {\r\n                // 校验通过\r\n                if (!housingModelStatus.value) { // 添加\r\n                    addHousing()\r\n                } else { // 修改\r\n                    updateHousing()\r\n                }\r\n            } else {\r\n                // 校验不通过\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 添加房屋\r\n     */\r\n    const addHousing = () => {\r\n        housingSubmitLoading.value = true\r\n        axios({\r\n            method: 'post',\r\n            url: global.api + \"/addHouses\",\r\n            data: QueryString.stringify({\r\n                buildingNo: unitNode.value.building.id,\r\n                unitNo: unitNode.value.id,\r\n                housesNo: housingValue.value.housesNo,\r\n                floor: housingValue.value.floor,\r\n                propertyType: housingValue.value.propertyType,\r\n                housesType: housingValue.value.housesType,\r\n                area: housingValue.value.area,\r\n                status: 0,\r\n                exquisite: housingValue.value.exquisite ? 1 : 0,\r\n                remark: housingValue.value.remark,\r\n            })\r\n        }).then(res => {\r\n            if (res.data.success) {\r\n                message.success('添加成功！')\r\n                showHousingModal.value = false\r\n                refreshList()\r\n            } else {\r\n                message.warning('添加失败！')\r\n            }\r\n        }).catch(err => {\r\n            message.error('加载出现异常！' + err)\r\n        }).finally(() => {\r\n            housingSubmitLoading.value = false\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 修改房屋\r\n     */\r\n    const updateHousing = () => {\r\n        housingSubmitLoading.value = true\r\n        axios({\r\n            method: 'put',\r\n            url: global.api + '/updateHouses',\r\n            data: QueryString.stringify({\r\n                id: tempHousing.id,\r\n                buildingNo: unitNode.value.building.id,\r\n                unitNo: housingValue.value.unitNo,\r\n                housesNo: housingValue.value.housesNo,\r\n                floor: housingValue.value.floor,\r\n                propertyType: housingValue.value.propertyType,\r\n                housesType: housingValue.value.housesType,\r\n                area: housingValue.value.area,\r\n                status: tempHousing.status,\r\n                exquisite: housingValue.value.exquisite ? 1 : 0,\r\n                remark: housingValue.value.remark,\r\n            })\r\n        }).then(res => {\r\n            if (res.data.data.updateStatus) {\r\n                message.success(\"修改成功！\")\r\n                showHousingModal.value = false\r\n                refreshList()\r\n            } else {\r\n                message.warning(\"修改失败！\")\r\n            }\r\n        }).catch(err => {\r\n            message.error(\"修改出现异常！\" + err)\r\n        }).finally(() => {\r\n            housingSubmitLoading.value = false\r\n        })\r\n    }\r\n\r\n    /**\r\n     * 删除房屋信息\r\n     * @param {*} housing 房屋信息\r\n     */\r\n    const deleteHousing = (housing) => {\r\n        dialog.warning({\r\n            title: \"请确认您的操作!\",\r\n            content: \"确认是否删除房屋\" + housing.housesNo + \"!\",\r\n            positiveText: \"确认删除\",\r\n            negativeText: \"取消\",\r\n            onPositiveClick: () => {\r\n                let delLoading = message.loading(\"正在删除\")\r\n                axios({\r\n                    method: 'delete',\r\n                    url: global.api + '/deleteHouses/' + housing.id\r\n                }).then(res => {\r\n                    if (res.data.success) {\r\n                        message.success(\"删除成功！\")\r\n                        refreshList();\r\n                    } else {\r\n                        message.warning(\"删除失败！\")\r\n                    }\r\n                }).catch(err => {\r\n                    message.error(\"删除出现异常！\" + err)\r\n                }).finally(() => {\r\n                    delLoading.destroy();\r\n                    delLoading = null;\r\n                })\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * 打开模态框\r\n     * @param {*} status false 添加 false 修改 \r\n     */\r\n    const openHousingModel = (status, housing) => {\r\n        // 校验节点是否被选中\r\n        if (unitNode.value == null) {\r\n            message.warning(\"请先选择单元！\")\r\n            return;\r\n        }\r\n\r\n        // 重置模态框\r\n        housingValue.value = {\r\n            housesNo: \"\", // 房屋编号\r\n            floor: null, // 房屋楼层\r\n            room: null, // 室\r\n            hall: null, // 厅\r\n            propertyType: computed({\r\n                set(value) {\r\n                    housingValue.value.room = value.substring(0, 2)\r\n                    housingValue.value.hall = value.substring(2)\r\n                },\r\n                get() {\r\n                    return housingValue.value.room + housingValue.value.hall\r\n                }\r\n            }), // 户型\r\n            housesType: null, // 房屋类型\r\n            area: null, // 室内面积\r\n            exquisite: false, // 精装修\r\n            remark: \"\", // 备注\r\n        }\r\n\r\n        if (status) { // 如果是修改则填充数据\r\n\r\n            unitOption.value = []\r\n\r\n            unitOptionLoading.value = true\r\n            axios({\r\n                method: 'get',\r\n                url: global.api + '/getAllByBuildingNoUnits/' + unitNode.value.building.id,\r\n            }).then(res => {\r\n                for (let unit of res.data) {\r\n                    unitOption.value.push({\r\n                        label: unit.unitNo + \"单元\",\r\n                        value: unit.unitNo\r\n                    })\r\n                }\r\n            }).catch(err => {\r\n                console.log(\"单元选项加载异常！\" + err);\r\n            }).finally(() => {\r\n                unitOptionLoading.value = false\r\n            })\r\n\r\n\r\n            tempHousing = housing;\r\n\r\n            housingValue.value = {\r\n                housesNo: housing.housesNo, // 房屋编号\r\n                floor: housing.floor, // 房屋楼层\r\n                unitNo: housing.unit.unitNo,\r\n                room: housing.propertyType.substring(0, 2), // 室\r\n                hall: housing.propertyType.substring(2), // 厅\r\n                propertyType: computed({\r\n                    set(value) {\r\n                        housingValue.value.room = value.substring(0, 2)\r\n                        housingValue.value.hall = value.substring(2)\r\n                    },\r\n                    get() {\r\n                        return housingValue.value.room + housingValue.value.hall\r\n                    }\r\n                }), // 户型\r\n                housesType: housing.housesType.id, // 房屋类型\r\n                area: housing.area, // 室内面积\r\n                exquisite: housing.exquisite === 1, // 精装修\r\n                remark: housing.remark, // 备注\r\n            }\r\n        }\r\n\r\n        showHousingModal.value = true;\r\n        housingModelStatus.value = status;\r\n    }\r\n\r\n    return {\r\n        housingModelStatus, // 房屋模态框状态\r\n        housingFormRef, // 房屋 Form 引用\r\n        showHousingModal, // 模态框是否打开\r\n        housingSubmitLoading, // 提交按钮加载中\r\n        housingRules, // 房屋 Form 校验信息\r\n        housingValue, // 房屋 Form 参数\r\n        houseType, // 户型\r\n        unitOption, // 单元选项\r\n        unitOptionLoading, // 单元加载\r\n        housingSubmit, // Form 提交\r\n        openHousingModel, // 打开模态框\r\n        deleteHousing, // 删除房屋\r\n    }\r\n\r\n}","import { ref } from 'vue'\r\n\r\nimport { useMessage } from 'naive-ui'\r\n\r\nexport default (refreshList) => {\r\n\r\n    // 获取消息对象\r\n    const message = useMessage();\r\n\r\n    // 模态框打开\r\n    const showImportPropertyModal = ref(false)\r\n\r\n    /**\r\n     * 表单提交事件\r\n     */\r\n    const importPropertySubmit = ({\r\n        file,\r\n        event\r\n    }) => {\r\n        const res = JSON.parse((event?.target).response);\r\n        if (res.success) {\r\n            message.success(\"共：\" + res.data.excelCountTotal + \" 行数据，成功：\" + res.data.successCount + \" 行，失败：\" + res.data.failedCount + \" 行\",{duration: 3000})\r\n            showImportPropertyModal.value = false\r\n            refreshList()\r\n        } else {\r\n            message.warning(\"导入失败！\")\r\n        }\r\n        return file;\r\n    };\r\n\r\n    /**\r\n     * 导入房屋\r\n     */\r\n    const importProperty = () => {\r\n        \r\n    }\r\n\r\n    /**\r\n     * 打开模态框\r\n     */\r\n    const openImportProperty = () => {\r\n        showImportPropertyModal.value = true\r\n    }\r\n\r\n    return {\r\n        showImportPropertyModal, // 模态框打开\r\n        importPropertySubmit, // 表单提交事件\r\n        openImportProperty, // 打开模态框\r\n    }\r\n\r\n}","<template>\r\n\r\n  <div>\r\n\r\n    <div class=\"button-box\">\r\n      <!-- 楼栋 -->\r\n      <n-button @click=\"showBuildingModal = true;buildingStatus = false;\">\r\n        <template #icon>\r\n          <n-icon>\r\n            <add-icon />\r\n          </n-icon>\r\n        </template>\r\n        添加楼栋\r\n      </n-button>\r\n      <n-button @click=\"showBuildingModal = true;buildingStatus = true;\">\r\n        <template #icon>\r\n          <n-icon>\r\n            <edit-icon />\r\n          </n-icon>\r\n        </template>\r\n        修改楼栋\r\n      </n-button>\r\n      <n-button @click=\"deleteBuilding\">\r\n        <template #icon>\r\n          <n-icon>\r\n            <delete-icon />\r\n          </n-icon>\r\n        </template>\r\n        删除楼栋\r\n      </n-button>\r\n      <!-- 单元 -->\r\n      <n-button @click=\"showApartmentModal = true;apartmentStatus = false;\">\r\n        <template #icon>\r\n          <n-icon>\r\n            <add-icon />\r\n          </n-icon>\r\n        </template>\r\n        添加单元\r\n      </n-button>\r\n      <n-button @click=\"showApartmentModal = true;apartmentStatus = true;\">\r\n        <template #icon>\r\n          <n-icon>\r\n            <edit-icon />\r\n          </n-icon>\r\n        </template>\r\n        修改单元\r\n      </n-button>\r\n      <n-button @click=\"deleteApartment\">\r\n        <template #icon>\r\n          <n-icon>\r\n            <delete-icon />\r\n          </n-icon>\r\n        </template>\r\n        删除单元\r\n      </n-button>\r\n      <!-- 添加房屋 -->\r\n      <n-button @click=\"openHousingModel(false)\" type=\"primary\">\r\n        <template #icon>\r\n          <n-icon>\r\n            <add-icon />\r\n          </n-icon>\r\n        </template>\r\n        添加房屋\r\n      </n-button>\r\n      <!-- 房产导入 -->\r\n      <n-button @click=\"openImportProperty\" type=\"primary\">\r\n        <template #icon>\r\n          <n-icon>\r\n            <add-icon />\r\n          </n-icon>\r\n        </template>\r\n        房产导入\r\n      </n-button>\r\n    </div>\r\n\r\n    <div class=\"main\">\r\n      <div class=\"left\">\r\n        <n-card class=\"left-card\">\r\n          <n-spin :show=\"leftSpin\">\r\n            <n-tree :node-props=\"nodeProps\" block-line :data=\"buildingData\" default-expand-all virtual-scroll />\r\n          </n-spin>\r\n        </n-card>\r\n      </div>\r\n\r\n      <div class=\"right\">\r\n\r\n        <n-spin :show=\"mainSpin\">\r\n\r\n          <n-card title=\"查询条件\">\r\n            <n-space item-style=\"display: flex; align-item: center;\">\r\n              <n-input v-model:value=\"housingNo\" style=\"width:256px\" type=\"text\" placeholder=\"请填写房屋编号\" />\r\n              <n-select v-model:value=\"housingStatus\" placeholder=\"请选择状态\" style=\"width:160px\"\r\n                :options=\"statusOptions\" />\r\n              <n-select v-model:value=\"housingType\" :loading=\"housingTypeLoading\" placeholder=\"请选择房屋类型\"\r\n                style=\"width:160px\" :options=\"housingOptions\" />\r\n              <n-button @click=\"findClick\" type=\"primary\">\r\n                <template #icon>\r\n                  <n-icon>\r\n                    <search-icon />\r\n                  </n-icon>\r\n                </template>\r\n                查询\r\n              </n-button>\r\n              <n-button @click=\"resetClick\">\r\n                <template #icon>\r\n                  <n-icon>\r\n                    <arrow-clockwise-icon />\r\n                  </n-icon>\r\n                </template>\r\n                重置\r\n              </n-button>\r\n            </n-space>\r\n          </n-card>\r\n\r\n          <n-table style=\"margin-top: 10px\" striped>\r\n            <thead>\r\n              <tr>\r\n                <th>房屋</th>\r\n                <th>楼层</th>\r\n                <th>业主</th>\r\n                <th>电话</th>\r\n                <th>类型</th>\r\n                <th>建筑面积</th>\r\n                <th>室内面积</th>\r\n                <th>入住时间</th>\r\n                <th>房屋状态</th>\r\n                <th>精装修</th>\r\n                <th>操作</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody v-if=\"houseDataDisplay\">\r\n              <tr>\r\n                <td colspan=\"11\" style=\"text-align:center;\">暂无数据</td>\r\n              </tr>\r\n            </tbody>\r\n            <tbody v-else>\r\n              <tr v-for=\"(item,index) in houseData.list\" :key=\"index\">\r\n                <td>{{item.building != null ? item.building.buildingNo : ''}}-{{item.unit != null ? item.unit.unitNo :\r\n                ''}}-{{item.housesNo}}</td>\r\n                <td>{{item.floor}}层</td>\r\n                <td>{{item.owner != null ? item.owner.name : ''}}</td>\r\n                <td>{{item.owner != null ? item.owner.phone : ''}}</td>\r\n                <td>{{item.housesType != null ? item.housesType.name : ''}}</td>\r\n                <td>{{item.building != null ? item.building.area : ''}} 平方米</td>\r\n                <td>{{item.area}} 平方米</td>\r\n                <td>{{item.checkTime}}</td>\r\n                <td>{{item.status === 0 ? '未入住' : '已入住'}}</td>\r\n                <td>{{item.exquisite === 0 ? '否' : '是'}}</td>\r\n                <td>\r\n                  <n-button-group size=\"large\">\r\n                    <n-button @click=\"openHousingModel(true,item)\" size=\"small\">修改</n-button>\r\n                    <n-button @click=\"deleteHousing(item)\" type=\"error\" size=\"small\" strong secondary>删除</n-button>\r\n                  </n-button-group>\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </n-table>\r\n\r\n          <div v-if=\"!(pages <= 1)\"\r\n            style=\"display: flex;justify-content: center;align-items: center;margin-top: 10px;margin-bottom: 10px;\">\r\n            <n-pagination @update:page=\"pageNoUpdate\" v-model:page=\"pageNo\" :page-count=\"pages\" />\r\n          </div>\r\n\r\n        </n-spin>\r\n\r\n      </div>\r\n    </div>\r\n\r\n    <!-- 楼栋模态框 -->\r\n    <n-modal :auto-focus=\"false\" v-model:show=\"showBuildingModal\" class=\"custom-card\" preset=\"card\" style=\"width: 600px\"\r\n      :title=\"(buildingStatus ? '修改' : '添加') + '楼栋'\" transform-origin=\"center\" size=\"huge\" :bordered=\"false\"\r\n      :segmented=\"{content: 'soft',footer: 'soft'}\">\r\n      <n-form ref=\"buildingFormRef\" label-placement=\"left\" :label-width=\"80\" :model=\"buildingValue\"\r\n        :rules=\"buildingRules\" size=\"medium\">\r\n        <n-grid cols=\"1\">\r\n          <n-grid-item>\r\n            <n-form-item label=\"楼栋编号\" path=\"id\">\r\n              <n-input v-model:value=\"buildingValue.id\" placeholder=\"输入楼栋编号\" />\r\n            </n-form-item>\r\n            <n-form-item label=\"楼栋名称\" path=\"name\">\r\n              <n-input v-model:value=\"buildingValue.name\" placeholder=\"输入楼栋名称\" />\r\n            </n-form-item>\r\n            <n-form-item label=\"建筑面积\" path=\"area\">\r\n              <n-input v-model:value=\"buildingValue.area\" placeholder=\"输入建筑面积\" />\r\n            </n-form-item>\r\n            <n-form-item label=\"备注\" path=\"remark\">\r\n              <n-input type=\"textarea\" v-model:value=\"buildingValue.remark\" placeholder=\"输入备注\" />\r\n            </n-form-item>\r\n          </n-grid-item>\r\n        </n-grid>\r\n      </n-form>\r\n      <template #footer>\r\n        <n-space justify=\"end\">\r\n          <n-button @click=\"showBuildingModal = false\">取消</n-button>\r\n          <n-button :loading=\"submitLoading\" type=\"primary\" attr-type=\"button\" @click=\"buildingSubmit\">保存</n-button>\r\n        </n-space>\r\n      </template>\r\n    </n-modal>\r\n\r\n    <!-- 单元模态框 -->\r\n    <n-modal :auto-focus=\"false\" v-model:show=\"showApartmentModal\" class=\"custom-card\" preset=\"card\"\r\n      style=\"width: 600px\" :title=\"(apartmentStatus ? '修改' : '添加') + '单元'\" transform-origin=\"center\" size=\"huge\"\r\n      :bordered=\"false\" :segmented=\"{content: 'soft',footer: 'soft'}\">\r\n      <n-form ref=\"apartmentFormRef\" label-placement=\"left\" :label-width=\"80\" :model=\"apartmentValue\"\r\n        :rules=\"apartmentRules\" size=\"medium\">\r\n        <n-grid cols=\"1\">\r\n          <n-grid-item>\r\n            <n-form-item label=\"单元编号\" path=\"id\">\r\n              <n-input v-model:value=\"apartmentValue.id\" placeholder=\"输入单元编号\" />\r\n            </n-form-item>\r\n            <n-form-item label=\"总层数\" path=\"totalNumberOfLayers\">\r\n              <n-input-number style=\"width:100%\" v-model:value=\"apartmentValue.totalNumberOfLayers\" clearable />\r\n            </n-form-item>\r\n            <n-form-item label=\"电梯\">\r\n              <n-switch v-model:value=\"apartmentValue.elevator\">\r\n                <template #checked>\r\n                  有\r\n                </template>\r\n                <template #unchecked>\r\n                  无\r\n                </template>\r\n              </n-switch>\r\n            </n-form-item>\r\n            <n-form-item label=\"备注\" path=\"remark\">\r\n              <n-input type=\"textarea\" v-model:value=\"apartmentValue.remark\" placeholder=\"输入备注\" />\r\n            </n-form-item>\r\n          </n-grid-item>\r\n        </n-grid>\r\n      </n-form>\r\n      <template #footer>\r\n        <n-space justify=\"end\">\r\n          <n-button @click=\"showApartmentModal = false\">取消</n-button>\r\n          <n-button :loading=\"apartmentSubmitLoading\" type=\"primary\" attr-type=\"button\" @click=\"apartmentSubmit\">保存\r\n          </n-button>\r\n        </n-space>\r\n      </template>\r\n    </n-modal>\r\n\r\n    <!-- 房屋模态框 -->\r\n    <n-modal :auto-focus=\"false\" v-model:show=\"showHousingModal\" class=\"custom-card\" preset=\"card\" style=\"width: 600px\"\r\n      :title=\"(housingModelStatus ? '修改' : '添加') + '房屋'\" transform-origin=\"center\" size=\"huge\" :bordered=\"false\"\r\n      :segmented=\"{content: 'soft',footer: 'soft'}\">\r\n      <n-form ref=\"housingFormRef\" label-placement=\"left\" :label-width=\"120\" :model=\"housingValue\" :rules=\"housingRules\"\r\n        size=\"medium\">\r\n        <n-grid cols=\"1\">\r\n          <n-grid-item>\r\n            <n-form-item label=\"房屋编号\" path=\"housesNo\">\r\n              <n-input v-model:value=\"housingValue.housesNo\" placeholder=\"输入房屋编号\" />\r\n            </n-form-item>\r\n            <n-form-item label=\"房屋楼层\" path=\"floor\">\r\n              <n-input-number style=\"width:100%\" v-model:value=\"housingValue.floor\" placeholder=\"输入房屋楼层\" clearable />\r\n            </n-form-item>\r\n            <n-form-item v-show=\"housingModelStatus\" label=\"房屋单元\" path=\"unitNo\">\r\n              <n-select :loading=\"unitOptionLoading\" v-model:value=\"housingValue.unitNo\" placeholder=\"请选择房屋单元\"\r\n                :options=\"unitOption\" />\r\n            </n-form-item>\r\n            <n-form-item label=\"房间户型\" path=\"propertyType\">\r\n              <n-select v-model:value=\"housingValue.room\" placeholder=\"请选择户型\" :options=\"houseType[0]\" />\r\n              <div style=\"width: 10px\"></div>\r\n              <n-select v-model:value=\"housingValue.hall\" placeholder=\"请选择户型\" :options=\"houseType[1]\" />\r\n            </n-form-item>\r\n            <n-form-item label=\"房屋类型\" path=\"housesType\">\r\n              <n-select v-model:value=\"housingValue.housesType\" :loading=\"housingTypeLoading\" placeholder=\"请选择房屋类型\"\r\n                :options=\"housingModelOptions\" />\r\n            </n-form-item>\r\n            <n-form-item label=\"室内面积(平方)\" path=\"area\">\r\n              <n-input-number style=\"width:100%\" v-model:value=\"housingValue.area\" placeholder=\"请输入室内面积\" clearable />\r\n            </n-form-item>\r\n            <n-form-item label=\"精装修\">\r\n              <n-switch v-model:value=\"housingValue.exquisite\">\r\n                <template #checked>\r\n                  是\r\n                </template>\r\n                <template #unchecked>\r\n                  否\r\n                </template>\r\n              </n-switch>\r\n            </n-form-item>\r\n            <n-form-item label=\"备注\" path=\"\">\r\n              <n-input v-model:value=\"housingValue.remark\" type=\"textarea\" placeholder=\"输入备注\" />\r\n            </n-form-item>\r\n          </n-grid-item>\r\n        </n-grid>\r\n      </n-form>\r\n      <template #footer>\r\n        <n-space justify=\"end\">\r\n          <n-button @click=\"showHousingModal = false\">取消</n-button>\r\n          <n-button :loading=\"housingSubmitLoading\" type=\"primary\" @click=\"housingSubmit\" attr-type=\"button\">保存\r\n          </n-button>\r\n        </n-space>\r\n      </template>\r\n    </n-modal>\r\n\r\n    <!-- 导入房产 -->\r\n    <n-modal :auto-focus=\"false\" v-model:show=\"showImportPropertyModal\" class=\"custom-card\" preset=\"card\"\r\n      style=\"width: 600px\" title=\"房产导入\" transform-origin=\"center\" size=\"huge\" :bordered=\"false\"\r\n      :segmented=\"{content: 'soft',footer: 'soft'}\">\r\n      <n-form ref=\"showImportPropertyFormRef\" label-placement=\"left\" :label-width=\"120\" size=\"medium\">\r\n        <n-grid cols=\"1\">\r\n          <n-grid-item>\r\n            <n-form-item label=\"选择文件：\">\r\n              <n-upload :show-file-list=\"true\" accept=\".xls,.xlsx\" :action=\"global.api + '/housesExcelImport'\" @finish=\"importPropertySubmit\">\r\n                <n-button>选择文件</n-button>\r\n              </n-upload>\r\n            </n-form-item>\r\n            <n-form-item label=\"下载模板：\">\r\n              请先下载 <a :href=\"global.api + '/housesExcelExport'\">房产模板</a> 准备数据后，上传导入\r\n            </n-form-item>\r\n          </n-grid-item>\r\n        </n-grid>\r\n      </n-form>\r\n      <template #footer>\r\n        <n-space justify=\"end\">\r\n          <n-button @click=\"showImportPropertyModal = false\">关闭</n-button>\r\n        </n-space>\r\n      </template>\r\n    </n-modal>\r\n\r\n\r\n  </div>\r\n\r\n</template>\r\n\r\n<script setup>\r\n// 引入 vue\r\nimport { ref, reactive, computed, inject } from 'vue'\r\n// 引入 naive-ui 组件\r\nimport {\r\n  NButton, NIcon, NGrid, NGridItem, NTree, NCard,\r\n  NInput, NSelect, NSpace, NTable, NButtonGroup,\r\n  NPagination, NModal, NForm, NFormItem, NInputNumber,\r\n  NSwitch, useMessage, NSpin, useLoadingBar, NResult,\r\n  NUpload\r\n} from 'naive-ui'\r\n// 引入 axios\r\nimport axios from 'axios';\r\n// 引入图标 \r\nimport {\r\n  Add16Regular as AddIcon,\r\n  Edit16Regular as EditIcon,\r\n  Delete16Regular as DeleteIcon,\r\n  Search16Regular as SearchIcon,\r\n  ArrowClockwise16Regular as ArrowClockwiseIcon\r\n} from '@vicons/fluent'\r\n\r\n// 引入楼栋 Hook\r\nimport buildingHook from '../../hook/real_estate/housingmanagement/buildingHook'\r\n\r\n// 引入单元 Hook\r\nimport apartmentHook from '../../hook/real_estate/housingmanagement/apartmentHook'\r\n\r\n// 引入房屋 Hook\r\nimport housingHook from '../../hook/real_estate/housingmanagement/housingHook'\r\n\r\n// 引入导入房屋 Hook\r\nimport importPropertyHook from '../../hook/real_estate/housingmanagement/importPropertyHook'\r\n\r\n// 接收全局变量\r\nconst global = inject('global');\r\n\r\n// 获取消息对象\r\nconst message = useMessage();\r\n\r\n// 房屋列表 Spin\r\nconst mainSpin = ref(false);\r\n\r\n// 楼栋\r\nconst {\r\n  buildingStatus, // 楼栋模态框状态\r\n  buildingFormRef, // 楼栋模态框 Form 引用\r\n  showBuildingModal, // 楼栋模态框是否显示\r\n  buildingRules, // 楼栋模态框 Form 校验信息\r\n  buildingValue, // 楼栋模态框 Form 参数\r\n  buildingData, // 楼栋信息\r\n  leftSpin, // 楼栋信息 Spin\r\n  buildingNode, // 单前选中的楼栋节点\r\n  unitNode, // 单前选中的单元节点\r\n  submitLoading, // 提交按钮加载\r\n  loadBuilding, //加载楼栋信息\r\n  buildingSubmit, // 楼栋 Form 提交事件\r\n  nodeProps, // 楼栋信息节点选中事件\r\n  deleteBuilding, // 删除楼栋事件\r\n} = buildingHook(loadList)\r\n\r\n// 单元\r\nconst {\r\n  apartmentStatus, // 单元模态框状态\r\n  apartmentFormRef, // 单元模态框 Form 引用\r\n  showApartmentModal, // 显示单元模态框\r\n  apartmentRules, // 单元模态框 Form 校验数据\r\n  apartmentValue, // 单元模态框 Form 参数\r\n  apartmentSubmitLoading, // 单元提交加载\r\n  apartmentSubmit, // 单元模态框 Form 提交事件\r\n  deleteApartment, // 删除单元点击事件\r\n} = apartmentHook(buildingNode, loadBuilding, unitNode)\r\n\r\n// 房屋\r\nconst {\r\n  housingModelStatus, // 房屋模态框状态\r\n  housingFormRef, // 房屋 Form 引用\r\n  showHousingModal, // 模态框是否打开\r\n  housingSubmitLoading, // 提交按钮加载中\r\n  housingRules, // 房屋 Form 校验信息\r\n  housingValue, // 房屋 Form 参数\r\n  houseType, // 户型\r\n  unitOption, // 单元选项\r\n  unitOptionLoading, // 单元加载\r\n  housingSubmit, // Form 提交\r\n  openHousingModel, // 打开模态框\r\n  deleteHousing, // 删除房屋\r\n} = housingHook(unitNode, refreshList)\r\n\r\n// 导入房屋\r\nconst {\r\n  showImportPropertyModal, // 模态框打开\r\n  importPropertySubmit, // 表单提交事件\r\n  openImportProperty, // 打开模态框\r\n} = importPropertyHook(refreshList)\r\n\r\n\r\n// 加载进度条\r\nconst loadingBar = useLoadingBar()\r\n\r\n// 房屋列表\r\nconst houseData = ref([])\r\nconst houseDataDisplay = computed(() => {\r\n  return (houseData.value.length === 0 || houseData.value.list.length === 0);\r\n})\r\n\r\n// 房屋分页数据\r\nconst pageNo = ref(1)\r\nconst pages = ref(1)\r\n\r\n// 当前页码发生变化时触发\r\nfunction pageNoUpdate(page) {\r\n  loadList(unitNode.value, page)\r\n}\r\n\r\n// 加载房屋列表\r\nfunction loadList(option, page, more) {\r\n  mainSpin.value = true // 打开加载动画\r\n  // loadingBar.start()\r\n  const params = {\r\n    buildingNo: option.building.id,\r\n    unitNo: option.id,\r\n    page,\r\n    size: global.pageSize\r\n  }\r\n  for (let key in more) {\r\n    if (more[key] != null) {\r\n      params[key] = more[key]\r\n    }\r\n  }\r\n\r\n  axios({\r\n    method: 'get',\r\n    url: global.api + '/getAllHouses',\r\n    params\r\n  }).then(res => {\r\n    // 设置数据\r\n    houseData.value = res.data\r\n    // 设置当前页数\r\n    pageNo.value = res.data.pageNum\r\n    // 设置总页数\r\n    pages.value = res.data.pages\r\n    mainSpin.value = false // 取消加载动画\r\n    // loadingBar.finish()\r\n  }).catch(err => {\r\n    // loadingBar.error()\r\n  })\r\n}\r\n\r\nconst statusOptions = [\r\n  {\r\n    label: \"全部\",\r\n    value: null,\r\n  },\r\n  {\r\n    label: \"未入住\",\r\n    value: 0,\r\n  },\r\n  {\r\n    label: \"已入住\",\r\n    value: 1,\r\n  }\r\n]\r\n\r\nconst housingTypeLoading = ref(false)\r\nconst housingModelOptions = ref([])\r\nconst housingOptions = ref([\r\n  {\r\n    label: '全部',\r\n    value: null\r\n  }\r\n])\r\n// 加载房屋类型\r\nhousingTypeLoading.value = true;\r\naxios({\r\n  method: 'get',\r\n  url: global.api + '/getHousesTypeList'\r\n}).then(res => {\r\n  for (let type of res.data) {\r\n    housingModelOptions.value.push({\r\n      label: type.name,\r\n      value: type.id\r\n    })\r\n    housingOptions.value.push({\r\n      label: type.name,\r\n      value: type.id\r\n    })\r\n  }\r\n}).catch(err => {\r\n  message.error(\"房屋类型加载异常！\" + err)\r\n}).finally(() => {\r\n  housingTypeLoading.value = false;\r\n})\r\n\r\n// 查询\r\nconst housingNo = ref('')\r\nconst housingStatus = ref(null)\r\nconst housingType = ref(null)\r\n// 查询点击事件\r\nconst findClick = () => {\r\n  // refreshList()\r\n  if (unitNode.value != null) {\r\n    loadList(unitNode.value, 1, {\r\n      housesNo: housingNo.value,\r\n      status: housingStatus.value,\r\n      housesType: housingType.value\r\n    });\r\n  } else {\r\n    message.warning(\"请先选择单元！\")\r\n  }\r\n}\r\n// 属性当前页数据\r\nfunction refreshList() {\r\n  if (unitNode.value != null) {\r\n    loadList(unitNode.value, pageNo.value, {\r\n      housesNo: housingNo.value,\r\n      status: housingStatus.value,\r\n      housesType: housingType.value\r\n    });\r\n  } else {\r\n    message.warning(\"请先选择单元！\")\r\n  }\r\n}\r\n\r\n// 重置点击事件\r\nconst resetClick = () => {\r\n  housingNo.value = ''\r\n  housingStatus.value = null\r\n  housingType.value = null\r\n}\r\n\r\n\r\n\r\n</script>\r\n\r\n<script>\r\nexport default {\r\n  name: 'HousingManagementLayout'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.button-box>* {\r\n  margin: 0 10px 10px 0;\r\n}\r\n\r\n.button-box {\r\n  margin-top: 10px;\r\n  margin-left: 10px;\r\n}\r\n\r\n.main {\r\n  display: flex;\r\n  flex-direction: row;\r\n}\r\n\r\n.left {\r\n  width: 200px;\r\n  margin-left: 10px;\r\n}\r\n\r\n.right {\r\n  flex: 1;\r\n  margin: 0 10px;\r\n}\r\n</style>\r\n\r\n\r\n","import script from \"./HousingManagementLayout.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./HousingManagementLayout.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./HousingManagementLayout.vue?vue&type=style&index=0&id=80dd0b1a&scoped=true&lang=css\"\n\nimport exportComponent from \"E:\\\\VCode\\\\SHC社区管理系统\\\\shc_community_manager_system\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-80dd0b1a\"]])\n\nexport default __exports__"],"names":["_hoisted_1","xmlns","viewBox","_hoisted_2","_createElementVNode","fill","d","_hoisted_3","defineComponent","name","render","_ctx","_cache","_openBlock","_createElementBlock","useLoadingBar","loadingBar","inject","loadingBarApiInjectionKey","throwError","treeSelectInjectionKey","createInjectionKey","createDataKey","key","h","treeInjectionKey","props","clsPrefix","type","String","required","expanded","Boolean","hide","loading","onClick","Function","setup","renderSwitcherIconRef","class","NIconSwitchTransition","default","NBaseLoading","radius","strokeWidth","value","renderSwitcherIcon","NBaseIcon","SwitcherIcon","right","focusable","disabled","checked","indeterminate","onCheck","NTree","doCheck","handleUpdateValue","mergedTheme","mergedThemeRef","this","NCheckbox","theme","peers","Checkbox","themeOverrides","peerOverrides","onUpdateChecked","selected","onDragstart","tmNode","Object","nodeProps","renderLabelRef","renderPrefixRef","renderSuffixRef","labelFieldRef","selfRef","ref","doClick","e","handleClick","renderLabel","renderPrefix","renderSuffix","labelField","rawNode","prefix","suffix","label","assign","draggable","undefined","option","renderDropMark","position","offsetLevel","indent","el","style","boxSizing","left","top","bottom","borderRadius","boxShadow","cssPosition","offsetLeft","height","backgroundColor","transformOrigin","transform","defaultAllowDrop","dropPosition","node","isLeaf","children","isNodeDisabled","disabledField","traverse","nodes","childrenField","callback","callbackAfter","forEach","keysWithFilter","pattern","keyField","filter","keys","Set","highlightKeySet","path","push","add","i","length","has","pop","expandedKeys","Array","from","emptyImage","isBrowser","Image","src","filterTree","tree","visitedTailKeys","visitedNonTailKeys","filteredTree","visit","t","n","delete","build","sibs","isVisitedTail","isVisitedNonTail","clonedNode","TreeNode","droppingNodeParentRef","droppingMouseNodeRef","draggingNodeRef","droppingPositionRef","droppingOffsetLevelRef","nodePropsRef","indentRef","blockLineRef","checkboxPlacementRef","checkOnClickRef","disabledFieldRef","checkboxDisabledRef","useMemo","checkboxDisabled","nodeIsDisabledRef","disabledRef","resolvedNodePropsRef","computed","contentInstRef","contentElRef","handleSwitcherClick","shallowLoaded","loadingKeysRef","onLoadRef","onLoad","then","finally","onMounted","$el","selectableRef","internalTreeSelect","mergedCheckStrategyRef","multipleRef","cascadeRef","checkableRef","checkedRef","displayedCheckedKeysRef","includes","mergedCheckOnClickRef","checkable","checkOnClick","_handleClick","expandOnClick","expandOnClickRef","selectable","mergedCheckOnClick","happensIn","handleSelect","handleCheck","handleContentClick","_a","_b","call","handleLineClick","handleDragStart","event","handleDragEnter","currentTarget","target","handleDragOver","preventDefault","handleDragEnd","handleDragLeave","handleDrop","showDropMark","draggingNode","droppingPosition","droppingMouseNode","showDropMarkAsParent","droppingNodeParent","pending","pendingNodeKeyRef","highlight","highlightKeySetRef","displayedIndeterminateKeysRef","mergedSelectedKeysRef","mergedExpandedKeysRef","internalScrollable","internalScrollableRef","draggableRef","blockLine","checkboxFocusable","internalCheckboxFocusableRef","droppingOffsetLevel","checkboxPlacement","dragEventHandlers","onDragenter","onDragleave","onDragend","onDrop","onDragover","dataKey","checkboxOnRight","checkboxNode","NTreeNodeCheckbox","repeat","level","width","NTreeNodeSwitcher","NTreeNodeContent","useKeyboard","fNodesRef","mergedSelectedKeys","treeSelectInjection","handleKeydown","keyboard","pendingNodeKey","fNodes","fIndex","findIndex","pendingNode","parentTmNode","getParent","Number","mode","onAfterEnter","FadeInExpandTransition","appear","reverse","pxfy","map","cB","c","marginTop","cM","fadeInHeightExpandTransition","duration","cE","borderBottomColor","cNotM","iconSwitchTransition","visibility","marginBottom","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","rejected","result","done","apply","ITEM_SIZE","createTreeMateOptions","getIsGroup","getKey","getChildren","getDisabled","treeSharedProps","allowCheckingNotLoaded","defaultExpandAll","defaultExpandedKeys","indeterminateKeys","onUpdateIndeterminateKeys","onUpdateExpandedKeys","treeProps","useTheme","accordion","showIrrelevantNodes","data","expandOnDragenter","cancelable","blockNode","checkedKeys","defaultCheckedKeys","selectedKeys","defaultSelectedKeys","multiple","cascade","allowDrop","animated","virtualScroll","watchProps","onUpdateCheckedKeys","onUpdateSelectedKeys","internalScrollablePadding","internalRenderEmpty","internalHighlightKeySet","internalUnifySelectCheck","internalCheckboxFocusable","internalFocusable","checkStrategy","leafOnly","mergedClsPrefixRef","inlineThemeDisabled","mergedRtlRef","useConfig","rtlEnabledRef","useRtl","themeRef","treeLight","selfElRef","scrollbarInstRef","virtualListInstRef","getScrollContainer","listElRef","getScrollContent","itemsElRef","filteredTreeInfoRef","mergedFilterRef","displayTreeMateRef","createTreeMate","dataTreeMateRef","dataTreeMate","uncontrolledCheckedKeysRef","watchEffect","controlledCheckedKeysRef","toRef","mergedCheckedKeysRef","useMergedState","checkedStatusRef","getCheckedKeys","allowNotLoaded","uncontrolledSelectedKeysRef","controlledSelectedKeysRef","uncontrolledExpandedKeysRef","initUncontrolledExpandedKeys","getNonLeafKeys","controlledExpandedKeysRef","getFlattenedNodes","expandTimerId","nodeKeyToBeExpanded","uncontrolledHighlightKeySetRef","controlledHighlightKeySetRef","mergedHighlightKeySetRef","expandedNonLoadingKeysRef","dragStartX","droppingNodeRef","droppingNode","parent","toLowerCase","watch","clear","resetDndState","deep","expandAnimationDisabled","disableExpandAnimationForOneTick","nextTick","memoizedExpandedKeys","triggerLoading","loadingKeys","catch","loadError","console","error","resetDragExpandState","oldValue","expandedKeysAfterChange","doUpdateExpandedKeys","getOptionsByKeys","displayTreeMate","getNode","aipRef","afNodesRef","prevValue","syncScrollbar","prevVSet","addedKey","removedKey","expandedKey","currentVSet","viewportHeight","offsetHeight","viewportItemCount","Math","ceil","baseExpandedKeys","expandedNodeIndex","expandedChildren","flatten","splice","__motion","slice","collapsedNodeIndex","collapsedNodeChildren","collapsedChildren","getFIndexRef","createIndexGetter","mergedFNodesRef","scrollbarInst","sync","handleAfterEnter","_onUpdateExpandedKeys","doUpdateCheckedKeys","_onUpdateCheckedKeys","doUpdateIndeterminateKeys","_onUpdateIndeterminateKeys","doUpdateSelectedKeys","_onUpdateSelectedKeys","doDragEnter","info","doDragLeave","doDragEnd","doDragStart","doDragOver","doDrop","resetDragState","resetDropState","window","clearTimeout","toggleExpand","mergedExpandedKeys","index","expandNodeId","nodeToBeExpanded","nextKeys","siblingKeySet","siblings","concat","expandDragEnterNode","expand","setTimeout","handleDragLeaveTree","dataTransfer","setDragImage","clientX","emit","elOffsetHeight","elClientTop","getBoundingClientRect","eventOffsetY","clientY","mousePosition","allowDropInside","phase","getFindex","finalDropNode","finalDropPosition","hoverNodeFIndex","mouseAtExpandedNonLeafNode","isFirstChild","isLastChild","offset","contains","nextNode","getNext","includeDisabled","prevNode","getPrev","dragNode","handleScroll","handleResize","handleFocusout","containerRef","relatedTarget","selfEl","scrollTo","options","targetEl","contentRef","querySelector","provide","exposedMethods","cssVarsRef","common","cubicBezierEaseInOut","self","fontSize","nodeBorderRadius","nodeColorHover","nodeColorPressed","nodeColorActive","arrowColor","loadingColor","nodeTextColor","nodeTextColorDisabled","dropMarkColor","themeClassHandle","useThemeClass","mergedClsPrefix","rtlEnabled","aip","cssVars","themeClass","onRender","mergedFocusable","tabindex","treeClass","createNode","MotionWrapper","NTreeNode","padding","getPadding","NxScrollbar","container","content","Scrollbar","onKeydown","onFocusout","VVirtualList","items","itemSize","ignoreItemResize","paddingTop","paddingBottom","paddingLeft","paddingRight","onScroll","onResize","showScrollbar","itemResizable","item","contentStyle","resolveSlot","$slots","empty","NEmpty","Empty","x1","y1","x2","y2","stroke","vars","textColorDisabled","iconColorDisabled","inputNumberLight","createTheme","commonLight","Button","buttonLight","Input","inputLight","parse","trim","isWipValue","test","validator","isNaN","format","precision","toFixed","parseNumber","number","parsedNumber","HOLDING_CHANGE_THRESHOLD","HOLDING_CHANGE_INTERVAL","inputNumberProps","autofocus","placeholder","defaultValue","min","max","size","bordered","showButton","buttonPlacement","readonly","clearable","updateValueOnInput","status","onUpdateValue","onFocus","onBlur","onClear","onChange","mergedBorderedRef","localeRef","useLocale","formItem","useFormItem","mergedSizeRef","mergedDisabledRef","mergedStatusRef","inputInstRef","minusButtonInstRef","addButtonInstRef","uncontrolledValueRef","controlledValueRef","mergedValueRef","displayedValueRef","getPrecision","fraction","split","getMaxPrecision","currentValue","precisions","mergedPlaceholderRef","mergedStepRef","abs","mergedMinRef","mergedMaxRef","doUpdateValue","mergedValue","deriveDisplayedValueFromValue","_onUpdateValue","nTriggerFormInput","nTriggerFormChange","deriveValueFromDisplayedValue","doUpdateIfValid","fixPrecision","isInputing","displayedValue","parsedValue","currentPrecision","nextValue","parseFloat","mergedMax","mergedMin","formatProp","displayedValueInvalidRef","derivedValue","minusableRef","mergedStep","derivedNextValue","addableRef","doFocus","nTriggerFormFocus","doBlur","wrapperElRef","inputElRef","nTriggerFormBlur","doClear","doAdd","addable","clearAddHoldTimeout","createValidValue","doMinus","minusable","clearMinusHoldTimeout","handleFocus","handleBlur","handleClear","handleMouseDown","_c","activate","minusHoldStateIntervalId","addHoldStateIntervalId","firstMinusMousedownId","clearInterval","firstAddMousedownId","handleMinusMousedown","setInterval","on","document","once","handleAddMousedown","handleAddClick","handleMinusClick","handleKeyDown","deactivate","ArrowUp","ArrowDown","handleUpdateDisplayedValue","focus","blur","mergedBordered","uncontrolledValue","mergedPlaceholder","displayedValueInvalid","mergedSize","mergedDisabled","mergedStatus","inputThemeOverrides","paddingSmall","paddingMedium","paddingLarge","buttonThemeOverrides","r","g","b","a","rgba","textColorTextDisabled","opacityDisabled","renderMinusButton","NxButton","text","builtinThemeOverrides","onMousedown","icon","RemoveIcon","renderAddButton","AddIcon","NInput","textDecoration","internalLoadingBeforeSuffix","resolveWrappedSlot","primaryColor","textColor3","railOverlayColor","commonVars","iconColor","textColor","railColor","railColorActive","buttonBoxShadow","buttonColor","railBorderRadiusSmall","railBorderRadiusMedium","railBorderRadiusLarge","buttonBorderRadiusSmall","buttonBorderRadiusMedium","buttonBorderRadiusLarge","boxShadowFocus","changeColor","alpha","switchLight","originalTransform","switchProps","round","checkedValue","uncheckedValue","railStyle","rubberBand","supportCssMax","CSS","supports","pressedRef","focusedRef","mergedRailStyleRef","focused","handleKeyup","createKey","buttonHeight","buttonWidth","buttonWidthPressed","railHeight","railWidth","railBorderRadius","buttonBorderRadius","depx","mergedRailStyle","pressed","checkedSlot","unchecked","uncheckedSlot","iconSlot","checkedIconSlot","uncheckedIconSlot","hasIcon","isSlotEmpty","role","onKeyup","checkedSlotChildren","uncheckedSlotChildren","checkedIcon","uncheckedIcon","uploadInjectionKey","uploadDraggerKey","_","slots","NUpload","maxReachedRef","maxReached","isImageFileType","getExtname","url","temp","filename","filenameWithoutSuffix","exec","isImageFile","file","thumbnailUrl","extension","createImageDataUrl","URL","createObjectURL","environmentSupportFile","FileReader","File","isFileSystemDirectoryEntry","isDirectory","isFileSystemFileEntry","isFile","getFilesFromEntries","entries","directory","fileAndEntries","_resolve","requestCallbackCount","lock","unlock","_getFilesFromEntries","entry","directoryReader","createReader","readEntries","source","createSettledFileInfo","fileInfo","id","percentage","fullPath","batchId","matchType","mimeType","accept","toLocaleLowerCase","acceptAtoms","acceptAtom","some","startsWith","endsWith","subtype","acceptType","acceptSubtype","download","createElement","href","body","appendChild","click","removeChild","abstract","listTypeRef","dragOverRef","openOpenFileDialog","draggerInsideRef","handleFileAddition","mergedDirectoryDndRef","triggerStyleRef","isImageCardTypeRef","handleTriggerClick","handleTriggerDragOver","handleTriggerDragEnter","handleTriggerDragLeave","handleTriggerDrop","dataTransferItems","webkitGetAsEntry","files","NUploadDragger","replaceable","version","x","y","rx","ry","points","isImageSupportNativeLazy","imagePreviewSharedProps","showToolbar","showToolbarTooltip","resolveOptionsAndHash","root","hash","rootMargin","isArray","threshold","join","documentElement","observers","WeakMap","unobserveHandleMap","shouldStartLoadingRefMap","observeIntersection","shouldStartLoadingRef","resolvedOptionsAndHash","rootObservers","_rootObservers","get","observer","observerAndObservedElements","Map","set","observe","IntersectionObserver","isIntersecting","_unobserve","_shouldStartLoadingRef","unobservered","unobserve","toolbarIconColor","toolbarColor","toolbarBoxShadow","toolbarBorderRadius","imageLight","Tooltip","tooltipLight","prevIcon","nextIcon","closeIcon","fadeInTransition","fadeInScaleUpTransition","BLEEDING","onNext","onPrev","thumbnailEl","previewRef","previewWrapperRef","previewSrcRef","showRef","displayedRef","syncTransformOrigin","previewWrapper","tbox","tx","ty","toggleShow","off","onBeforeUnmount","startX","startY","offsetX","offsetY","startOffsetX","startOffsetY","mouseDownClientX","mouseDownClientY","dragging","handleMouseMove","beforeNextFrameOnce","derivePreviewStyle","getMoveStrategy","opts","mouseUpClientX","mouseUpClientY","deltaHorizontal","deltaVertical","moveVerticalDirection","moveHorizontalDirection","getDerivedOffset","moveStrategy","preview","pbox","nextOffsetX","nextOffsetY","innerWidth","innerHeight","handleMouseUp","handlePreviewMousedown","handlePreviewDblclick","originalImageSizeScale","getOrignalImageSizeScale","scale","scaleRadix","scaleExp","rotate","resetScale","handleSwitchPrev","handleSwitchNext","rotateCounterclockwise","rotateClockwise","getMaxScale","heightMaxScale","naturalHeight","widthMaxScale","naturalWidth","heightScale","widthScale","zoomIn","maxScale","pow","zoomOut","originalScale","diff","transition","transformStyle","cssText","resizeToOrignalImageSize","log","setPreviewSrc","setThumbnailEl","withTooltip","tooltipKey","NTooltip","to","keepAliveOnHover","trigger","previewSrc","show","useIsMounted","displayed","handleWheel","handleAfterLeave","Fragment","LazyTeleport","withDirectives","onWheel","Transition","RotateCounterclockwiseIcon","RotateClockwiseIcon","ResizeSmallIcon","ZoomOutIcon","ZoomInIcon","onAfterLeave","onEnter","onBeforeLeave","onDblclick","vShow","zindexable","enabled","imageGroupInjectionKey","imageGroupProps","currentSrc","groupId","createId","vm","getCurrentInstance","previewInstRef","go","proxy","parentElement","imgs","querySelectorAll","img","dataset","prev","NImagePreview","imageProps","alt","imgProps","lazy","intersectionObserverOptions","objectFit","fallbackSrc","previewDisabled","loadDescription","onError","inheritAttrs","imageRef","showErrorRef","imgPropsRef","imageGroupHandle","mergedPreviewSrc","previewInst","setAttribute","stopWatchHandle","loadedRef","showError","shouldStartLoading","loaded","mergedOnError","imgPropsOnError","mergedOnLoad","imgPropsOnLoad","$attrs","placeholderNode","loadSrc","imgNode","display","flex","marginLeft","verticalAlign","opacity","iconMap","success","SuccessCircleIcon","ErrorCircleIcon","warning","WarningIcon","InfoCircleIcon","fillColor","indicatorPlacement","indicatorTextColor","unit","processing","showIndicator","fillBorderRadius","styleHeightRef","formatLength","styleRailBorderRadiusRef","styleFillBorderRadiusRef","maxWidth","lineHeight","color","SuccessIcon","ErrorIcon","InfoIcon","offsetDegree","viewBoxWidth","gapDegree","gapOffsetDegree","getPathStyles","percent","strokeColor","beginPositionX","beginPositionY","endPositionX","endPositionY","centerX","pathString","len","PI","pathStyle","strokeDasharray","strokeDashoffset","railPathString","railPathStyle","fillPathString","fillPathStyle","viewBoxSize","circlePath","sw","vw","circleGap","strokeDasharrayRef","strokeDasharrays","v","p","progressProps","indicatorPosition","mergedIndicatorPlacementRef","gapDeg","progressLight","fontSizeCircle","iconSizeCircle","iconSizeLine","textColorCircle","textColorLineInner","textColorLineOuter","lineBgProcessing","fontWeightCircle","mergedIndicatorPlacement","Circle","Line","MultipleCircle","NFadeInExpandTransition","NProgress","Progress","imageIcon","documentIcon","heightMedium","iconSizeMedium","listType","thumbnailUrlRef","progressStatusRef","buttonTypeRef","showProgressRef","showCancelButtonRef","showRemoveButtonRef","showDownloadButtonRef","showRetryButtonRef","mergedThumbnailUrlRef","showPreviewButtonRef","handleRetryClick","submit","handleRemoveOrCancelClick","handleRemove","handleAbort","warn","handleDownloadClick","handleDownload","xhrMap","doChange","onRemoveRef","onRemove","mergedFileListRef","mergedFileList","fileList","fileAfterChange","remove","onDownloadRef","onDownload","res","xhr","abort","handlePreviewClick","onPreviewRef","onPreview","deriveFileThumbnailUrl","getFileThumbnailUrl","progressStatus","buttonType","showProgress","showCancelButton","showRemoveButton","showDownloadButton","showRetryButton","showPreviewButton","mergedThumbnailUrl","isImageType","isImageCardType","rel","NImage","AttachIcon","progress","NUploadProgress","showName","NButton","quaternary","EyeIcon","TrashIcon","CancelIcon","RetryIcon","DownloadIcon","abstractRef","fileListStyleRef","themeClassRef","showTriggerRef","imageGroupPropsRef","renderFileList","NUploadFile","renderUploadFileList","NImageGroup","group","NUploadTrigger","foldPadding","marginRight","createXhrHandlers","inst","handleXHRError","handleXHRLoad","isErrorState","onFinish","handleXHRAbort","handleXHRProgress","lengthComputable","total","customSubmitImpl","headers","withCredentials","action","customRequest","onProgress","registerHandler","request","handlers","onabort","onerror","onload","upload","onprogress","unwrapFunctionValue","setHeaders","headersObject","setRequestHeader","appendData","formData","dataObject","append","submitImpl","fieldName","method","responseType","XMLHttpRequest","FormData","open","toUpperCase","send","uploadProps","directoryDnd","showFileList","onBeforeUpload","defaultUpload","onUpdateFileList","fileListStyle","defaultFileList","createThumbnailUrl","showTrigger","inputProps","triggerStyle","uploadLight","uncontrolledFileListRef","controlledFileListRef","_mergedFileListRef","handleFileInputChange","doUpdateFileList","_onUpdateFileList","mergedMultipleRef","all","webkitRelativePath","fileInfos","nextTickChain","fileId","filesToUpload","shouldReupload","fileListAfterChange","fileIndex","process","draggerColor","draggerBorder","draggerBorderHover","itemColorHover","itemColorHoverError","itemTextColorError","itemTextColorSuccess","itemTextColor","itemIconColor","itemDisabledOpacity","itemBorderImageCardError","itemBorderImageCard","acceptRef","dragOver","mergedMultiple","firstChild","inputNode","webkitdirectory","Teleport","NUploadFileList","loadList","global","message","useMessage","dialog","useDialog","leftSpin","buildingNode","unitNode","buildingStatus","buildingFormRef","showBuildingModal","submitLoading","buildingRules","area","buildingValue","remark","buildingSubmit","validate","errors","updateBuilding","addBuilding","buildingData","reactive","loadBuilding","axios","api","building","tempData","buildingNo","unitNo","totalFloors","elevator","err","newValue","buildingInfo","toString","substring","deleteBuilding","title","positiveText","negativeText","onPositiveClick","delLoading","destroy","QueryString","updateStatus","apartmentStatus","apartmentFormRef","showApartmentModal","apartmentSubmitLoading","apartmentRules","totalNumberOfLayers","apartmentValue","apartmentSubmit","updateApartment","addApartment","deleteApartment","refreshList","tempHousing","housingModelStatus","housingFormRef","showHousingModal","housingSubmitLoading","housingRules","housesNo","floor","propertyType","rule","Error","housesType","housingValue","room","hall","exquisite","houseType","unitOptionLoading","unitOption","housingSubmit","updateHousing","addHousing","deleteHousing","housing","openHousingModel","showImportPropertyModal","importPropertySubmit","JSON","response","excelCountTotal","successCount","failedCount","openImportProperty","mainSpin","buildingHook","apartmentHook","housingHook","importPropertyHook","houseData","houseDataDisplay","list","pageNo","pages","pageNoUpdate","page","more","params","pageSize","pageNum","statusOptions","housingTypeLoading","housingModelOptions","housingOptions","housingNo","housingStatus","housingType","findClick","resetClick","__exports__"],"sourceRoot":""}